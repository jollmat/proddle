(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179,429],{7128:(tt,A,O)=>{"use strict";O.d(A,{nm:()=>qt});var e=O(5813),P=(O(5e3),O(3692),O(5867),O(5861)),V=O(9681),q=O(4859),W=O(2090),Y=O(1877);const $=new Map,ne={activated:!1,tokenObservers:[]},ae={initialized:!1,enabled:!1};function Ye(ke){return $.get(ke)||ne}function qe(ke,Me){$.set(ke,Me)}function Ge(){return ae}class Ze{constructor(Me,ot,St,Ot,Jt){if(this.operation=Me,this.retryPolicy=ot,this.getWaitDuration=St,this.lowerBound=Ot,this.upperBound=Jt,this.pending=null,this.nextErrorWaitInterval=Ot,Ot>Jt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Me){var ot=this;return(0,P.Z)(function*(){ot.stop();try{ot.pending=new W.BH,yield function Ce(ke){return new Promise(Me=>{setTimeout(Me,ke)})}(ot.getNextRun(Me)),ot.pending.resolve(),yield ot.pending.promise,ot.pending=new W.BH,yield ot.operation(),ot.pending.resolve(),yield ot.pending.promise,ot.process(!0).catch(()=>{})}catch(St){ot.retryPolicy(St)?ot.process(!1).catch(()=>{}):ot.stop()}})()}getNextRun(Me){if(Me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ot=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ot}}}const Ie=new W.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function se(ke){if(!Ye(ke).activated)throw Ie.create("use-before-activation",{appName:ke.name})}function Pe(ke,Me){return de.apply(this,arguments)}function de(){return(de=(0,P.Z)(function*({url:ke,body:Me},ot){const St={"Content-Type":"application/json"},Ot=ot.getImmediate({optional:!0});if(Ot){const Gr=yield Ot.getHeartbeatsHeader();Gr&&(St["X-Firebase-Client"]=Gr)}const Jt={method:"POST",body:JSON.stringify(Me),headers:St};let ar,Mr;try{ar=yield fetch(ke,Jt)}catch(Gr){throw Ie.create("fetch-network-error",{originalErrorMessage:Gr.message})}if(200!==ar.status)throw Ie.create("fetch-status-error",{httpStatus:ar.status});try{Mr=yield ar.json()}catch(Gr){throw Ie.create("fetch-parse-error",{originalErrorMessage:Gr.message})}const pr=Mr.ttl.match(/^([\d.]+)(s)$/);if(!pr||!pr[2]||isNaN(Number(pr[1])))throw Ie.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Mr.ttl}`});const ui=1e3*Number(pr[1]),ss=Date.now();return{token:Mr.attestationToken,expireTimeMillis:ss+ui,issuedAtTimeMillis:ss}})).apply(this,arguments)}function pn(ke,Me){const{projectId:ot,appId:St,apiKey:Ot}=ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${ot}/apps/${St}:exchangeDebugToken?key=${Ot}`,body:{debug_token:Me}}}const At="firebase-app-check-store";let er=null;function Ln(){return er||(er=new Promise((ke,Me)=>{try{const ot=indexedDB.open("firebase-app-check-database",1);ot.onsuccess=St=>{ke(St.target.result)},ot.onerror=St=>{var Ot;Me(Ie.create("storage-open",{originalErrorMessage:null===(Ot=St.target.error)||void 0===Ot?void 0:Ot.message}))},ot.onupgradeneeded=St=>{0===St.oldVersion&&St.target.result.createObjectStore(At,{keyPath:"compositeKey"})}}catch(ot){Me(Ie.create("storage-open",{originalErrorMessage:ot.message}))}}),er)}function Ir(){return(Ir=(0,P.Z)(function*(ke,Me){const St=(yield Ln()).transaction(At,"readwrite"),Jt=St.objectStore(At).put({compositeKey:ke,value:Me});return new Promise((ar,Mr)=>{Jt.onsuccess=pr=>{ar()},St.onerror=pr=>{var ui;Mr(Ie.create("storage-set",{originalErrorMessage:null===(ui=pr.target.error)||void 0===ui?void 0:ui.message}))}})})).apply(this,arguments)}const jr=new Y.Yd("@firebase/app-check");function Fi(ke,Me){return(0,W.hl)()?function ir(ke,Me){return function mr(ke,Me){return Ir.apply(this,arguments)}(function Lr(ke){return`${ke.options.appId}-${ke.name}`}(ke),Me)}(ke,Me).catch(ot=>{jr.warn(`Failed to write token to IndexedDB. Error: ${ot}`)}):Promise.resolve()}function Re(){return Ge().enabled}function Qe(){return ct.apply(this,arguments)}function ct(){return(ct=(0,P.Z)(function*(){const ke=Ge();if(ke.enabled&&ke.token)return ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vt={error:"UNKNOWN_ERROR"};function kt(ke){return W.US.encodeString(JSON.stringify(ke),!1)}function Pt(ke){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,P.Z)(function*(ke,Me=!1){const ot=ke.app;se(ot);const St=Ye(ot);let Jt,Ot=St.token;if(!Ot){const pr=yield St.cachedTokenPromise;pr&&Cn(pr)&&(Ot=pr)}if(!Me&&Ot&&Cn(Ot))return{token:Ot.token};let Mr,ar=!1;if(Re()){St.exchangeTokenPromise||(St.exchangeTokenPromise=Pe(pn(ot,yield Qe()),ke.heartbeatServiceProvider).then(ui=>(St.exchangeTokenPromise=void 0,ui)),ar=!0);const pr=yield St.exchangeTokenPromise;return yield Fi(ot,pr),qe(ot,Object.assign(Object.assign({},St),{token:pr})),{token:pr.token}}try{St.exchangeTokenPromise||(St.exchangeTokenPromise=St.provider.getToken().then(pr=>(St.exchangeTokenPromise=void 0,pr)),ar=!0),Ot=yield St.exchangeTokenPromise}catch(pr){"appCheck/throttled"===pr.code?jr.warn(pr.message):jr.error(pr),Jt=pr}return Ot?(Mr={token:Ot.token},qe(ot,Object.assign(Object.assign({},St),{token:Ot})),yield Fi(ot,Ot)):Mr=Wn(Jt),ar&&Pn(ot,Mr),Mr})).apply(this,arguments)}function mn(ke,Me){const ot=Ye(ke),St=ot.tokenObservers.filter(Ot=>Ot.next!==Me);0===St.length&&ot.tokenRefresher&&ot.tokenRefresher.isRunning()&&ot.tokenRefresher.stop(),qe(ke,Object.assign(Object.assign({},ot),{tokenObservers:St}))}function en(ke){const{app:Me}=ke,ot=Ye(Me);let St=ot.tokenRefresher;St||(St=function Qt(ke){const{app:Me}=ke;return new Ze((0,P.Z)(function*(){let St;if(St=Ye(Me).token?yield Pt(ke,!0):yield Pt(ke),St.error)throw St.error}),()=>!0,()=>{const ot=Ye(Me);if(ot.token){let St=ot.token.issuedAtTimeMillis+.5*(ot.token.expireTimeMillis-ot.token.issuedAtTimeMillis)+3e5;return St=Math.min(St,ot.token.expireTimeMillis-3e5),Math.max(0,St-Date.now())}return 0},3e4,96e4)}(ke),qe(Me,Object.assign(Object.assign({},ot),{tokenRefresher:St}))),!St.isRunning()&&ot.isTokenAutoRefreshEnabled&&St.start()}function Pn(ke,Me){const ot=Ye(ke).tokenObservers;for(const St of ot)try{"EXTERNAL"===St.type&&null!=Me.error?St.error(Me.error):St.next(Me)}catch(Ot){}}function Cn(ke){return ke.expireTimeMillis-Date.now()>0}function Wn(ke){return{token:kt(vt),error:ke}}class Ht{constructor(Me,ot){this.app=Me,this.heartbeatServiceProvider=ot}_delete(){const{tokenObservers:Me}=Ye(this.app);for(const ot of Me)mn(this.app,ot.next);return Promise.resolve()}}const Vt="app-check-internal";!function Ut(){(0,V._registerComponent)(new q.wA("app-check",ke=>function br(ke,Me){return new Ht(ke,Me)}(ke.getProvider("app").getImmediate(),ke.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ke,Me,ot)=>{ke.getProvider(Vt).initialize()})),(0,V._registerComponent)(new q.wA(Vt,ke=>function En(ke){return{getToken:Me=>Pt(ke,Me),addTokenListener:Me=>function Ft(ke,Me,ot,St){const{app:Ot}=ke,Jt=Ye(Ot),ar={next:ot,error:St,type:Me};if(qe(Ot,Object.assign(Object.assign({},Jt),{tokenObservers:[...Jt.tokenObservers,ar]})),Jt.token&&Cn(Jt.token)){const Mr=Jt.token;Promise.resolve().then(()=>{ot({token:Mr.token}),en(ke)}).catch(()=>{})}Jt.cachedTokenPromise.then(()=>en(ke))}(ke,"INTERNAL",Me),removeTokenListener:Me=>mn(ke.app,Me)}}(ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)("@firebase/app-check","0.5.4")}();class qt{constructor(){return(0,e.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(tt,A,O)=>{"use strict";O.d(A,{Ot:()=>R,ZF:()=>le,hX:()=>Ye,z6:()=>P});var e=O(5867),C=O(5e3),E=O(5813);class R{constructor(Ze){return Ze}}class P{constructor(){return(0,e.C6)()}}const W=new C.OlP("angularfire2._apps"),Y={provide:R,useFactory:function q(Ue){return Ue&&1===Ue.length?Ue[0]:new R((0,e.Mq)())},deps:[[new C.FiY,W]]},$={provide:P,deps:[[new C.FiY,W]]};function ne(Ue){return(Ze,Ce)=>{const He=Ze.runOutsideAngular(()=>Ue(Ce));return new R(He)}}let ae=(()=>{class Ue{constructor(Ce){(0,e.KN)("angularfire",E.q4.full,"core"),(0,e.KN)("angularfire",E.q4.full,"app"),(0,e.KN)("angular",C.q4F.full,Ce.toString())}}return Ue.\u0275fac=function(Ce){return new(Ce||Ue)(C.LFG(C.Lbi))},Ue.\u0275mod=C.oAB({type:Ue}),Ue.\u0275inj=C.cJS({providers:[Y,$]}),Ue})();function Ye(Ue,...Ze){return{ngModule:ae,providers:[{provide:W,useFactory:ne(Ue),multi:!0,deps:[C.R0b,C.zs3,E.HU,...Ze]}]}}const le=(0,E.u3)(e.ZF,!0)},2011:(tt,A,O)=>{"use strict";O.d(A,{Dh:()=>q,GT:()=>P,cc:()=>Ye,on:()=>Y,pX:()=>R,xv:()=>W});var e=O(5e3),C=O(127);tt=O.hmd(tt);const E=["ngOnDestroy"],R=(le,Oe,De,rt={})=>new Proxy(le,{get:(Ue,Ze)=>De.runOutsideAngular(()=>{var Ce;if(le[Ze])return(null===(Ce=null==rt?void 0:rt.spy)||void 0===Ce?void 0:Ce.get)&&rt.spy.get(Ze,le[Ze]),le[Ze];if(E.indexOf(Ze)>-1)return()=>{};const He=Oe.toPromise().then(Ie=>{const it=Ie&&Ie[Ze];return"function"==typeof it?it.bind(Ie):it&&it.then?it.then(se=>De.run(()=>se)):De.run(()=>it)});return new Proxy(()=>{},{get:(Ie,it)=>He[it],apply:(Ie,it,se)=>He.then(oe=>{var Q;const ge=oe&&oe(...se);return(null===(Q=null==rt?void 0:rt.spy)||void 0===Q?void 0:Q.apply)&&rt.spy.apply(Ze,se,ge),ge})})})}),P=(le,Oe)=>{Oe.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(rt=>{Object.defineProperty(le.prototype,rt,Object.getOwnPropertyDescriptor(De.prototype||De,rt))})})};class V{constructor(Oe){return Oe}}const q=new e.OlP("angularfire2.app.options"),W=new e.OlP("angularfire2.app.name");function Y(le,Oe,De){const Ue="object"==typeof De&&De||{};Ue.name=Ue.name||"string"==typeof De&&De||"[DEFAULT]";const Ce=C.Z.apps.filter(He=>He&&He.name===Ue.name)[0]||Oe.runOutsideAngular(()=>C.Z.initializeApp(le,Ue));try{JSON.stringify(le)!==JSON.stringify(Ce.options)&&$("error",`${Ce.name} Firebase App already initialized with different options${tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new V(Ce)}const $=(le,...Oe)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[le](...Oe)};function Ye(le,Oe,De,rt,Ue){const[,Ze,Ce]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===le)||[];if(Ze)return function qe(le,Oe){try{return le.toString()===Oe.toString()}catch(De){return le===Oe}}(Ue,Ce)||(lt("error",`${Oe} was already initialized on the ${De} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),lt("warn",{is:Ue,was:Ce})),Ze;{const He=rt();return globalThis.\u0275AngularfireInstanceCache.push([le,He,Ue]),He}}const Ge=!!tt.hot,lt=(le,...Oe)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[le](...Oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2292:(tt,A,O)=>{"use strict";O.d(A,{gg:()=>gs,ET:()=>Kc,hJ:()=>Ys,BS:()=>wh,JU:()=>Ao,ad:()=>Qs,Cm:()=>Ch});var e=O(5813),C=O(5e3),E=O(3692),R=O(5867),P=O(5861),V=O(2090),q=O(9681),W=O(655),Y=O(1877),$=O(4859);const De=function le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new Y.Yd("@firebase/auth");function Ce(S,..._){Ze.logLevel<=Y.in.ERROR&&Ze.error(`Auth (${q.SDK_VERSION}): ${S}`,..._)}function He(S,..._){throw oe(S,..._)}function Ie(S,..._){return oe(S,..._)}function it(S,_,w){const k=Object.assign(Object.assign({},De()),{[_]:w});return new V.LL("auth","Firebase",k).create(_,{appName:S.name})}function oe(S,..._){if("string"!=typeof S){const w=_[0],k=[..._.slice(1)];return k[0]&&(k[0].appName=S.name),S._errorFactory.create(w,...k)}return rt.create(S,..._)}function Q(S,_,...w){if(!S)throw oe(_,...w)}function ge(S){const _="INTERNAL ASSERTION FAILED: "+S;throw Ce(_),new Error(_)}function Pe(S,_){S||ge(_)}const de=new Map;function gt(S){Pe(S instanceof Function,"Expected a class definition");let _=de.get(S);return _?(Pe(_ instanceof S,"Instance stored in cache mismatched with class"),_):(_=new S,de.set(S,_),_)}function At(){var S;return"undefined"!=typeof self&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class Ln{constructor(_,w){this.shortDelay=_,this.longDelay=w,Pe(w>_,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function an(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function mt(){return"http:"===At()||"https:"===At()}()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ir{static initialize(_,w,k){this.fetchImpl=_,w&&(this.headersImpl=w),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qr=new Ln(3e4,6e4);function Ir(S,_,w,k){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,P.Z)(function*(S,_,w,k,ie={}){return Ti(S,ie,(0,P.Z)(function*(){let ve={},ut={};k&&("GET"===_?ut=k:ve={body:JSON.stringify(k)});const Lt=(0,V.xO)(Object.assign({key:S.config.apiKey},ut)).slice(1),yn=yield S._getAdditionalHeaders();return yn["Content-Type"]="application/json",S.languageCode&&(yn["X-Firebase-Locale"]=S.languageCode),ir.fetch()(gn(S,S.config.apiHost,w,Lt),Object.assign({method:_,headers:yn,referrerPolicy:"no-referrer"},ve))}))})).apply(this,arguments)}function Ti(S,_,w){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,P.Z)(function*(S,_,w){S._canInitEmulator=!1;const k=Object.assign(Object.assign({},Yn),_);try{const ie=new Fi(S),ve=yield Promise.race([w(),ie.promise]);ie.clearNetworkTimeout();const ut=yield ve.json();if("needConfirmation"in ut)throw Vr(S,"account-exists-with-different-credential",ut);if(ve.ok&&!("errorMessage"in ut))return ut;{const Lt=ve.ok?ut.errorMessage:ut.error.message,[yn,Bn]=Lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yn)throw Vr(S,"credential-already-in-use",ut);if("EMAIL_EXISTS"===yn)throw Vr(S,"email-already-in-use",ut);const hr=k[yn]||yn.toLowerCase().replace(/[_\s]+/g,"-");if(Bn)throw it(S,hr,Bn);He(S,hr)}}catch(ie){if(ie instanceof V.ZR)throw ie;He(S,"network-request-failed")}})).apply(this,arguments)}function gn(S,_,w,k){const ie=`${_}${w}?${k}`;return S.config.emulator?function vr(S,_){Pe(S.emulator,"Emulator should always be set here");const{url:w}=S.emulator;return _?`${w}${_.startsWith("/")?_.slice(1):_}`:w}(S.config,ie):`${S.config.apiScheme}://${ie}`}class Fi{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((w,k)=>{this.timer=setTimeout(()=>k(Ie(this.auth,"network-request-failed")),qr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vr(S,_,w){const k={appName:S.name};w.email&&(k.email=w.email),w.phoneNumber&&(k.phoneNumber=w.phoneNumber);const ie=Ie(S,_,k);return ie.customData._tokenResponse=w,ie}function Re(){return(Re=(0,P.Z)(function*(S,_){return Ir(S,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Xe(S,_){return vt.apply(this,arguments)}function vt(){return(vt=(0,P.Z)(function*(S,_){return Ir(S,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function kt(S){if(S)try{const _=new Date(Number(S));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Ft(){return(Ft=(0,P.Z)(function*(S,_=!1){const w=(0,V.m9)(S),k=yield w.getIdToken(_),ie=en(k);Q(ie&&ie.exp&&ie.auth_time&&ie.iat,w.auth,"internal-error");const ve="object"==typeof ie.firebase?ie.firebase:void 0,ut=null==ve?void 0:ve.sign_in_provider;return{claims:ie,token:k,authTime:kt(mn(ie.auth_time)),issuedAtTime:kt(mn(ie.iat)),expirationTime:kt(mn(ie.exp)),signInProvider:ut||null,signInSecondFactor:(null==ve?void 0:ve.sign_in_second_factor)||null}})).apply(this,arguments)}function mn(S){return 1e3*Number(S)}function en(S){const[_,w,k]=S.split(".");if(void 0===_||void 0===w||void 0===k)return Ce("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,V.tV)(w);return ie?JSON.parse(ie):(Ce("Failed to decode base64 JWT payload"),null)}catch(ie){return Ce("Caught error parsing JWT payload as JSON",ie),null}}function Pn(S,_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,P.Z)(function*(S,_,w=!1){if(w)return _;try{return yield _}catch(k){throw k instanceof V.ZR&&Wn(k)&&S.auth.currentUser===S&&(yield S.auth.signOut()),k}})).apply(this,arguments)}function Wn({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}class Ht{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var w;if(_){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const ie=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(_=!1){var w=this;if(!this.isRunning)return;const k=this.getInterval(_);this.timerId=setTimeout((0,P.Z)(function*(){yield w.iteration()}),k)}iteration(){var _=this;return(0,P.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w.code&&_.schedule(!0))}_.schedule()})()}}class br{constructor(_,w){this.createdAt=_,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=kt(this.lastLoginAt),this.creationTime=kt(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function En(S){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,P.Z)(function*(S){var _;const w=S.auth,k=yield S.getIdToken(),ie=yield Pn(S,Xe(w,{idToken:k}));Q(null==ie?void 0:ie.users.length,w,"internal-error");const ve=ie.users[0];S._notifyReloadListener(ve);const ut=(null===(_=ve.providerUserInfo)||void 0===_?void 0:_.length)?An(ve.providerUserInfo):[],Lt=Wt(S.providerData,ut),hr=!!S.isAnonymous&&!(S.email&&ve.passwordHash||(null==Lt?void 0:Lt.length)),ai={uid:ve.localId,displayName:ve.displayName||null,photoURL:ve.photoUrl||null,email:ve.email||null,emailVerified:ve.emailVerified||!1,phoneNumber:ve.phoneNumber||null,tenantId:ve.tenantId||null,providerData:Lt,metadata:new br(ve.createdAt,ve.lastLoginAt),isAnonymous:hr};Object.assign(S,ai)})).apply(this,arguments)}function jt(){return(jt=(0,P.Z)(function*(S){const _=(0,V.m9)(S);yield En(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Wt(S,_){return[...S.filter(k=>!_.some(ie=>ie.providerId===k.providerId)),..._]}function An(S){return S.map(_=>{var{providerId:w}=_,k=(0,W._T)(_,["providerId"]);return{providerId:w,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function ye(){return(ye=(0,P.Z)(function*(S,_){const w=yield Ti(S,{},(0,P.Z)(function*(){const k=(0,V.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:ie,apiKey:ve}=S.config,ut=gn(S,ie,"/v1/token",`key=${ve}`),Lt=yield S._getAdditionalHeaders();return Lt["Content-Type"]="application/x-www-form-urlencoded",ir.fetch()(ut,{method:"POST",headers:Lt,body:k})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Q(_.idToken,"internal-error"),Q(void 0!==_.idToken,"internal-error"),Q(void 0!==_.refreshToken,"internal-error");const w="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function Qt(S){const _=en(S);return Q(_,"internal-error"),Q(void 0!==_.exp,"internal-error"),Q(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,w)}getToken(_,w=!1){var k=this;return(0,P.Z)(function*(){return Q(!k.accessToken||k.refreshToken,_,"user-token-expired"),w||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(_,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,w){var k=this;return(0,P.Z)(function*(){const{accessToken:ie,refreshToken:ve,expiresIn:ut}=yield function vn(S,_){return ye.apply(this,arguments)}(_,w);k.updateTokensAndExpiration(ie,ve,Number(ut))})()}updateTokensAndExpiration(_,w,k){this.refreshToken=w||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(_,w){const{refreshToken:k,accessToken:ie,expirationTime:ve}=w,ut=new pe;return k&&(Q("string"==typeof k,"internal-error",{appName:_}),ut.refreshToken=k),ie&&(Q("string"==typeof ie,"internal-error",{appName:_}),ut.accessToken=ie),ve&&(Q("number"==typeof ve,"internal-error",{appName:_}),ut.expirationTime=ve),ut}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return ge("not implemented")}}function me(S,_){Q("string"==typeof S||void 0===S,"internal-error",{appName:_})}class ze{constructor(_){var{uid:w,auth:k,stsTokenManager:ie}=_,ve=(0,W._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ht(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=k,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=ve.displayName||null,this.email=ve.email||null,this.emailVerified=ve.emailVerified||!1,this.phoneNumber=ve.phoneNumber||null,this.photoURL=ve.photoURL||null,this.isAnonymous=ve.isAnonymous||!1,this.tenantId=ve.tenantId||null,this.providerData=ve.providerData?[...ve.providerData]:[],this.metadata=new br(ve.createdAt||void 0,ve.lastLoginAt||void 0)}getIdToken(_){var w=this;return(0,P.Z)(function*(){const k=yield Pn(w,w.stsTokenManager.getToken(w.auth,_));return Q(k,w.auth,"internal-error"),w.accessToken!==k&&(w.accessToken=k,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),k})()}getIdTokenResult(_){return function Ct(S){return Ft.apply(this,arguments)}(this,_)}reload(){return function et(S){return jt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Q(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(w=>Object.assign({},w)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new ze(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,w=!1){var k=this;return(0,P.Z)(function*(){let ie=!1;_.idToken&&_.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(_),ie=!0),w&&(yield En(k)),yield k.auth._persistUserIfCurrent(k),ie&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var _=this;return(0,P.Z)(function*(){const w=yield _.getIdToken();return yield Pn(_,function Zr(S,_){return Re.apply(this,arguments)}(_.auth,{idToken:w})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,w){var k,ie,ve,ut,Lt,yn,Bn,hr;const ai=null!==(k=w.displayName)&&void 0!==k?k:void 0,_s=null!==(ie=w.email)&&void 0!==ie?ie:void 0,Ms=null!==(ve=w.phoneNumber)&&void 0!==ve?ve:void 0,yc=null!==(ut=w.photoURL)&&void 0!==ut?ut:void 0,xd=null!==(Lt=w.tenantId)&&void 0!==Lt?Lt:void 0,Xc=null!==(yn=w._redirectEventId)&&void 0!==yn?yn:void 0,Ad=null!==(Bn=w.createdAt)&&void 0!==Bn?Bn:void 0,Ya=null!==(hr=w.lastLoginAt)&&void 0!==hr?hr:void 0,{uid:Mu,emailVerified:Sh,isAnonymous:Wp,providerData:kl,stsTokenManager:el}=w;Q(Mu&&el,_,"internal-error");const kf=pe.fromJSON(this.name,el);Q("string"==typeof Mu,_,"internal-error"),me(ai,_.name),me(_s,_.name),Q("boolean"==typeof Sh,_,"internal-error"),Q("boolean"==typeof Wp,_,"internal-error"),me(Ms,_.name),me(yc,_.name),me(xd,_.name),me(Xc,_.name),me(Ad,_.name),me(Ya,_.name);const Id=new ze({uid:Mu,auth:_,email:_s,emailVerified:Sh,displayName:ai,isAnonymous:Wp,photoURL:yc,phoneNumber:Ms,tenantId:xd,stsTokenManager:kf,createdAt:Ad,lastLoginAt:Ya});return kl&&Array.isArray(kl)&&(Id.providerData=kl.map(Lf=>Object.assign({},Lf))),Xc&&(Id._redirectEventId=Xc),Id}static _fromIdTokenResponse(_,w,k=!1){return(0,P.Z)(function*(){const ie=new pe;ie.updateFromServerResponse(w);const ve=new ze({uid:w.localId,auth:_,stsTokenManager:ie,isAnonymous:k});return yield En(ve),ve})()}}const Rt=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,P.Z)(function*(){return!0})()}_set(w,k){var ie=this;return(0,P.Z)(function*(){ie.storage[w]=k})()}_get(w){var k=this;return(0,P.Z)(function*(){const ie=k.storage[w];return void 0===ie?null:ie})()}_remove(w){var k=this;return(0,P.Z)(function*(){delete k.storage[w]})()}_addListener(w,k){}_removeListener(w,k){}}return S.type="NONE",S})();function wn(S,_,w){return`firebase:${S}:${_}:${w}`}class On{constructor(_,w,k){this.persistence=_,this.auth=w,this.userKey=k;const{config:ie,name:ve}=this.auth;this.fullUserKey=wn(this.userKey,ie.apiKey,ve),this.fullPersistenceKey=wn("persistence",ie.apiKey,ve),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,P.Z)(function*(){const w=yield _.persistence._get(_.fullUserKey);return w?ze._fromJSON(_.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var w=this;return(0,P.Z)(function*(){if(w.persistence===_)return;const k=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=_,k?w.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,w,k="authUser"){return(0,P.Z)(function*(){if(!w.length)return new On(gt(Rt),_,k);const ie=(yield Promise.all(w.map(function(){var Bn=(0,P.Z)(function*(hr){if(yield hr._isAvailable())return hr});return function(hr){return Bn.apply(this,arguments)}}()))).filter(Bn=>Bn);let ve=ie[0]||gt(Rt);const ut=wn(k,_.config.apiKey,_.name);let Lt=null;for(const Bn of w)try{const hr=yield Bn._get(ut);if(hr){const ai=ze._fromJSON(_,hr);Bn!==ve&&(Lt=ai),ve=Bn;break}}catch(hr){}const yn=ie.filter(Bn=>Bn._shouldAllowMigration);return ve._shouldAllowMigration&&yn.length?(ve=yn[0],Lt&&(yield ve._set(ut,Lt.toJSON())),yield Promise.all(w.map(function(){var Bn=(0,P.Z)(function*(hr){if(hr!==ve)try{yield hr._remove(ut)}catch(ai){}});return function(hr){return Bn.apply(this,arguments)}}())),new On(ve,_,k)):new On(ve,_,k)})()}}function or(S){const _=S.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(function Dn(S=(0,V.z$)()){return/iemobile/i.test(S)}(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(function Gn(S=(0,V.z$)()){return/firefox\//i.test(S)}(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(function Fe(S=(0,V.z$)()){return/blackberry/i.test(S)}(_))return"Blackberry";if(function st(S=(0,V.z$)()){return/webos/i.test(S)}(_))return"Webos";if(function tr(S=(0,V.z$)()){const _=S.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}(_))return"Safari";if((_.includes("chrome/")||function tn(S=(0,V.z$)()){return/crios\//i.test(S)}(_))&&!_.includes("edge/"))return"Chrome";if(function nn(S=(0,V.z$)()){return/android/i.test(S)}(_))return"Android";{const k=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==k?void 0:k.length))return k[1]}return"Other"}function bt(S,_=[]){let w;switch(S){case"Browser":w=or((0,V.z$)());break;case"Worker":w=`${or((0,V.z$)())}-${S}`;break;default:w=S}const k=_.length?_.join(","):"FirebaseCore-web";return`${w}/JsCore/${q.SDK_VERSION}/${k}`}class qt{constructor(_,w,k){this.app=_,this.heartbeatServiceProvider=w,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new on(this),this.idTokenSubscription=new on(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(_,w){var k=this;return w&&(this._popupRedirectResolver=gt(w)),this._initializationPromise=this.queue((0,P.Z)(function*(){var ie,ve;if(!k._deleted&&(k.persistenceManager=yield On.create(k,_),!k._deleted)){if(null===(ie=k._popupRedirectResolver)||void 0===ie?void 0:ie._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch(ut){}yield k.initializeCurrentUser(w),k.lastNotifiedUid=(null===(ve=k.currentUser)||void 0===ve?void 0:ve.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,P.Z)(function*(){if(_._deleted)return;const w=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||w){if(_.currentUser&&w&&_.currentUser.uid===w.uid)return _._currentUser._assign(w),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(w)}})()}initializeCurrentUser(_){var w=this;return(0,P.Z)(function*(){var k;let ie=yield w.assertedPersistence.getCurrentUser();if(_&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const ve=null===(k=w.redirectUser)||void 0===k?void 0:k._redirectEventId,ut=null==ie?void 0:ie._redirectEventId,Lt=yield w.tryRedirectSignIn(_);(!ve||ve===ut)&&(null==Lt?void 0:Lt.user)&&(ie=Lt.user)}return ie?ie._redirectEventId?(Q(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===ie._redirectEventId?w.directlySetCurrentUser(ie):w.reloadAndSetCurrentUserOrClear(ie)):w.reloadAndSetCurrentUserOrClear(ie):w.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var w=this;return(0,P.Z)(function*(){let k=null;try{k=yield w._popupRedirectResolver._completeRedirectFn(w,_,!0)}catch(ie){yield w._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(_){var w=this;return(0,P.Z)(function*(){try{yield En(_)}catch(k){if("auth/network-request-failed"!==k.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function er(){if("undefined"==typeof navigator)return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var _=this;return(0,P.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var w=this;return(0,P.Z)(function*(){const k=_?(0,V.m9)(_):null;return k&&Q(k.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(k&&k._clone(w))})()}_updateCurrentUser(_){var w=this;return(0,P.Z)(function*(){if(!w._deleted)return _&&Q(w.tenantId===_.tenantId,w,"tenant-id-mismatch"),w.queue((0,P.Z)(function*(){yield w.directlySetCurrentUser(_),w.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,P.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var w=this;return this.queue((0,P.Z)(function*(){yield w.assertedPersistence.setPersistence(gt(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new V.LL("auth","Firebase",_())}onAuthStateChanged(_,w,k){return this.registerStateListener(this.authStateSubscription,_,w,k)}onIdTokenChanged(_,w,k){return this.registerStateListener(this.idTokenSubscription,_,w,k)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,w){var k=this;return(0,P.Z)(function*(){const ie=yield k.getOrInitRedirectPersistenceManager(w);return null===_?ie.removeCurrentUser():ie.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var w=this;return(0,P.Z)(function*(){if(!w.redirectPersistenceManager){const k=_&&gt(_)||w._popupRedirectResolver;Q(k,w,"argument-error"),w.redirectPersistenceManager=yield On.create(w,[gt(k._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(_){var w=this;return(0,P.Z)(function*(){var k,ie;return w._isInitialized&&(yield w.queue((0,P.Z)(function*(){}))),(null===(k=w._currentUser)||void 0===k?void 0:k._redirectEventId)===_?w._currentUser:(null===(ie=w.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===_?w.redirectUser:null})()}_persistUserIfCurrent(_){var w=this;return(0,P.Z)(function*(){if(_===w.currentUser)return w.queue((0,P.Z)(function*(){return w.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(w=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,w,k,ie){if(this._deleted)return()=>{};const ve="function"==typeof w?w:w.next.bind(w),ut=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(ut,this,"internal-error"),ut.then(()=>ve(this.currentUser)),"function"==typeof w?_.addObserver(w,k,ie):_.addObserver(w)}directlySetCurrentUser(_){var w=this;return(0,P.Z)(function*(){w.currentUser&&w.currentUser!==_&&(w._currentUser._stopProactiveRefresh(),_&&w.isProactiveRefreshEnabled&&_._startProactiveRefresh()),w.currentUser=_,_?yield w.assertedPersistence.setCurrentUser(_):yield w.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,P.Z)(function*(){var w;const k={"X-Client-Version":_.clientVersion};_.app.options.appId&&(k["X-Firebase-gmpid"]=_.app.options.appId);const ie=yield null===(w=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return ie&&(k["X-Firebase-Client"]=ie),k})()}}class on{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,V.ne)(w=>this.observer=w)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function no(S){return`__${S}${Math.floor(1e6*Math.random())}`})("rcb"),new Ln(3e4,6e4),new Ln(2e3,1e4),new Ln(3e4,6e4),new Ln(5e3,15e3);var yf="@firebase/auth",hd="0.19.10";class Hc{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var w=this;return(0,P.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const w=this.auth.onIdTokenChanged(k=>{var ie;_((null===(ie=k)||void 0===ie?void 0:ie.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,w),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const w=this.internalListeners.get(_);!w||(this.internalListeners.delete(_),w(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function bf(S){(0,q._registerComponent)(new $.wA("auth",(_,{options:w})=>{const k=_.getProvider("app").getImmediate(),ie=_.getProvider("heartbeat"),{apiKey:ve,authDomain:ut}=k.options;return((Lt,yn)=>{Q(ve&&!ve.includes(":"),"invalid-api-key",{appName:Lt.name}),Q(!(null==ut?void 0:ut.includes(":")),"argument-error",{appName:Lt.name});const Bn={apiKey:ve,authDomain:ut,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bt(S)},hr=new qt(Lt,yn,Bn);return function pn(S,_){const w=(null==_?void 0:_.persistence)||[],k=(Array.isArray(w)?w:[w]).map(gt);(null==_?void 0:_.errorMap)&&S._updateErrorMap(_.errorMap),S._initializeWithPersistence(k,null==_?void 0:_.popupRedirectResolver)}(hr,w),hr})(k,ie)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,w,k)=>{_.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new $.wA("auth-internal",_=>{const w=function Xt(S){return(0,V.m9)(S)}(_.getProvider("auth").getImmediate());return new Hc(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(yf,hd,function Mi(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,q.registerVersion)(yf,hd,"esm2017")}("Browser");class Lo{constructor(){return(0,e.vb)("auth")}}var kp=O(7128),io=O(3209),Sf=O(8306),Lp=O(4004),mo={includeMetadataChanges:!1};function Wa(S,_){return void 0===_&&(_={}),function _t(S){return function Wi(S,_){return void 0===_&&(_=mo),new Sf.y(function(w){return{unsubscribe:(0,io.cf)(S,_,{next:w.next.bind(w),error:w.error.bind(w),complete:w.complete.bind(w)})}})}(S,{includeMetadataChanges:!0}).pipe((0,Lp.U)(function(_){return _.docs}))}(S).pipe((0,Lp.U)(function(w){return w.map(function(k){return function vh(S,_){void 0===_&&(_={});var w=S.data();return!S.exists()||"object"!=typeof w||null===w||_.idField&&(w[_.idField]=S.id),w}(k,_)})}))}class gs{constructor(_){return _}}const ms="firestore",Iu=new C.OlP("angularfire2.firestore-instances");function sm(S){return(_,w)=>{const k=_.runOutsideAngular(()=>S(w));return new gs(k)}}const Ri={provide:class If{constructor(){return(0,e.vb)(ms)}},deps:[[new C.FiY,Iu]]},yd={provide:gs,useFactory:function bh(S,_){const w=(0,e.JM)(ms,S,_);return w&&new gs(w)},deps:[[new C.FiY,Iu],E.Ot]};let bd=(()=>{class S{constructor(){(0,R.KN)("angularfire",e.q4.full,"fst")}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275mod=C.oAB({type:S}),S.\u0275inj=C.cJS({providers:[yd,Ri]}),S})();function Ch(S,..._){return{ngModule:bd,providers:[{provide:Iu,useFactory:sm(S),multi:!0,deps:[C.R0b,C.zs3,e.HU,E.z6,[new C.FiY,Lo],[new C.FiY,kp.nm],..._]}]}}const wh=(0,e.u3)(Wa,!0),Kc=(0,e.u3)(io.ET,!0),Ys=(0,e.u3)(io.hJ,!0),Ao=(0,e.u3)(io.JU,!0),Qs=(0,e.u3)(io.ad,!0)},5813:(tt,A,O)=>{"use strict";O.d(A,{q4:()=>Ii,iC:()=>Fc,HU:()=>ma,vb:()=>bu,JM:()=>df,u3:()=>Cu});var e=O(5e3),C=O(5867),E=O(5861),R=O(9681),P=O(2090),V=O(4859),q=O(1877);const W="@firebase/installations",Y="0.5.6",ne=`w:${Y}`,ae="FIS_v2",Oe=new P.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function De(B){return B instanceof P.ZR&&B.code.includes("request-failed")}function rt({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function Ue(B){return{token:B.token,requestStatus:2,expiresIn:oe(B.expiresIn),creationTime:Date.now()}}function Ze(B,j){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,E.Z)(function*(B,j){const Se=(yield j.json()).error;return Oe.create("request-failed",{requestName:B,serverCode:Se.code,serverMessage:Se.message,serverStatus:Se.status})})).apply(this,arguments)}function He({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Ie(B,{refreshToken:j}){const ee=He(B);return ee.append("Authorization",function Q(B){return`${ae} ${B}`}(j)),ee}function it(B){return se.apply(this,arguments)}function se(){return(se=(0,E.Z)(function*(B){const j=yield B();return j.status>=500&&j.status<600?B():j})).apply(this,arguments)}function oe(B){return Number(B.replace("s","000"))}function ge(B,j){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,E.Z)(function*({appConfig:B,heartbeatServiceProvider:j},{fid:ee}){const Se=rt(B),Ke=He(B),dt=j.getImmediate({optional:!0});if(dt){const Hn=yield dt.getHeartbeatsHeader();Hn&&Ke.append("x-firebase-client",Hn)}const Yt={method:"POST",headers:Ke,body:JSON.stringify({fid:ee,authVersion:ae,appId:B.appId,sdkVersion:ne})},ur=yield it(()=>fetch(Se,Yt));if(ur.ok){const Hn=yield ur.json();return{fid:Hn.fid||ee,registrationStatus:2,refreshToken:Hn.refreshToken,authToken:Ue(Hn.authToken)}}throw yield Ze("Create Installation",ur)})).apply(this,arguments)}function de(B){return new Promise(j=>{setTimeout(j,B)})}const Dt=/^[cdef][\w-]{21}$/;function wt(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const ee=function mt(B){return function gt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return Dt.test(ee)?ee:""}catch(B){return""}}function At(B){return`${B.appName}!${B.appId}`}const an=new Map;function er(B,j){const ee=At(B);ir(ee,j),function Yn(B,j){const ee=function mr(){return!qr&&"BroadcastChannel"in self&&(qr=new BroadcastChannel("[Firebase] FID Change"),qr.onmessage=B=>{ir(B.data.key,B.data.fid)}),qr}();ee&&ee.postMessage({key:B,fid:j}),function Ir(){0===an.size&&qr&&(qr.close(),qr=null)}()}(ee,j)}function ir(B,j){const ee=an.get(B);if(ee)for(const Se of ee)Se(j)}let qr=null;const Lr="firebase-installations-store";let jr=null;function Di(){return jr||(jr=(0,P.X3)("firebase-installations-database",1,(B,j)=>{0===j&&B.createObjectStore(Lr)})),jr}function gn(B,j){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,E.Z)(function*(B,j){const ee=At(B),Ke=(yield Di()).transaction(Lr,"readwrite"),dt=Ke.objectStore(Lr),Gt=yield dt.get(ee);return yield dt.put(j,ee),yield Ke.complete,(!Gt||Gt.fid!==j.fid)&&er(B,j.fid),j})).apply(this,arguments)}function Vr(B){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,E.Z)(function*(B){const j=At(B),Se=(yield Di()).transaction(Lr,"readwrite");yield Se.objectStore(Lr).delete(j),yield Se.complete})).apply(this,arguments)}function Re(B,j){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,E.Z)(function*(B,j){const ee=At(B),Ke=(yield Di()).transaction(Lr,"readwrite"),dt=Ke.objectStore(Lr),Gt=yield dt.get(ee),Yt=j(Gt);return void 0===Yt?yield dt.delete(ee):yield dt.put(Yt,ee),yield Ke.complete,Yt&&(!Gt||Gt.fid!==Yt.fid)&&er(B,Yt.fid),Yt})).apply(this,arguments)}function ct(B){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,E.Z)(function*(B){let j;const ee=yield Re(B.appConfig,Se=>{const Ke=vt(Se),dt=kt(B,Ke);return j=dt.registrationPromise,dt.installationEntry});return""===ee.fid?{installationEntry:yield j}:{installationEntry:ee,registrationPromise:j}})).apply(this,arguments)}function vt(B){return Qt(B||{fid:wt(),registrationStatus:0})}function kt(B,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(Oe.create("app-offline"))};const ee={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},Se=function Pt(B,j){return Ct.apply(this,arguments)}(B,ee);return{installationEntry:ee,registrationPromise:Se}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:Ft(B)}:{installationEntry:j}}function Ct(){return(Ct=(0,E.Z)(function*(B,j){try{const ee=yield ge(B,j);return gn(B.appConfig,ee)}catch(ee){throw De(ee)&&409===ee.customData.serverCode?yield Vr(B.appConfig):yield gn(B.appConfig,{fid:j.fid,registrationStatus:0}),ee}})).apply(this,arguments)}function Ft(B){return mn.apply(this,arguments)}function mn(){return(mn=(0,E.Z)(function*(B){let j=yield en(B.appConfig);for(;1===j.registrationStatus;)yield de(100),j=yield en(B.appConfig);if(0===j.registrationStatus){const{installationEntry:ee,registrationPromise:Se}=yield ct(B);return Se||ee}return j})).apply(this,arguments)}function en(B){return Re(B,j=>{if(!j)throw Oe.create("installation-not-found");return Qt(j)})}function Qt(B){return function Pn(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function Cn(B,j){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,E.Z)(function*({appConfig:B,heartbeatServiceProvider:j},ee){const Se=Ht(B,ee),Ke=Ie(B,ee),dt=j.getImmediate({optional:!0});if(dt){const Hn=yield dt.getHeartbeatsHeader();Hn&&Ke.append("x-firebase-client",Hn)}const Yt={method:"POST",headers:Ke,body:JSON.stringify({installation:{sdkVersion:ne,appId:B.appId}})},ur=yield it(()=>fetch(Se,Yt));if(ur.ok)return Ue(yield ur.json());throw yield Ze("Generate Auth Token",ur)})).apply(this,arguments)}function Ht(B,{fid:j}){return`${rt(B)}/${j}/authTokens:generate`}function br(B){return En.apply(this,arguments)}function En(){return(En=(0,E.Z)(function*(B,j=!1){let ee;const Se=yield Re(B.appConfig,dt=>{if(!vn(dt))throw Oe.create("not-registered");const Gt=dt.authToken;if(!j&&ye(Gt))return dt;if(1===Gt.requestStatus)return ee=Tt(B,j),dt;{if(!navigator.onLine)throw Oe.create("app-offline");const Yt=me(dt);return ee=Wt(B,Yt),Yt}});return ee?yield ee:Se.authToken})).apply(this,arguments)}function Tt(B,j){return et.apply(this,arguments)}function et(){return(et=(0,E.Z)(function*(B,j){let ee=yield jt(B.appConfig);for(;1===ee.authToken.requestStatus;)yield de(100),ee=yield jt(B.appConfig);const Se=ee.authToken;return 0===Se.requestStatus?br(B,j):Se})).apply(this,arguments)}function jt(B){return Re(B,j=>{if(!vn(j))throw Oe.create("not-registered");return function ze(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function Wt(B,j){return An.apply(this,arguments)}function An(){return(An=(0,E.Z)(function*(B,j){try{const ee=yield Cn(B,j),Se=Object.assign(Object.assign({},j),{authToken:ee});return yield gn(B.appConfig,Se),ee}catch(ee){if(!De(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const Se=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield gn(B.appConfig,Se)}else yield Vr(B.appConfig);throw ee}})).apply(this,arguments)}function vn(B){return void 0!==B&&2===B.registrationStatus}function ye(B){return 2===B.requestStatus&&!function pe(B){const j=Date.now();return j<B.creationTime||B.creationTime+B.expiresIn<j+36e5}(B)}function me(B){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:j})}function Rt(){return(Rt=(0,E.Z)(function*(B){const j=B,{installationEntry:ee,registrationPromise:Se}=yield ct(j);return Se?Se.catch(console.error):br(j).catch(console.error),ee.fid})).apply(this,arguments)}function On(){return(On=(0,E.Z)(function*(B,j=!1){const ee=B;return yield or(ee),(yield br(ee,j)).token})).apply(this,arguments)}function or(B){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,E.Z)(function*(B){const{registrationPromise:j}=yield ct(B);j&&(yield j)})).apply(this,arguments)}function sr(B){return Oe.create("missing-app-config-values",{valueName:B})}const Vt="installations",Ve=B=>{const j=B.getProvider("app").getImmediate(),ee=function Fn(B){if(!B||!B.options)throw sr("App Configuration");if(!B.name)throw sr("App Name");const j=["projectId","apiKey","appId"];for(const ee of j)if(!B.options[ee])throw sr(ee);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(j);return{app:j,appConfig:ee,heartbeatServiceProvider:(0,R._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},bt=B=>{const j=B.getProvider("app").getImmediate(),ee=(0,R._getProvider)(j,Vt).getImmediate();return{getId:()=>function Le(B){return Rt.apply(this,arguments)}(ee),getToken:Ke=>function wn(B){return On.apply(this,arguments)}(ee,Ke)}};(function qt(){(0,R._registerComponent)(new V.wA(Vt,Ve,"PUBLIC")),(0,R._registerComponent)(new V.wA("installations-internal",bt,"PRIVATE"))})(),(0,R.registerVersion)(W,Y),(0,R.registerVersion)(W,Y,"esm2017");const Xt="@firebase/remote-config",Nn=new P.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ss{constructor(j,ee,Se,Ke){this.client=j,this.storage=ee,this.storageCache=Se,this.logger=Ke}isCachedDataFresh(j,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Se=Date.now()-ee,Ke=Se<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Se}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${Ke}.`),Ke}fetch(j){var ee=this;return(0,E.Z)(function*(){const[Se,Ke]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(Ke&&ee.isCachedDataFresh(j.cacheMaxAgeMillis,Se))return Ke;j.eTag=Ke&&Ke.eTag;const dt=yield ee.client.fetch(j),Gt=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dt.status&&Gt.push(ee.storage.setLastSuccessfulFetchResponse(dt)),yield Promise.all(Gt),dt})()}}function Gr(B=navigator){return B.languages&&B.languages[0]||B.language}class ks{constructor(j,ee,Se,Ke,dt,Gt){this.firebaseInstallations=j,this.sdkVersion=ee,this.namespace=Se,this.projectId=Ke,this.apiKey=dt,this.appId=Gt}fetch(j){var ee=this;return(0,E.Z)(function*(){const[Se,Ke]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),Gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,Yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},ur={sdk_version:ee.sdkVersion,app_instance_id:Se,app_instance_id_token:Ke,app_id:ee.appId,language_code:Gr()},Hn={method:"POST",headers:Yt,body:JSON.stringify(ur)},Nr=fetch(Gt,Hn),zn=new Promise((ho,ni)=>{j.signal.addEventListener(()=>{const pc=new Error("The operation was aborted.");pc.name="AbortError",ni(pc)})});let qi;try{yield Promise.race([Nr,zn]),qi=yield Nr}catch(ho){let ni="fetch-client-network";throw"AbortError"===ho.name&&(ni="fetch-timeout"),Nn.create(ni,{originalErrorMessage:ho.message})}let Oi=qi.status;const fc=qi.headers.get("ETag")||void 0;let Is,uo;if(200===qi.status){let ho;try{ho=yield qi.json()}catch(ni){throw Nn.create("fetch-client-parse",{originalErrorMessage:ni.message})}Is=ho.entries,uo=ho.state}if("INSTANCE_STATE_UNSPECIFIED"===uo?Oi=500:"NO_CHANGE"===uo?Oi=304:("NO_TEMPLATE"===uo||"EMPTY_CONFIG"===uo)&&(Is={}),304!==Oi&&200!==Oi)throw Nn.create("fetch-status",{httpStatus:Oi});return{status:Oi,eTag:fc,config:Is}})()}}class Pa{constructor(j,ee){this.client=j,this.storage=ee}fetch(j){var ee=this;return(0,E.Z)(function*(){const Se=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(j,Se)})()}attemptFetch(j,{throttleEndTimeMillis:ee,backoffCount:Se}){var Ke=this;return(0,E.Z)(function*(){yield function ji(B,j){return new Promise((ee,Se)=>{const Ke=Math.max(j-Date.now(),0),dt=setTimeout(ee,Ke);B.addEventListener(()=>{clearTimeout(dt),Se(Nn.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,ee);try{const dt=yield Ke.client.fetch(j);return yield Ke.storage.deleteThrottleMetadata(),dt}catch(dt){if(!function Ia(B){if(!(B instanceof P.ZR&&B.customData))return!1;const j=Number(B.customData.httpStatus);return 429===j||500===j||503===j||504===j}(dt))throw dt;const Gt={throttleEndTimeMillis:Date.now()+(0,P.$s)(Se),backoffCount:Se+1};return yield Ke.storage.setThrottleMetadata(Gt),Ke.attemptFetch(j,Gt)}})()}}class Ls{constructor(j,ee,Se,Ke,dt){this.app=j,this._client=ee,this._storageCache=Se,this._storage=Ke,this._logger=dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Si(B,j){const ee=B.target.error||void 0;return Nn.create(j,{originalErrorMessage:ee&&ee.message})}const bs="app_namespace_store";class Co{constructor(j,ee,Se,Ke=function Fs(){return new Promise((B,j)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=Se=>{j(Si(Se,"storage-open"))},ee.onsuccess=Se=>{B(Se.target.result)},ee.onupgradeneeded=Se=>{0===Se.oldVersion&&Se.target.result.createObjectStore(bs,{keyPath:"compositeKey"})}}catch(ee){j(Nn.create("storage-open",{originalErrorMessage:ee}))}})}()){this.appId=j,this.appName=ee,this.namespace=Se,this.openDbPromise=Ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var ee=this;return(0,E.Z)(function*(){const Se=yield ee.openDbPromise;return new Promise((Ke,dt)=>{const Yt=Se.transaction([bs],"readonly").objectStore(bs),ur=ee.createCompositeKey(j);try{const Hn=Yt.get(ur);Hn.onerror=Nr=>{dt(Si(Nr,"storage-get"))},Hn.onsuccess=Nr=>{const zn=Nr.target.result;Ke(zn?zn.value:void 0)}}catch(Hn){dt(Nn.create("storage-get",{originalErrorMessage:Hn&&Hn.message}))}})})()}set(j,ee){var Se=this;return(0,E.Z)(function*(){const Ke=yield Se.openDbPromise;return new Promise((dt,Gt)=>{const ur=Ke.transaction([bs],"readwrite").objectStore(bs),Hn=Se.createCompositeKey(j);try{const Nr=ur.put({compositeKey:Hn,value:ee});Nr.onerror=zn=>{Gt(Si(zn,"storage-set"))},Nr.onsuccess=()=>{dt()}}catch(Nr){Gt(Nn.create("storage-set",{originalErrorMessage:Nr&&Nr.message}))}})})()}delete(j){var ee=this;return(0,E.Z)(function*(){const Se=yield ee.openDbPromise;return new Promise((Ke,dt)=>{const Yt=Se.transaction([bs],"readwrite").objectStore(bs),ur=ee.createCompositeKey(j);try{const Hn=Yt.delete(ur);Hn.onerror=Nr=>{dt(Si(Nr,"storage-delete"))},Hn.onsuccess=()=>{Ke()}}catch(Hn){dt(Nn.create("storage-delete",{originalErrorMessage:Hn&&Hn.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class as{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,E.Z)(function*(){const ee=j.storage.getLastFetchStatus(),Se=j.storage.getLastSuccessfulFetchTimestampMillis(),Ke=j.storage.getActiveConfig(),dt=yield ee;dt&&(j.lastFetchStatus=dt);const Gt=yield Se;Gt&&(j.lastSuccessfulFetchTimestampMillis=Gt);const Yt=yield Ke;Yt&&(j.activeConfig=Yt)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function ce(){return be.apply(this,arguments)}function be(){return(be=(0,E.Z)(function*(){if(!(0,P.hl)())return!1;try{return yield(0,P.eu)()}catch(B){return!1}})).apply(this,arguments)}!function No(){(0,R._registerComponent)(new V.wA("remote-config",function B(j,{instanceIdentifier:ee}){const Se=j.getProvider("app").getImmediate(),Ke=j.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Nn.create("registration-window");if(!(0,P.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:dt,apiKey:Gt,appId:Yt}=Se.options;if(!dt)throw Nn.create("registration-project-id");if(!Gt)throw Nn.create("registration-api-key");if(!Yt)throw Nn.create("registration-app-id");const ur=new Co(Yt,Se.name,ee=ee||"firebase"),Hn=new as(ur),Nr=new q.Yd(Xt);Nr.logLevel=q.in.ERROR;const zn=new ks(Ke,R.SDK_VERSION,ee,dt,Gt,Yt),qi=new Pa(zn,ur),Oi=new ss(qi,ur,Hn,Nr),fc=new Ls(Se,Oi,Hn,ur,Nr);return function ke(B){const j=(0,P.m9)(B);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(fc),fc},"PUBLIC").setMultipleInstances(!0)),(0,R.registerVersion)(Xt,"0.3.5"),(0,R.registerVersion)(Xt,"0.3.5","esm2017")}();const re="/firebase-messaging-sw.js",M="/firebase-cloud-messaging-push-scope",U="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",z="google.c.a.c_id",ue="google.c.a.c_l",_e="google.c.a.ts",fe="google.c.a.e";var $e=(()=>{return(B=$e||($e={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",$e;var B})();function J(B){const j=new Uint8Array(B);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function we(B){const ee=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Se=atob(ee),Ke=new Uint8Array(Se.length);for(let dt=0;dt<Se.length;++dt)Ke[dt]=Se.charCodeAt(dt);return Ke}const Ae="fcm_token_details_db",Zt="fcm_token_object_Store";function dn(B){return sn.apply(this,arguments)}function sn(){return sn=(0,E.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dt=>dt.name).includes(Ae))return null;let j=null;return(yield(0,P.X3)(Ae,5,function(){var Se=(0,E.Z)(function*(Ke,dt,Gt,Yt){var ur;if(dt<2||!Ke.objectStoreNames.contains(Zt))return;const Hn=Yt.objectStore(Zt),Nr=yield Hn.index("fcmSenderId").get(B);if(yield Hn.clear(),Nr)if(2===dt){const zn=Nr;if(!zn.auth||!zn.p256dh||!zn.endpoint)return;j={token:zn.fcmToken,createTime:null!==(ur=zn.createTime)&&void 0!==ur?ur:Date.now(),subscriptionOptions:{auth:zn.auth,p256dh:zn.p256dh,endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:"string"==typeof zn.vapidKey?zn.vapidKey:J(zn.vapidKey)}}}else if(3===dt){const zn=Nr;j={token:zn.fcmToken,createTime:zn.createTime,subscriptionOptions:{auth:J(zn.auth),p256dh:J(zn.p256dh),endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:J(zn.vapidKey)}}}else if(4===dt){const zn=Nr;j={token:zn.fcmToken,createTime:zn.createTime,subscriptionOptions:{auth:J(zn.auth),p256dh:J(zn.p256dh),endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:J(zn.vapidKey)}}}});return function(Ke,dt,Gt,Yt){return Se.apply(this,arguments)}}())).close(),yield(0,P.Lj)(Ae),yield(0,P.Lj)("fcm_vapid_details_db"),yield(0,P.Lj)("undefined"),_n(j)?j:null}),sn.apply(this,arguments)}function _n(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:j}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const Fr="firebase-messaging-store";let eo=null;function Bs(){return eo||(eo=(0,P.X3)("firebase-messaging-database",1,(B,j)=>{0===j&&B.createObjectStore(Fr)})),eo}function xr(B){return sc.apply(this,arguments)}function sc(){return(sc=(0,E.Z)(function*(B){const j=ka(B),Se=yield(yield Bs()).transaction(Fr).objectStore(Fr).get(j);if(Se)return Se;{const Ke=yield dn(B.appConfig.senderId);if(Ke)return yield Ma(B,Ke),Ke}})).apply(this,arguments)}function Ma(B,j){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,E.Z)(function*(B,j){const ee=ka(B),Ke=(yield Bs()).transaction(Fr,"readwrite");return yield Ke.objectStore(Fr).put(j,ee),yield Ke.complete,j})).apply(this,arguments)}function Na(B){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,E.Z)(function*(B){const j=ka(B),Se=(yield Bs()).transaction(Fr,"readwrite");yield Se.objectStore(Fr).delete(j),yield Se.complete})).apply(this,arguments)}function ka({appConfig:B}){return B.appId}const Vi=new P.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gl(B,j){return cs.apply(this,arguments)}function cs(){return(cs=(0,E.Z)(function*(B,j){const ee=yield Us(B),Se=$n(j),Ke={method:"POST",headers:ee,body:JSON.stringify(Se)};let dt;try{dt=yield(yield fetch(ls(B.appConfig),Ke)).json()}catch(Gt){throw Vi.create("token-subscribe-failed",{errorInfo:Gt})}if(dt.error)throw Vi.create("token-subscribe-failed",{errorInfo:dt.error.message});if(!dt.token)throw Vi.create("token-subscribe-no-token");return dt.token})).apply(this,arguments)}function co(B,j){return ws.apply(this,arguments)}function ws(){return(ws=(0,E.Z)(function*(B,j){const ee=yield Us(B),Se=$n(j.subscriptionOptions),Ke={method:"PATCH",headers:ee,body:JSON.stringify(Se)};let dt;try{dt=yield(yield fetch(`${ls(B.appConfig)}/${j.token}`,Ke)).json()}catch(Gt){throw Vi.create("token-update-failed",{errorInfo:Gt})}if(dt.error)throw Vi.create("token-update-failed",{errorInfo:dt.error.message});if(!dt.token)throw Vi.create("token-update-no-token");return dt.token})).apply(this,arguments)}function La(B,j){return ac.apply(this,arguments)}function ac(){return(ac=(0,E.Z)(function*(B,j){const Se={method:"DELETE",headers:yield Us(B)};try{const dt=yield(yield fetch(`${ls(B.appConfig)}/${j}`,Se)).json();if(dt.error)throw Vi.create("token-unsubscribe-failed",{errorInfo:dt.error.message})}catch(Ke){throw Vi.create("token-unsubscribe-failed",{errorInfo:Ke})}})).apply(this,arguments)}function ls({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function Us(B){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,E.Z)(function*({appConfig:B,installations:j}){const ee=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function $n({p256dh:B,auth:j,endpoint:ee,vapidKey:Se}){const Ke={web:{endpoint:ee,auth:j,p256dh:B}};return Se!==U&&(Ke.web.applicationPubKey=Se),Ke}const ru=6048e5;function Fa(B){return ca.apply(this,arguments)}function ca(){return(ca=(0,E.Z)(function*(B){const j=yield af(B.swRegistration,B.vapidKey),ee={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:j.endpoint,auth:J(j.getKey("auth")),p256dh:J(j.getKey("p256dh"))},Se=yield xr(B.firebaseDependencies);if(Se){if(ou(Se.subscriptionOptions,ee))return Date.now()>=Se.createTime+ru?iu(B,{token:Se.token,createTime:Date.now(),subscriptionOptions:ee}):Se.token;try{yield La(B.firebaseDependencies,Se.token)}catch(Ke){console.warn(Ke)}return Mt(B.firebaseDependencies,ee)}return Mt(B.firebaseDependencies,ee)})).apply(this,arguments)}function xc(B){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,E.Z)(function*(B){const j=yield xr(B.firebaseDependencies);j&&(yield La(B.firebaseDependencies,j.token),yield Na(B.firebaseDependencies));const ee=yield B.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()})).apply(this,arguments)}function iu(B,j){return la.apply(this,arguments)}function la(){return(la=(0,E.Z)(function*(B,j){try{const ee=yield co(B.firebaseDependencies,j),Se=Object.assign(Object.assign({},j),{token:ee,createTime:Date.now()});return yield Ma(B.firebaseDependencies,Se),ee}catch(ee){throw yield xc(B),ee}})).apply(this,arguments)}function Mt(B,j){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,E.Z)(function*(B,j){const Se={token:yield gl(B,j),createTime:Date.now(),subscriptionOptions:j};return yield Ma(B,Se),Se.token})).apply(this,arguments)}function af(B,j){return ci.apply(this,arguments)}function ci(){return(ci=(0,E.Z)(function*(B,j){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:we(j)})})).apply(this,arguments)}function ou(B,j){return j.vapidKey===B.vapidKey&&j.endpoint===B.endpoint&&j.auth===B.auth&&j.p256dh===B.p256dh}function Ua(B){const j={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function js(B,j){if(!j.notification)return;B.notification={};const ee=j.notification.title;ee&&(B.notification.title=ee);const Se=j.notification.body;Se&&(B.notification.body=Se);const Ke=j.notification.image;Ke&&(B.notification.image=Ke)}(j,B),function Ac(B,j){!j.data||(B.data=j.data)}(j,B),function Qu(B,j){if(!j.fcmOptions)return;B.fcmOptions={};const ee=j.fcmOptions.link;ee&&(B.fcmOptions.link=ee);const Se=j.fcmOptions.analytics_label;Se&&(B.fcmOptions.analyticsLabel=Se)}(j,B),j}function Xu(B){return"object"==typeof B&&!!B&&z in B}function ml(B,j){const ee=[];for(let Se=0;Se<B.length;Se++)ee.push(B.charAt(Se)),Se<j.length&&ee.push(j.charAt(Se));return ee.join("")}function wo(B){return Vi.create("missing-app-config-values",{valueName:B})}ml("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ml("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class To{constructor(j,ee,Se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ke=function su(B){if(!B||!B.options)throw wo("App Configuration Object");if(!B.name)throw wo("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=B;for(const Se of j)if(!ee[Se])throw wo(Se);return{appName:B.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:Ke,installations:ee,analyticsProvider:Se}}_delete(){return Promise.resolve()}}function ua(B){return ja.apply(this,arguments)}function ja(){return(ja=(0,E.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register(re,{scope:M}),B.swRegistration.update().catch(()=>{})}catch(j){throw Vi.create("failed-service-worker-registration",{browserErrorMessage:j.message})}})).apply(this,arguments)}function Vs(B,j){return qo.apply(this,arguments)}function qo(){return(qo=(0,E.Z)(function*(B,j){if(!j&&!B.swRegistration&&(yield ua(B)),j||!B.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw Vi.create("invalid-sw-registration");B.swRegistration=j}})).apply(this,arguments)}function Qd(B,j){return da.apply(this,arguments)}function da(){return(da=(0,E.Z)(function*(B,j){j?B.vapidKey=j:B.vapidKey||(B.vapidKey=U)})).apply(this,arguments)}function cc(){return(cc=(0,E.Z)(function*(B,j){if(!navigator)throw Vi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vi.create("permission-blocked");return yield Qd(B,null==j?void 0:j.vapidKey),yield Vs(B,null==j?void 0:j.serviceWorkerRegistration),Fa(B)})).apply(this,arguments)}function _l(B,j,ee){return Va.apply(this,arguments)}function Va(){return(Va=(0,E.Z)(function*(B,j,ee){const Se=eh(j);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Se,{message_id:ee[z],message_name:ee[ue],message_time:ee[_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function eh(B){switch(B){case $e.NOTIFICATION_CLICKED:return"notification_open";case $e.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function th(){return(th=(0,E.Z)(function*(B,j){const ee=j.data;if(!ee.isFirebaseMessaging)return;B.onMessageHandler&&ee.messageType===$e.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(Ua(ee)):B.onMessageHandler.next(Ua(ee)));const Se=ee.data;Xu(Se)&&"1"===Se[fe]&&(yield _l(B,ee.messageType,Se))})).apply(this,arguments)}const vl="@firebase/messaging",ed=B=>{const j=new To(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function ha(B,j){return th.apply(this,arguments)}(j,ee)),j},au=B=>{const j=B.getProvider("messaging").getImmediate();return{getToken:Se=>function Xd(B,j){return cc.apply(this,arguments)}(j,Se)}};function td(){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,E.Z)(function*(){try{yield(0,P.eu)()}catch(B){return!1}return"undefined"!=typeof window&&(0,P.hl)()&&(0,P.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pc(){(0,R._registerComponent)(new V.wA("messaging",ed,"PUBLIC")),(0,R._registerComponent)(new V.wA("messaging-internal",au,"PRIVATE")),(0,R.registerVersion)(vl,"0.9.10"),(0,R.registerVersion)(vl,"0.9.10","esm2017")}();const uu="analytics",du="firebase_id",hu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Oc="https://www.googletagmanager.com/gtag/js",di=new q.Yd("@firebase/analytics");function yl(B){return Promise.all(B.map(j=>j.catch(ee=>ee)))}function Kg(B,j){const ee=document.createElement("script");ee.src=`${Oc}?l=${B}&id=${j}`,ee.async=!0,document.head.appendChild(ee)}function fu(B,j,ee,Se,Ke,dt){return nd.apply(this,arguments)}function nd(){return(nd=(0,E.Z)(function*(B,j,ee,Se,Ke,dt){const Gt=Se[Ke];try{if(Gt)yield j[Gt];else{const ur=(yield yl(ee)).find(Hn=>Hn.measurementId===Ke);ur&&(yield j[ur.appId])}}catch(Yt){di.error(Yt)}B("config",Ke,dt)})).apply(this,arguments)}function to(B,j,ee,Se,Ke){return ko.apply(this,arguments)}function ko(){return(ko=(0,E.Z)(function*(B,j,ee,Se,Ke){try{let dt=[];if(Ke&&Ke.send_to){let Gt=Ke.send_to;Array.isArray(Gt)||(Gt=[Gt]);const Yt=yield yl(ee);for(const ur of Gt){const Hn=Yt.find(zn=>zn.measurementId===ur),Nr=Hn&&j[Hn.appId];if(!Nr){dt=[];break}dt.push(Nr)}}0===dt.length&&(dt=Object.values(j)),yield Promise.all(dt),B("event",Se,Ke||{})}catch(dt){di.error(dt)}})).apply(this,arguments)}function F_(){const B=window.document.getElementsByTagName("script");for(const j of Object.values(B))if(j.src&&j.src.includes(Oc))return j;return null}const cr=new P.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jn=new class Rn{constructor(j={},ee=1e3){this.throttleMetadata=j,this.intervalMillis=ee}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,ee){this.throttleMetadata[j]=ee}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function rh(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function rn(B){return pt.apply(this,arguments)}function pt(){return(pt=(0,E.Z)(function*(B){var j;const{appId:ee,apiKey:Se}=B,Ke={method:"GET",headers:rh(Se)},dt=hu.replace("{app-id}",ee),Gt=yield fetch(dt,Ke);if(200!==Gt.status&&304!==Gt.status){let Yt="";try{const ur=yield Gt.json();(null===(j=ur.error)||void 0===j?void 0:j.message)&&(Yt=ur.error.message)}catch(ur){}throw cr.create("config-fetch-failed",{httpStatus:Gt.status,responseMessage:Yt})}return Gt.json()})).apply(this,arguments)}function It(B){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,E.Z)(function*(B,j=Jn,ee){const{appId:Se,apiKey:Ke,measurementId:dt}=B.options;if(!Se)throw cr.create("no-app-id");if(!Ke){if(dt)return{measurementId:dt,appId:Se};throw cr.create("no-api-key")}const Gt=j.getThrottleMetadata(Se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yt=new Mc;return setTimeout((0,E.Z)(function*(){Yt.abort()}),void 0!==ee?ee:6e4),_r({appId:Se,apiKey:Ke,measurementId:dt},Gt,Yt,j)})).apply(this,arguments)}function _r(B,j,ee){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,E.Z)(function*(B,{throttleEndTimeMillis:j,backoffCount:ee},Se,Ke=Jn){const{appId:dt,measurementId:Gt}=B;try{yield cf(Se,j)}catch(Yt){if(Gt)return di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${Yt.message}]`),{appId:dt,measurementId:Gt};throw Yt}try{const Yt=yield rn(B);return Ke.deleteThrottleMetadata(dt),Yt}catch(Yt){if(!lf(Yt)){if(Ke.deleteThrottleMetadata(dt),Gt)return di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${Yt.message}]`),{appId:dt,measurementId:Gt};throw Yt}const ur=503===Number(Yt.customData.httpStatus)?(0,P.$s)(ee,Ke.intervalMillis,30):(0,P.$s)(ee,Ke.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+ur,backoffCount:ee+1};return Ke.setThrottleMetadata(dt,Hn),di.debug(`Calling attemptFetch again in ${ur} millis`),_r(B,Hn,Se,Ke)}})).apply(this,arguments)}function cf(B,j){return new Promise((ee,Se)=>{const Ke=Math.max(j-Date.now(),0),dt=setTimeout(ee,Ke);B.addEventListener(()=>{clearTimeout(dt),Se(cr.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function lf(B){if(!(B instanceof P.ZR&&B.customData))return!1;const j=Number(B.customData.httpStatus);return 429===j||500===j||503===j||504===j}class Mc{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}function uf(){return pu.apply(this,arguments)}function pu(){return(pu=(0,E.Z)(function*(){if(!(0,P.hl)())return di.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,P.eu)()}catch(B){return di.warn(cr.create("indexeddb-unavailable",{errorInfo:B}).message),!1}return!0})).apply(this,arguments)}function zs(){return(zs=(0,E.Z)(function*(B,j,ee,Se,Ke,dt,Gt){var Yt;const ur=It(B);ur.then(Oi=>{ee[Oi.measurementId]=Oi.appId,B.options.measurementId&&Oi.measurementId!==B.options.measurementId&&di.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Oi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Oi=>di.error(Oi)),j.push(ur);const Hn=uf().then(Oi=>{if(Oi)return Se.getId()}),[Nr,zn]=yield Promise.all([ur,Hn]);F_()||Kg(dt,Nr.measurementId),Ke("js",new Date);const qi=null!==(Yt=null==Gt?void 0:Gt.config)&&void 0!==Yt?Yt:{};return qi.origin="firebase",qi.update=!0,null!=zn&&(qi[du]=zn),Ke("config",Nr.measurementId,qi),Nr.measurementId})).apply(this,arguments)}class Jr{constructor(j){this.app=j}_delete(){return delete ds[this.app.options.appId],Promise.resolve()}}let ds={},Do=[];const wr={};let Yr,Mn,Ws="dataLayer",mu=!1;function Ga(B,j,ee){!function Ts(){const B=[];if((0,P.ru)()&&B.push("This is a browser extension environment."),(0,P.zI)()||B.push("Cookies are not available."),B.length>0){const j=B.map((Se,Ke)=>`(${Ke+1}) ${Se}`).join(" "),ee=cr.create("invalid-analytics-context",{errorInfo:j});di.warn(ee.message)}}();const Se=B.options.appId;if(!Se)throw cr.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw cr.create("no-api-key");di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ds[Se])throw cr.create("already-exists",{id:Se});if(!mu){!function Zs(B){let j=[];Array.isArray(window[B])?j=window[B]:window[B]=j}(Ws);const{wrappedGtag:dt,gtagCore:Gt}=function bl(B,j,ee,Se,Ke){let dt=function(...Gt){window[Se].push(arguments)};return window[Ke]&&"function"==typeof window[Ke]&&(dt=window[Ke]),window[Ke]=function fa(B,j,ee,Se){function dt(){return(dt=(0,E.Z)(function*(Gt,Yt,ur){try{"event"===Gt?yield to(B,j,ee,Yt,ur):"config"===Gt?yield fu(B,j,ee,Se,Yt,ur):B("set",Yt)}catch(Hn){di.error(Hn)}})).apply(this,arguments)}return function Ke(Gt,Yt,ur){return dt.apply(this,arguments)}}(dt,B,j,ee),{gtagCore:dt,wrappedGtag:window[Ke]}}(ds,Do,wr,Ws,"gtag");Mn=dt,Yr=Gt,mu=!0}return ds[Se]=function lc(B,j,ee,Se,Ke,dt,Gt){return zs.apply(this,arguments)}(B,Do,wr,j,Yr,Ws,ee),new Jr(B)}function _u(){return(_u=(0,E.Z)(function*(B,j,ee,Se,Ke){if(Ke&&Ke.global)B("event",ee,Se);else{const dt=yield j;B("event",ee,Object.assign(Object.assign({},Se),{send_to:dt}))}})).apply(this,arguments)}function zo(){return id.apply(this,arguments)}function id(){return(id=(0,E.Z)(function*(){if((0,P.ru)()||!(0,P.zI)()||!(0,P.hl)())return!1;try{return yield(0,P.eu)()}catch(B){return!1}})).apply(this,arguments)}const yu="@firebase/analytics";!function hc(){(0,R._registerComponent)(new V.wA(uu,(j,{options:ee})=>Ga(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,R._registerComponent)(new V.wA("analytics-internal",function B(j){try{const ee=j.getProvider(uu).getImmediate();return{logEvent:(Se,Ke,dt)=>function hn(B,j,ee,Se){B=(0,P.m9)(B),function $r(B,j,ee,Se,Ke){return _u.apply(this,arguments)}(Mn,ds[B.app.options.appId],j,ee,Se).catch(Ke=>di.error(Ke))}(ee,Se,Ke,dt)}}catch(ee){throw cr.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,R.registerVersion)(yu,"0.7.6"),(0,R.registerVersion)(yu,"0.7.6","esm2017")}();var Es=O(4408),pa=O(7565);const Ss=new class Ai extends pa.v{}(class Ds extends Es.o{constructor(j,ee){super(j,ee),this.scheduler=j,this.work=ee}schedule(j,ee=0){return ee>0?super.schedule(j,ee):(this.delay=ee,this.state=j,this.scheduler.flush(this),this)}execute(j,ee){return ee>0||this.closed?super.execute(j,ee):this._execute(j,ee)}requestAsyncId(j,ee,Se=0){return null!=Se&&Se>0||null==Se&&this.delay>0?super.requestAsyncId(j,ee,Se):j.flush(this)}});var Wo=O(4986),lo=O(8306),Hi=O(8505),$s=O(9468),wl=O(5363);const Ii=new e.GfV("7.2.1"),hs="__angularfire_symbol__analyticsIsSupportedValue",kc="__angularfire_symbol__analyticsIsSupported",ga="__angularfire_symbol__remoteConfigIsSupportedValue",sd="__angularfire_symbol__remoteConfigIsSupported",hi="__angularfire_symbol__messagingIsSupportedValue",Tl="__angularfire_symbol__messagingIsSupported";function df(B,j,ee){if(j){if(1===j.length)return j[0];const dt=j.filter(Gt=>Gt.app===ee);if(1===dt.length)return dt[0]}return ee.container.getProvider(B).getImmediate({optional:!0})}globalThis[kc]||(globalThis[kc]=zo().then(B=>globalThis[hs]=B).catch(()=>globalThis[hs]=!1)),globalThis[Tl]||(globalThis[Tl]=td().then(B=>globalThis[hi]=B).catch(()=>globalThis[hi]=!1)),globalThis[sd]||(globalThis[sd]=ce().then(B=>globalThis[ga]=B).catch(()=>globalThis[ga]=!1));const bu=(B,j)=>{const ee=j?[j]:(0,C.C6)(),Se=[];return ee.forEach(Ke=>{Ke.container.getProvider(B).instances.forEach(Gt=>{Se.includes(Gt)||Se.push(Gt)})}),Se};function Ha(){}class El{constructor(j,ee=Ss){this.zone=j,this.delegate=ee}now(){return this.delegate.now()}schedule(j,ee,Se){const Ke=this.zone;return this.delegate.schedule(function(Gt){Ke.runGuarded(()=>{j.apply(this,[Gt])})},ee,Se)}}class hf{constructor(j){this.zone=j,this.task=null}call(j,ee){const Se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ha,{},Ha,Ha)),ee.pipe((0,Hi.b)({next:Se,complete:Se,error:Se})).subscribe(j).add(Se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ma=(()=>{class B{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=ee.run(()=>new El(Zone.current,Wo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(ee){return new(ee||B)(e.LFG(e.R0b))},B.\u0275prov=e.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function Lc(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function As(B){return Lc().ngZone.runOutsideAngular(()=>B())}function ro(B){return Lc().ngZone.run(()=>B())}function Fc(B){return Lc(),function Dl(B){return function(ee){return(ee=ee.lift(new hf(B.ngZone))).pipe((0,$s.R)(B.outsideAngular),(0,wl.Q)(B.insideAngular))}}(Lc())(B)}const va=(B,j)=>function(){const Se=arguments;return j&&setTimeout(()=>{"scheduled"===j.state&&j.invoke()},10),ro(()=>B.apply(void 0,Se))},Cu=(B,j)=>function(){let ee;const Se=arguments;for(let dt=0;dt<arguments.length;dt++)"function"==typeof Se[dt]&&(j&&(ee||(ee=ro(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ha,{},Ha,Ha)))),Se[dt]=va(Se[dt],ee));const Ke=As(()=>B.apply(this,Se));if(!j){if(Ke instanceof lo.y){const dt=Lc();return Ke.pipe((0,$s.R)(dt.outsideAngular),(0,wl.Q)(dt.insideAngular))}return ro(()=>Ke)}return Ke instanceof lo.y?Ke.pipe(Fc):Ke instanceof Promise?ro(()=>new Promise((dt,Gt)=>Ke.then(Yt=>ro(()=>dt(Yt)),Yt=>ro(()=>Gt(Yt))))):"function"==typeof Ke&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),Ke.apply(this,arguments)}:ro(()=>Ke)}},896:tt=>{window,tt.exports=function(A){var O={};function e(C){if(O[C])return O[C].exports;var E=O[C]={i:C,l:!1,exports:{}};return A[C].call(E.exports,E,E.exports,e),E.l=!0,E.exports}return e.m=A,e.c=O,e.d=function(C,E,R){e.o(C,E)||Object.defineProperty(C,E,{enumerable:!0,get:R})},e.r=function(C){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},e.t=function(C,E){if(1&E&&(C=e(C)),8&E||4&E&&"object"==typeof C&&C&&C.__esModule)return C;var R=Object.create(null);if(e.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:C}),2&E&&"string"!=typeof C)for(var P in C)e.d(R,P,function(V){return C[V]}.bind(null,P));return R},e.n=function(C){var E=C&&C.__esModule?function(){return C.default}:function(){return C};return e.d(E,"a",E),E},e.o=function(C,E){return Object.prototype.hasOwnProperty.call(C,E)},e.p="/",e(e.s=89)}([function(A,O){A.exports=function(e,C,E){return C in e?Object.defineProperty(e,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):e[C]=E,e},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){function e(C){return A.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},A.exports.__esModule=!0,A.exports.default=A.exports,e(C)}A.exports=e,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(e,C){if(!(e instanceof C))throw new TypeError("Cannot call a class as a function")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){function e(C,E){for(var R=0;R<E.length;R++){var P=E[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}A.exports=function(C,E,R){return E&&e(C.prototype,E),R&&e(C,R),Object.defineProperty(C,"prototype",{writable:!1}),C},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){var C=e(20).default,E=e(1);A.exports=function(R,P){if(P&&("object"===C(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return E(R)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){var C=e(41);A.exports=function(E,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(R&&R.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),R&&C(E,R)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){A.exports={EPSILON:e(62),create:e(63),clone:e(156),fromValues:e(157),copy:e(158),set:e(159),equals:e(160),exactEquals:e(161),add:e(162),subtract:e(64),sub:e(163),multiply:e(65),mul:e(164),divide:e(66),div:e(165),inverse:e(166),min:e(167),max:e(168),rotate:e(169),floor:e(170),ceil:e(171),round:e(172),scale:e(173),scaleAndAdd:e(174),distance:e(67),dist:e(175),squaredDistance:e(68),sqrDist:e(176),length:e(69),len:e(177),squaredLength:e(70),sqrLen:e(178),negate:e(179),normalize:e(180),dot:e(181),cross:e(182),lerp:e(183),random:e(184),transformMat2:e(185),transformMat2d:e(186),transformMat3:e(187),transformMat4:e(188),forEach:e(189),limit:e(190)}},function(A,O,e){A.exports=e(224)},function(A,O,e){"use strict";O.a={init:function(C,E){for(var R=C.length;R--;)C[R]=E},shuffle:function(C){for(var E=C.length-1;E>=0;E--){var R=Math.floor(Math.random()*E),P=C[E];C[E]=C[R],C[R]=P}return C},toPointList:function(C){var E=C.reduce(function(R,P){var V="[".concat(P.join(","),"]");return R.push(V),R},[]);return"[".concat(E.join(",\r\n"),"]")},threshold:function(C,E,R){return C.reduce(function(P,V){return R.apply(C,[V])>=E&&P.push(V),P},[])},maxIndex:function(C){for(var E=0,R=0;R<C.length;R++)C[R]>C[E]&&(E=R);return E},max:function(C){for(var E=0,R=0;R<C.length;R++)C[R]>E&&(E=C[R]);return E},sum:function(C){for(var E=C.length,R=0;E--;)R+=C[E];return R}}},function(A,O,e){"use strict";e.d(O,"h",function(){return $}),e.d(O,"i",function(){return ae}),e.d(O,"b",function(){return Ye}),e.d(O,"j",function(){return qe}),e.d(O,"e",function(){return Ge}),e.d(O,"c",function(){return lt}),e.d(O,"f",function(){return le}),e.d(O,"g",function(){return Oe}),e.d(O,"a",function(){return rt}),e.d(O,"d",function(){return Ze});var C=e(7),E=e(84),R={clone:C.clone,dot:C.dot},P=function(Ce,He){var Ie=[],it={rad:0,vec:R.clone([0,0])},se={};function oe(ge){se[ge.id]=ge,Ie.push(ge)}function Q(){var ge,Pe=0;for(ge=0;ge<Ie.length;ge++)Pe+=Ie[ge].rad;it.rad=Pe/Ie.length,it.vec=R.clone([Math.cos(it.rad),Math.sin(it.rad)])}return oe(Ce),Q(),{add:function(ge){se[ge.id]||(oe(ge),Q())},fits:function(ge){return Math.abs(R.dot(ge.point.vec,it.vec))>He},getPoints:function(){return Ie},getCenter:function(){return it}}},V=function(Ce,He,Ie){return{rad:Ce[Ie],point:Ce,id:He}},q=e(9),W={clone:C.clone},Y={clone:E.clone};function $(Ce,He){return{x:Ce,y:He,toVec2:function(){return W.clone([this.x,this.y])},toVec3:function(){return Y.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function ne(Ce,He){He||(He=8);for(var Ie=Ce.data,it=Ie.length,se=8-He,oe=new Int32Array(1<<He);it--;)oe[Ie[it]>>se]++;return oe}function ae(Ce,He){var Ie=function(it){var se,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,Q=8-oe;function ge(Dt,pn){for(var wt=0,mt=Dt;mt<=pn;mt++)wt+=se[mt];return wt}function Pe(Dt,pn){for(var wt=0,mt=Dt;mt<=pn;mt++)wt+=mt*se[mt];return wt}function de(){var Dt,pn,wt,mt,At=[0],an=(1<<oe)-1;se=ne(it,oe);for(var er=1;er<an;er++)0==(wt=(Dt=ge(0,er))*(pn=ge(er+1,an)))&&(wt=1),mt=Pe(0,er)*pn-Pe(er+1,an)*Dt,At[er]=mt*mt/wt;return q.a.maxIndex(At)}return de()<<Q}(Ce);return function(it,se,oe){oe||(oe=it);for(var Q=it.data,ge=Q.length,Pe=oe.data;ge--;)Pe[ge]=Q[ge]<se?1:0}(Ce,Ie,He),Ie}function Ye(Ce,He,Ie){var it,se,oe,Q,ge=[];function Pe(de){var gt=!1;for(se=0;se<ge.length;se++)(oe=ge[se]).fits(de)&&(oe.add(de),gt=!0);return gt}for(Ie||(Ie="rad"),it=0;it<Ce.length;it++)Pe(Q=V(Ce[it],it,Ie))||ge.push(P(Q,He));return ge}function qe(Ce,He,Ie){var it,se,oe,Q,ge=0,Pe=0,de=[];for(it=0;it<He;it++)de[it]={score:0,item:null};for(it=0;it<Ce.length;it++)if((se=Ie.apply(this,[Ce[it]]))>Pe)for((oe=de[ge]).score=se,oe.item=Ce[it],Pe=Number.MAX_VALUE,Q=0;Q<He;Q++)de[Q].score<Pe&&(Pe=de[Q].score,ge=Q);return de}function Ge(Ce,He,Ie){for(var it,se=0,oe=He.x,Q=Math.floor(Ce.length/4),ge=He.x/2,Pe=0,de=He.x;oe<Q;){for(it=0;it<ge;it++)Ie[Pe]=(.299*Ce[4*se+0]+.587*Ce[4*se+1]+.114*Ce[4*se+2]+(.299*Ce[4*(se+1)+0]+.587*Ce[4*(se+1)+1]+.114*Ce[4*(se+1)+2])+(.299*Ce[4*oe+0]+.587*Ce[4*oe+1]+.114*Ce[4*oe+2])+(.299*Ce[4*(oe+1)+0]+.587*Ce[4*(oe+1)+1]+.114*Ce[4*(oe+1)+2]))/4,Pe++,se+=2,oe+=2;se+=de,oe+=de}}function lt(Ce,He,Ie){var it=Ce.length/4|0;if(Ie&&!0===Ie.singleChannel)for(var se=0;se<it;se++)He[se]=Ce[4*se+0];else for(var oe=0;oe<it;oe++)He[oe]=.299*Ce[4*oe+0]+.587*Ce[4*oe+1]+.114*Ce[4*oe+2]}function le(Ce,He){for(var Ie=Ce.data,it=Ce.size.x,se=He.data,oe=0,Q=it,ge=Ie.length,Pe=it/2,de=0;Q<ge;){for(var gt=0;gt<Pe;gt++)se[de]=Math.floor((Ie[oe]+Ie[oe+1]+Ie[Q]+Ie[Q+1])/4),de++,oe+=2,Q+=2;oe+=it,Q+=it}}function Oe(Ce){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],Ie=Ce[0],se=Ce[2],oe=se*Ce[1],Q=oe*(1-Math.abs(Ie/60%2-1)),ge=se-oe,Pe=0,de=0,gt=0;return Ie<60?(Pe=oe,de=Q):Ie<120?(Pe=Q,de=oe):Ie<180?(de=oe,gt=Q):Ie<240?(de=Q,gt=oe):Ie<300?(Pe=Q,gt=oe):Ie<360&&(Pe=oe,gt=Q),He[0]=255*(Pe+ge)|0,He[1]=255*(de+ge)|0,He[2]=255*(gt+ge)|0,He}function De(Ce){for(var He=[],Ie=[],it=1;it<Math.sqrt(Ce)+1;it++)Ce%it==0&&(Ie.push(it),it!==Ce/it&&He.unshift(Math.floor(Ce/it)));return Ie.concat(He)}function rt(Ce,He){var Ie,it=De(He.x),se=De(He.y),oe=Math.max(He.x,He.y),Q=function(wt,mt){for(var At=0,an=0,er=[];At<wt.length&&an<mt.length;)wt[At]===mt[an]?(er.push(wt[At]),At++,an++):wt[At]>mt[an]?an++:At++;return er}(it,se),ge=[8,10,15,20,32,60,80],Pe={"x-small":5,small:4,medium:3,large:2,"x-large":1},de=Pe[Ce]||Pe.medium,gt=ge[de],Dt=Math.floor(oe/gt);function pn(wt){for(var mt=0,At=wt[Math.floor(wt.length/2)];mt<wt.length-1&&wt[mt]<Dt;)mt++;return mt>0&&(At=Math.abs(wt[mt]-Dt)>Math.abs(wt[mt-1]-Dt)?wt[mt-1]:wt[mt]),Dt/At<ge[de+1]/ge[de]&&Dt/At>ge[de-1]/ge[de]?{x:At,y:At}:null}return(Ie=pn(Q))||(Ie=pn(De(oe)))||(Ie=pn(De(Dt*gt))),Ie}var Ue={top:function(Ce,He){return"%"===Ce.unit?Math.floor(He.height*(Ce.value/100)):null},right:function(Ce,He){return"%"===Ce.unit?Math.floor(He.width-He.width*(Ce.value/100)):null},bottom:function(Ce,He){return"%"===Ce.unit?Math.floor(He.height-He.height*(Ce.value/100)):null},left:function(Ce,He){return"%"===Ce.unit?Math.floor(He.width*(Ce.value/100)):null}};function Ze(Ce,He,Ie){var it={width:Ce,height:He},se=Object.keys(Ie).reduce(function(oe,Q){var de,ge=(de=Ie[Q],{value:parseFloat(de),unit:(de.indexOf("%"),"%")}),Pe=Ue[Q](ge,it);return oe[Q]=Pe,oe},{});return{sx:se.left,sy:se.top,sw:se.right-se.left,sh:se.bottom-se.top}}},function(A,O,e){"use strict";var C=e(83),E=e.n(C),R=e(3),P=e.n(R),V=e(4),q=e.n(V),W=e(0),Y=e.n(W),$=e(7),ne=e(10),ae=e(9),Ye={clone:$.clone};function qe(lt){if(lt<0)throw new Error("expected positive number, received ".concat(lt))}var Ge=function(){function lt(le,Oe){var De=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,rt=arguments.length>3?arguments[3]:void 0;P()(this,lt),Y()(this,"data",void 0),Y()(this,"size",void 0),Y()(this,"indexMapping",void 0),Oe?this.data=Oe:(this.data=new De(le.x*le.y),rt&&ae.a.init(this.data,0)),this.size=le}return q()(lt,[{key:"inImageWithBorder",value:function(le){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return qe(Oe),le.x>=0&&le.y>=0&&le.x<this.size.x+2*Oe&&le.y<this.size.y+2*Oe}},{key:"subImageAsCopy",value:function(le,Oe){qe(Oe.x),qe(Oe.y);for(var De=le.size,rt=De.x,Ue=De.y,Ze=0;Ze<rt;Ze++)for(var Ce=0;Ce<Ue;Ce++)le.data[Ce*rt+Ze]=this.data[(Oe.y+Ce)*this.size.x+Oe.x+Ze];return le}},{key:"get",value:function(le,Oe){return this.data[Oe*this.size.x+le]}},{key:"getSafe",value:function(le,Oe){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var De=0;De<this.size.x;De++)this.indexMapping.x[De]=De,this.indexMapping.x[De+this.size.x]=De;for(var rt=0;rt<this.size.y;rt++)this.indexMapping.y[rt]=rt,this.indexMapping.y[rt+this.size.y]=rt}return this.data[this.indexMapping.y[Oe+this.size.y]*this.size.x+this.indexMapping.x[le+this.size.x]]}},{key:"set",value:function(le,Oe,De){return this.data[Oe*this.size.x+le]=De,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var le=this.size,Oe=le.x,De=le.y,rt=0;rt<Oe;rt++)this.data[rt]=this.data[(De-1)*Oe+rt]=0;for(var Ue=1;Ue<De-1;Ue++)this.data[Ue*Oe]=this.data[Ue*Oe+(Oe-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(le){var Oe,De,rt,Ue,Ze,Ce,He,Ie,it,se,oe=this.data,Q=this.size.y,ge=this.size.x,Pe=[],de=[],gt=Math.PI,Dt=gt/4;if(le<=0)return de;for(Ze=0;Ze<le;Ze++)Pe[Ze]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(De=0;De<Q;De++)for(Ue=De*De,Oe=0;Oe<ge;Oe++)(rt=oe[De*ge+Oe])>0&&((Ce=Pe[rt-1]).m00+=1,Ce.m01+=De,Ce.m10+=Oe,Ce.m11+=Oe*De,Ce.m02+=Ue,Ce.m20+=Oe*Oe);for(Ze=0;Ze<le;Ze++)Ce=Pe[Ze],isNaN(Ce.m00)||0===Ce.m00||(se=(Ce.m02/Ce.m00-(it=Ce.m01/Ce.m00)*it-(Ce.m20/Ce.m00-(Ie=Ce.m10/Ce.m00)*Ie))/(2*(He=Ce.m11/Ce.m00-Ie*it)),se=.5*Math.atan(se)+(He>=0?Dt:-Dt)+gt,Ce.theta=(180*se/gt+90)%180-90,Ce.theta<0&&(Ce.theta+=180),Ce.rad=se>gt?se-gt:se,Ce.vec=Ye.clone([Math.cos(se),Math.sin(se)]),de.push(Ce));return de}},{key:"getAsRGBA",value:function(){for(var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,Oe=new Uint8ClampedArray(4*this.size.x*this.size.y),De=0;De<this.size.y;De++)for(var rt=0;rt<this.size.x;rt++){var Ue=De*this.size.x+rt,Ze=this.get(rt,De)*le;Oe[4*Ue+0]=Ze,Oe[4*Ue+1]=Ze,Oe[4*Ue+2]=Ze,Oe[4*Ue+3]=255}return Oe}},{key:"show",value:function(le){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,De=le.getContext("2d");if(!De)throw new Error("Unable to get canvas context");var rt=De.getImageData(0,0,le.width,le.height),Ue=this.getAsRGBA(Oe);le.width=this.size.x,le.height=this.size.y;var Ze=new ImageData(Ue,rt.width,rt.height);De.putImageData(Ze,0,0)}},{key:"overlay",value:function(le,Oe,De){var rt=Oe<0||Oe>360?360:Oe,Ue=[0,1,1],Ze=[0,0,0],Ce=[255,255,255],He=[0,0,0],Ie=le.getContext("2d");if(!Ie)throw new Error("Unable to get canvas context");for(var it=Ie.getImageData(De.x,De.y,this.size.x,this.size.y),se=it.data,oe=this.data.length;oe--;){Ue[0]=this.data[oe]*rt;var Q=4*oe,ge=Ue[0]<=0?Ce:Ue[0]>=360?He:Object(ne.g)(Ue,Ze),Pe=E()(ge,3);se[Q]=Pe[0],se[Q+1]=Pe[1],se[Q+2]=Pe[2],se[Q+3]=255}Ie.putImageData(it,De.x,De.y)}}]),lt}();O.a=Ge},function(A,O){function e(C,E,R,P,V,q,W){try{var Y=C[q](W),$=Y.value}catch(ne){return void R(ne)}Y.done?E($):Promise.resolve($).then(P,V)}A.exports=function(C){return function(){var E=this,R=arguments;return new Promise(function(P,V){var q=C.apply(E,R);function W($){e(q,P,V,W,Y,"next",$)}function Y($){e(q,P,V,W,Y,"throw",$)}W(void 0)})}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){var C=e(225);function E(){return"undefined"!=typeof Reflect&&Reflect.get?(A.exports=E=Reflect.get,A.exports.__esModule=!0,A.exports.default=A.exports):(A.exports=E=function(R,P,V){var q=C(R,P);if(q){var W=Object.getOwnPropertyDescriptor(q,P);return W.get?W.get.call(arguments.length<3?R:V):W.value}},A.exports.__esModule=!0,A.exports.default=A.exports),E.apply(this,arguments)}A.exports=E,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(e){var C=typeof e;return null!=e&&("object"==C||"function"==C)}},function(A,O){A.exports=Array.isArray},function(A,O,e){"use strict";O.a={drawRect:function(C,E,R,P){R.strokeStyle=P.color,R.fillStyle=P.color,R.lineWidth=P.lineWidth||1,R.beginPath(),R.strokeRect(C.x,C.y,E.x,E.y)},drawPath:function(C,E,R,P){R.strokeStyle=P.color,R.fillStyle=P.color,R.lineWidth=P.lineWidth,R.beginPath(),R.moveTo(C[0][E.x],C[0][E.y]);for(var V=1;V<C.length;V++)R.lineTo(C[V][E.x],C[V][E.y]);R.closePath(),R.stroke()},drawImage:function(C,E,R){var P=R.getImageData(0,0,E.x,E.y),V=P.data,q=V.length,W=C.length;if(q/W!=4)return!1;for(;W--;){var Y=C[W];V[--q]=255,V[--q]=Y,V[--q]=Y,V[--q]=Y}return R.putImageData(P,0,0),!0}}},function(A,O,e){var C=e(90),E=e(145)(function(R,P,V){C(R,P,V)});A.exports=E},function(A,O,e){var C=e(45),E="object"==typeof self&&self&&self.Object===Object&&self,R=C||E||Function("return this")();A.exports=R},function(A,O){A.exports=function(e){return null!=e&&"object"==typeof e}},function(A,O){function e(C){return A.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},A.exports.__esModule=!0,A.exports.default=A.exports,e(C)}A.exports=e,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){"use strict";O.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(C,E){var R,P=C.data,V=E.data,q=this.searchDirections,W=C.size.x;function Y(ne,ae,Ye,qe){var Ge,lt,le;for(Ge=0;Ge<7;Ge++){if(P[R=(lt=ne.cy+q[ne.dir][0])*W+(le=ne.cx+q[ne.dir][1])]===ae&&(0===V[R]||V[R]===Ye))return V[R]=Ye,ne.cy=lt,ne.cx=le,!0;0===V[R]&&(V[R]=qe),ne.dir=(ne.dir+1)%8}return!1}function $(ne,ae,Ye){return{dir:Ye,x:ne,y:ae,next:null,prev:null}}return{trace:function(ne,ae,Ye,qe){return Y(ne,ae,Ye,qe)},contourTracing:function(ne,ae,Ye,qe,Ge){return function(lt,le,Oe,De,rt){var Ue,Ze,Ce,He=null,Ie={cx:le,cy:lt,dir:0};if(Y(Ie,De,Oe,rt)){Ue=He=$(le,lt,Ie.dir),Ce=Ie.dir,(Ze=$(Ie.cx,Ie.cy,0)).prev=Ue,Ue.next=Ze,Ze.next=null,Ue=Ze;do{Ie.dir=(Ie.dir+6)%8,Y(Ie,De,Oe,rt),Ce!==Ie.dir?(Ue.dir=Ie.dir,(Ze=$(Ie.cx,Ie.cy,0)).prev=Ue,Ue.next=Ze,Ze.next=null,Ue=Ze):(Ue.dir=Ce,Ue.x=Ie.cx,Ue.y=Ie.cy),Ce=Ie.dir}while(Ie.cx!==le||Ie.cy!==lt);He.prev=Ue.prev,Ue.prev.next=He}return He}(ne,ae,Ye,qe,Ge)}}}}},function(A,O,e){var C=e(27),E=e(103),R=e(104),P=C?C.toStringTag:void 0;A.exports=function(V){return null==V?void 0===V?"[object Undefined]":"[object Null]":P&&P in Object(V)?E(V):R(V)}},function(A,O,e){"use strict";(function(C){var E,R,P,V,q,W,Y,$,ne,ae,Ye,qe,Ge=e(7),lt=e(34),le=e(11),Oe=e(10),De=e(9),rt=(e(16),e(87)),Ue=e(21),Ze=e(88),Ce={ctx:{binary:null},dom:{binary:null}},He={x:0,y:0};function Ie(oe){var Q,ge,Pe,de,gt,Dt,pn,wt=ne.size.x,mt=ne.size.y,At=-ne.size.x,an=-ne.size.y;for(Q=0,ge=0;ge<oe.length;ge++)Q+=(de=oe[ge]).rad;for((Q=(180*(Q/=oe.length)/Math.PI+90)%180-90)<0&&(Q+=180),Q=(180-Q)*Math.PI/180,gt=lt.copy(lt.create(),[Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q)]),ge=0;ge<oe.length;ge++)for(de=oe[ge],Pe=0;Pe<4;Pe++)Ge.transformMat2(de.box[Pe],de.box[Pe],gt);for(ge=0;ge<oe.length;ge++)for(de=oe[ge],Pe=0;Pe<4;Pe++)de.box[Pe][0]<wt&&(wt=de.box[Pe][0]),de.box[Pe][0]>At&&(At=de.box[Pe][0]),de.box[Pe][1]<mt&&(mt=de.box[Pe][1]),de.box[Pe][1]>an&&(an=de.box[Pe][1]);for(Dt=[[wt,mt],[At,mt],[At,an],[wt,an]],pn=E.halfSample?2:1,gt=lt.invert(gt,gt),Pe=0;Pe<4;Pe++)Ge.transformMat2(Dt[Pe],Dt[Pe],gt);for(Pe=0;Pe<4;Pe++)Ge.scale(Dt[Pe],Dt[Pe],pn);return Dt}function it(oe,Q){ne.subImageAsCopy(V,Object(Oe.h)(oe,Q)),qe.skeletonize()}function se(oe,Q,ge,Pe){var de,gt,Dt,pn,wt=[],mt=[],At=Math.ceil(ae.x/3);if(oe.length>=2){for(de=0;de<oe.length;de++)oe[de].m00>At&&wt.push(oe[de]);if(wt.length>=2){for(Dt=function(an){var er=Object(Oe.b)(an,.9),Ln=Object(Oe.j)(er,1,function(qr){return qr.getPoints().length}),vr=[],ir=[];if(1===Ln.length){vr=Ln[0].item.getPoints();for(var Yn=0;Yn<vr.length;Yn++)ir.push(vr[Yn].point)}return ir}(wt),gt=0,de=0;de<Dt.length;de++)gt+=Dt[de].rad;Dt.length>1&&Dt.length>=wt.length/4*3&&Dt.length>oe.length/4&&(gt/=Dt.length,pn={index:Q[1]*He.x+Q[0],pos:{x:ge,y:Pe},box:[Ge.clone([ge,Pe]),Ge.clone([ge+V.size.x,Pe]),Ge.clone([ge+V.size.x,Pe+V.size.y]),Ge.clone([ge,Pe+V.size.y])],moments:Dt,rad:gt,vec:Ge.clone([Math.cos(gt),Math.sin(gt)])},mt.push(pn))}}return mt}O.a={init:function(oe,Q){E=Q,Ye=oe,function(){R=E.halfSample?new le.a({x:Ye.size.x/2|0,y:Ye.size.y/2|0}):Ye,ae=Object(Oe.a)(E.patchSize,R.size),He.x=R.size.x/ae.x|0,He.y=R.size.y/ae.y|0,ne=new le.a(R.size,void 0,Uint8Array,!1),q=new le.a(ae,void 0,Array,!0);var ge=new ArrayBuffer(65536);V=new le.a(ae,new Uint8Array(ge,0,ae.x*ae.y)),P=new le.a(ae,new Uint8Array(ge,ae.x*ae.y*3,ae.x*ae.y),void 0,!0),qe=Object(Ze.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:C,{size:ae.x},ge),$=new le.a({x:R.size.x/V.size.x|0,y:R.size.y/V.size.y|0},void 0,Array,!0),W=new le.a($.size,void 0,void 0,!0),Y=new le.a($.size,void 0,Int32Array,!0)}(),E.useWorker||"undefined"==typeof document||(Ce.dom.binary=document.createElement("canvas"),Ce.dom.binary.className="binaryBuffer",Ce.ctx.binary=Ce.dom.binary.getContext("2d"),Ce.dom.binary.width=ne.size.x,Ce.dom.binary.height=ne.size.y)},locate:function(){E.halfSample&&Object(Oe.f)(Ye,R),Object(Oe.i)(R,ne),ne.zeroBorder();var oe=function(){var Pe,de,gt,Dt,pn,wt,mt=[];for(Pe=0;Pe<He.x;Pe++)for(de=0;de<He.y;de++)it(gt=V.size.x*Pe,Dt=V.size.y*de),P.zeroBorder(),De.a.init(q.data,0),wt=rt.a.create(P,q).rasterize(0),pn=q.moments(wt.count),mt=mt.concat(se(pn,[Pe,de],gt,Dt));return mt}();if(oe.length<He.x*He.y*.05)return null;var Q=function(Pe){var de,gt,Dt=0,pn=0;function wt(){var At;for(At=0;At<Y.data.length;At++)if(0===Y.data[At]&&1===W.data[At])return At;return Y.length}function mt(At){var Ln,vr,ir,Yn=At%Y.size.x,qr=At/Y.size.x|0;if(At<Y.data.length)for(Ln=$.data[At],Y.data[At]=Dt,ir=0;ir<Ue.a.searchDirections.length;ir++)0!==W.data[vr=(qr+Ue.a.searchDirections[ir][0])*Y.size.x+(Yn+Ue.a.searchDirections[ir][1])]?0===Y.data[vr]&&Math.abs(Ge.dot($.data[vr].vec,Ln.vec))>.95&&mt(vr):Y.data[vr]=Number.MAX_VALUE}for(De.a.init(W.data,0),De.a.init(Y.data,0),De.a.init($.data,null),de=0;de<Pe.length;de++)$.data[(gt=Pe[de]).index]=gt,W.data[gt.index]=1;for(W.zeroBorder();(pn=wt())<Y.data.length;)Dt++,mt(pn);return Dt}(oe);if(Q<1)return null;var ge=function(Pe){var de,gt,Dt=[];for(de=0;de<Pe;de++)Dt.push(0);for(gt=Y.data.length;gt--;)Y.data[gt]>0&&Dt[Y.data[gt]-1]++;return(Dt=Dt.map(function(pn,wt){return{val:pn,label:wt+1}})).sort(function(pn,wt){return wt.val-pn.val}),Dt.filter(function(pn){return pn.val>=5})}(Q);return 0===ge.length?null:function(Pe,de){var gt,Dt,wt,mt=[],At=[];for(gt=0;gt<Pe.length;gt++){for(Dt=Y.data.length,mt.length=0;Dt--;)Y.data[Dt]===Pe[gt].label&&mt.push($.data[Dt]);(wt=Ie(mt))&&At.push(wt)}return At}(ge)},checkImageConstraints:function(oe,Q){var ge,Pe,de=oe.getWidth(),gt=oe.getHeight(),Dt=Q.halfSample?.5:1;oe.getConfig().area&&(Pe=Object(Oe.d)(de,gt,oe.getConfig().area),oe.setTopRight({x:Pe.sx,y:Pe.sy}),oe.setCanvasSize({x:de,y:gt}),de=Pe.sw,gt=Pe.sh);var pn={x:Math.floor(de*Dt),y:Math.floor(gt*Dt)};if(ge=Object(Oe.a)(Q.patchSize,pn),oe.setWidth(Math.floor(Math.floor(pn.x/ge.x)*(1/Dt)*ge.x)),oe.setHeight(Math.floor(Math.floor(pn.y/ge.y)*(1/Dt)*ge.y)),oe.getWidth()%ge.x==0&&oe.getHeight()%ge.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(de," )and height (").concat(gt,") must a multiple of ").concat(ge.x))}}}).call(this,e(46))},function(A,O,e){var C=e(92),E=e(93),R=e(94),P=e(95),V=e(96);function q(W){var Y=-1,$=null==W?0:W.length;for(this.clear();++Y<$;){var ne=W[Y];this.set(ne[0],ne[1])}}q.prototype.clear=C,q.prototype.delete=E,q.prototype.get=R,q.prototype.has=P,q.prototype.set=V,A.exports=q},function(A,O,e){var C=e(26);A.exports=function(E,R){for(var P=E.length;P--;)if(C(E[P][0],R))return P;return-1}},function(A,O){A.exports=function(e,C){return e===C||e!=e&&C!=C}},function(A,O,e){var C=e(18).Symbol;A.exports=C},function(A,O,e){var C=e(35)(Object,"create");A.exports=C},function(A,O,e){var C=e(117);A.exports=function(E,R){var P=E.__data__;return C(R)?P["string"==typeof R?"string":"hash"]:P.map}},function(A,O,e){var C=e(132),E=e(19),R=Object.prototype,P=R.hasOwnProperty,V=R.propertyIsEnumerable,q=C(function(){return arguments}())?C:function(W){return E(W)&&P.call(W,"callee")&&!V.call(W,"callee")};A.exports=q},function(A,O){var e=/^(?:0|[1-9]\d*)$/;A.exports=function(C,E){var R=typeof C;return!!(E=null==E?9007199254740991:E)&&("number"==R||"symbol"!=R&&e.test(C))&&C>-1&&C%1==0&&C<E}},function(A,O,e){var C=e(15),E=e(232),R=e(233),P=e(236);A.exports=function(V,q){return C(V)?V:E(V,q)?[V]:R(P(V))}},function(A,O,e){var C=e(226),E=e(227),R=e(60),P=e(228);A.exports=function(V){return C(V)||E(V)||R(V)||P()},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){A.exports={determinant:e(251),transpose:e(252),multiply:e(253),identity:e(254),adjoint:e(255),rotate:e(256),invert:e(257),create:e(258),scale:e(259),copy:e(260),frob:e(261),ldu:e(262)}},function(A,O,e){var C=e(102),E=e(108);A.exports=function(R,P){var V=E(R,P);return C(V)?V:void 0}},function(A,O,e){var C=e(22),E=e(14);A.exports=function(R){if(!E(R))return!1;var P=C(R);return"[object Function]"==P||"[object GeneratorFunction]"==P||"[object AsyncFunction]"==P||"[object Proxy]"==P}},function(A,O,e){var C=e(49);A.exports=function(E,R,P){"__proto__"==R&&C?C(E,R,{configurable:!0,enumerable:!0,value:P,writable:!0}):E[R]=P}},function(A,O){A.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(A,O,e){var C=e(36),E=e(40);A.exports=function(R){return null!=R&&E(R.length)&&!C(R)}},function(A,O){A.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(A,O){function e(C,E){return A.exports=e=Object.setPrototypeOf||function(R,P){return R.__proto__=P,R},A.exports.__esModule=!0,A.exports.default=A.exports,e(C,E)}A.exports=e,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){var C=e(22),E=e(19);A.exports=function(R){return"symbol"==typeof R||E(R)&&"[object Symbol]"==C(R)}},function(A,O,e){var C=e(42);A.exports=function(E){if("string"==typeof E||C(E))return E;var R=E+"";return"0"==R&&1/E==-1/0?"-0":R}},function(A,O,e){var C=e(35)(e(18),"Map");A.exports=C},function(A,O,e){(function(C){A.exports="object"==typeof C&&C&&C.Object===Object&&C}).call(this,e(46))},function(A,O){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(C){"object"==typeof window&&(e=window)}A.exports=e},function(A,O,e){var C=e(109),E=e(116),R=e(118),P=e(119),V=e(120);function q(W){var Y=-1,$=null==W?0:W.length;for(this.clear();++Y<$;){var ne=W[Y];this.set(ne[0],ne[1])}}q.prototype.clear=C,q.prototype.delete=E,q.prototype.get=R,q.prototype.has=P,q.prototype.set=V,A.exports=q},function(A,O,e){var C=e(37),E=e(26);A.exports=function(R,P,V){(void 0!==V&&!E(R[P],V)||void 0===V&&!(P in R))&&C(R,P,V)}},function(A,O,e){var C=e(35),E=function(){try{var R=C(Object,"defineProperty");return R({},"",{}),R}catch(P){}}();A.exports=E},function(A,O,e){var C=e(131)(Object.getPrototypeOf,Object);A.exports=C},function(A,O){var e=Object.prototype;A.exports=function(C){var E=C&&C.constructor;return C===("function"==typeof E&&E.prototype||e)}},function(A,O,e){(function(C){var E=e(18),R=e(134),P=O&&!O.nodeType&&O,V=P&&"object"==typeof C&&C&&!C.nodeType&&C,q=V&&V.exports===P?E.Buffer:void 0;C.exports=(q?q.isBuffer:void 0)||R}).call(this,e(38)(A))},function(A,O,e){var C=e(136),E=e(137),R=e(138),P=R&&R.isTypedArray,V=P?E(P):C;A.exports=V},function(A,O){A.exports=function(e,C){if(("constructor"!==C||"function"!=typeof e[C])&&"__proto__"!=C)return e[C]}},function(A,O,e){var C=e(37),E=e(26),R=Object.prototype.hasOwnProperty;A.exports=function(P,V,q){var W=P[V];R.call(P,V)&&E(W,q)&&(void 0!==q||V in P)||C(P,V,q)}},function(A,O,e){var C=e(141),E=e(143),R=e(39);A.exports=function(P){return R(P)?C(P,!0):E(P)}},function(A,O){A.exports=function(e){return e}},function(A,O,e){var C=e(147),E=Math.max;A.exports=function(R,P,V){return P=E(void 0===P?R.length-1:P,0),function(){for(var q=arguments,W=-1,Y=E(q.length-P,0),$=Array(Y);++W<Y;)$[W]=q[P+W];W=-1;for(var ne=Array(P+1);++W<P;)ne[W]=q[W];return ne[P]=V($),C(R,this,ne)}}},function(A,O,e){var C=e(148),E=e(150)(C);A.exports=E},function(A,O,e){var C=e(61);A.exports=function(E,R){if(E){if("string"==typeof E)return C(E,R);var P=Object.prototype.toString.call(E).slice(8,-1);return"Object"===P&&E.constructor&&(P=E.constructor.name),"Map"===P||"Set"===P?Array.from(E):"Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?C(E,R):void 0}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(e,C){(null==C||C>e.length)&&(C=e.length);for(var E=0,R=new Array(C);E<C;E++)R[E]=e[E];return R},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=1e-6},function(A,O){A.exports=function(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}},function(A,O){A.exports=function(e,C,E){return e[0]=C[0]-E[0],e[1]=C[1]-E[1],e}},function(A,O){A.exports=function(e,C,E){return e[0]=C[0]*E[0],e[1]=C[1]*E[1],e}},function(A,O){A.exports=function(e,C,E){return e[0]=C[0]/E[0],e[1]=C[1]/E[1],e}},function(A,O){A.exports=function(e,C){var E=C[0]-e[0],R=C[1]-e[1];return Math.sqrt(E*E+R*R)}},function(A,O){A.exports=function(e,C){var E=C[0]-e[0],R=C[1]-e[1];return E*E+R*R}},function(A,O){A.exports=function(e){var C=e[0],E=e[1];return Math.sqrt(C*C+E*E)}},function(A,O){A.exports=function(e){var C=e[0],E=e[1];return C*C+E*E}},function(A,O){A.exports=1e-6},function(A,O){A.exports=function(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}},function(A,O){A.exports=function(e,C,E){var R=new Float32Array(3);return R[0]=e,R[1]=C,R[2]=E,R}},function(A,O){A.exports=function(e,C){var E=C[0],R=C[1],P=C[2],V=E*E+R*R+P*P;return V>0&&(V=1/Math.sqrt(V),e[0]=C[0]*V,e[1]=C[1]*V,e[2]=C[2]*V),e}},function(A,O){A.exports=function(e,C){return e[0]*C[0]+e[1]*C[1]+e[2]*C[2]}},function(A,O){A.exports=function(e,C,E){return e[0]=C[0]-E[0],e[1]=C[1]-E[1],e[2]=C[2]-E[2],e}},function(A,O){A.exports=function(e,C,E){return e[0]=C[0]*E[0],e[1]=C[1]*E[1],e[2]=C[2]*E[2],e}},function(A,O){A.exports=function(e,C,E){return e[0]=C[0]/E[0],e[1]=C[1]/E[1],e[2]=C[2]/E[2],e}},function(A,O){A.exports=function(e,C){var E=C[0]-e[0],R=C[1]-e[1],P=C[2]-e[2];return Math.sqrt(E*E+R*R+P*P)}},function(A,O){A.exports=function(e,C){var E=C[0]-e[0],R=C[1]-e[1],P=C[2]-e[2];return E*E+R*R+P*P}},function(A,O){A.exports=function(e){var C=e[0],E=e[1],R=e[2];return Math.sqrt(C*C+E*E+R*R)}},function(A,O){A.exports=function(e){var C=e[0],E=e[1],R=e[2];return C*C+E*E+R*R}},function(A,O,e){var C=e(153),E=e(154),R=e(60),P=e(155);A.exports=function(V,q){return C(V)||E(V,q)||R(V,q)||P()},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){A.exports={EPSILON:e(71),create:e(72),clone:e(191),angle:e(192),fromValues:e(73),copy:e(193),set:e(194),equals:e(195),exactEquals:e(196),add:e(197),subtract:e(76),sub:e(198),multiply:e(77),mul:e(199),divide:e(78),div:e(200),min:e(201),max:e(202),floor:e(203),ceil:e(204),round:e(205),scale:e(206),scaleAndAdd:e(207),distance:e(79),dist:e(208),squaredDistance:e(80),sqrDist:e(209),length:e(81),len:e(210),squaredLength:e(82),sqrLen:e(211),negate:e(212),inverse:e(213),normalize:e(74),dot:e(75),cross:e(214),lerp:e(215),random:e(216),transformMat4:e(217),transformMat3:e(218),transformQuat:e(219),rotateX:e(220),rotateY:e(221),rotateZ:e(222),forEach:e(223)}},function(A,O,e){var C=e(229),E=e(243)(function(R,P){return null==R?{}:C(R,P)});A.exports=E},function(A,O,e){var C=e(2),E=e(41),R=e(248),P=e(249);function V(q){var W="function"==typeof Map?new Map:void 0;return A.exports=V=function(Y){if(null===Y||!R(Y))return Y;if("function"!=typeof Y)throw new TypeError("Super expression must either be null or a function");if(void 0!==W){if(W.has(Y))return W.get(Y);W.set(Y,$)}function $(){return P(Y,arguments,C(this).constructor)}return $.prototype=Object.create(Y.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),E($,Y)},A.exports.__esModule=!0,A.exports.default=A.exports,V(q)}A.exports=V,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){"use strict";var C=e(21),E={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(R,P){var V=R.data,q=P.data,W=R.size.x,Y=R.size.y,$=C.a.create(R,P);return{rasterize:function(ne){var ae,Ye,qe,Ge,lt,le,Oe,De,rt,Ue,Ze,Ce,He=[],Ie=0;for(Ce=0;Ce<400;Ce++)He[Ce]=0;for(He[0]=V[0],rt=null,le=1;le<Y-1;le++)for(Ge=0,Ye=He[0],lt=1;lt<W-1;lt++)if(0===q[Ze=le*W+lt])if((ae=V[Ze])!==Ye){if(0===Ge)He[qe=Ie+1]=ae,Ye=ae,null!==(Oe=$.contourTracing(le,lt,qe,ae,E.DIR.OUTSIDE_EDGE))&&(Ie++,Ge=qe,(De=E.createContour2D()).dir=E.CONTOUR_DIR.CW_DIR,De.index=Ge,De.firstVertex=Oe,De.nextpeer=rt,De.insideContours=null,null!==rt&&(rt.prevpeer=De),rt=De);else if(null!==(Oe=$.contourTracing(le,lt,E.DIR.INSIDE_EDGE,ae,Ge))){for((De=E.createContour2D()).firstVertex=Oe,De.insideContours=null,De.dir=0===ne?E.CONTOUR_DIR.CCW_DIR:E.CONTOUR_DIR.CW_DIR,De.index=ne,Ue=rt;null!==Ue&&Ue.index!==Ge;)Ue=Ue.nextpeer;null!==Ue&&(De.nextpeer=Ue.insideContours,null!==Ue.insideContours&&(Ue.insideContours.prevpeer=De),Ue.insideContours=De)}}else q[Ze]=Ge;else q[Ze]===E.DIR.OUTSIDE_EDGE||q[Ze]===E.DIR.INSIDE_EDGE?(Ge=0,Ye=q[Ze]===E.DIR.INSIDE_EDGE?V[Ze]:He[0]):Ye=He[Ge=q[Ze]];for(Ue=rt;null!==Ue;)Ue.index=ne,Ue=Ue.nextpeer;return{cc:rt,count:Ie}},debug:{drawContour:function(ne,ae){var Ye,qe,Ge,lt=ne.getContext("2d"),le=ae;for(lt.strokeStyle="red",lt.fillStyle="red",lt.lineWidth=1,Ye=null!==le?le.insideContours:null;null!==le;){switch(null!==Ye?(qe=Ye,Ye=Ye.nextpeer):(qe=le,Ye=null!==(le=le.nextpeer)?le.insideContours:null),qe.dir){case E.CONTOUR_DIR.CW_DIR:lt.strokeStyle="red";break;case E.CONTOUR_DIR.CCW_DIR:lt.strokeStyle="blue";break;case E.CONTOUR_DIR.UNKNOWN_DIR:lt.strokeStyle="green"}Ge=qe.firstVertex,lt.beginPath(),lt.moveTo(Ge.x,Ge.y);do{lt.lineTo((Ge=Ge.next).x,Ge.y)}while(Ge!==qe.firstVertex);lt.stroke()}}}}}};O.a=E},function(A,O,e){"use strict";O.a=function(C,E,R){var P=new C.Uint8Array(R),V=0|E.size,q=C.Math.imul;function W(le,Oe){le|=0,Oe|=0;var De=0,rt=0,Ze=0,Ce=0,He=0,Ie=0,it=0;for(De=1;(0|De)<(V-1|0);De=De+1|0)for(it=it+V|0,rt=1;(0|rt)<(V-1|0);rt=rt+1|0)P[Oe+it+rt|0]=5==(0|(0|P[le+(Ze=it-V|0)+(He=rt-1|0)|0])+(0|P[le+Ze+(Ie=rt+1|0)|0])+(0|P[le+it+rt|0])+(0|P[le+(Ce=it+V|0)+He|0])+(0|P[le+Ce+Ie|0]))?1:0}function Y(le,Oe,De){le|=0,Oe|=0,De|=0;var rt=0;for(rt=0|q(V,V);(0|rt)>0;)P[De+(rt=rt-1|0)|0]=(0|P[le+rt|0])-(0|P[Oe+rt|0])|0}function $(le,Oe,De){le|=0,Oe|=0,De|=0;var rt=0;for(rt=0|q(V,V);(0|rt)>0;)P[De+(rt=rt-1|0)|0]=0|P[le+rt|0]|P[Oe+rt|0]|0}function ne(le){le|=0;var Oe=0,De=0;for(De=0|q(V,V);(0|De)>0;)Oe=(0|Oe)+(0|P[le+(De=De-1|0)|0])|0;return 0|Oe}function Ye(le,Oe){le|=0,Oe|=0;var De=0,rt=0,Ze=0,Ce=0,He=0,Ie=0,it=0;for(De=1;(0|De)<(V-1|0);De=De+1|0)for(it=it+V|0,rt=1;(0|rt)<(V-1|0);rt=rt+1|0)P[Oe+it+rt|0]=(0|(0|P[le+(Ze=it-V|0)+(He=rt-1|0)|0])+(0|P[le+Ze+(Ie=rt+1|0)|0])+(0|P[le+it+rt|0])+(0|P[le+(Ce=it+V|0)+He|0])+(0|P[le+Ce+Ie|0]))>0?1:0}function qe(le,Oe){le|=0,Oe|=0;var De=0;for(De=0|q(V,V);(0|De)>0;)P[Oe+(De=De-1|0)|0]=0|P[le+De|0]}return{skeletonize:function lt(){var Oe,De,rt,Ze=0;(function ae(le,Oe){le|=0,Oe|=0;var De=0;for(De=0|q(V,V);(0|De)>0;)P[le+(De=De-1|0)|0]=Oe})(rt=(De=(Oe=0|q(V,V))+Oe|0)+Oe|0,0),function Ge(le){le|=0;var Oe=0,De=0;for(Oe=0;(0|Oe)<(V-1|0);Oe=Oe+1|0)P[le+Oe|0]=0,P[le+De|0]=0,P[le+(De=De+V-1|0)|0]=0,De=De+1|0;for(Oe=0;(0|Oe)<(0|V);Oe=Oe+1|0)P[le+De|0]=0,De=De+1|0}(0);do{W(0,Oe),Ye(Oe,De),Y(0,De,De),$(rt,De,rt),qe(Oe,0),Ze=0==(0|ne(0))|0}while(!Ze)}}}},function(A,O,e){A.exports=e(263)},function(A,O,e){var C=e(91),E=e(48),R=e(121),P=e(123),V=e(14),q=e(56),W=e(54);A.exports=function Y($,ne,ae,Ye,qe){$!==ne&&R(ne,function(Ge,lt){if(qe||(qe=new C),V(Ge))P($,ne,lt,ae,Y,Ye,qe);else{var le=Ye?Ye(W($,lt),Ge,lt+"",$,ne,qe):void 0;void 0===le&&(le=Ge),E($,lt,le)}},q)}},function(A,O,e){var C=e(24),E=e(97),R=e(98),P=e(99),V=e(100),q=e(101);function W(Y){var $=this.__data__=new C(Y);this.size=$.size}W.prototype.clear=E,W.prototype.delete=R,W.prototype.get=P,W.prototype.has=V,W.prototype.set=q,A.exports=W},function(A,O){A.exports=function(){this.__data__=[],this.size=0}},function(A,O,e){var C=e(25),E=Array.prototype.splice;A.exports=function(R){var P=this.__data__,V=C(P,R);return!(V<0||(V==P.length-1?P.pop():E.call(P,V,1),--this.size,0))}},function(A,O,e){var C=e(25);A.exports=function(E){var R=this.__data__,P=C(R,E);return P<0?void 0:R[P][1]}},function(A,O,e){var C=e(25);A.exports=function(E){return C(this.__data__,E)>-1}},function(A,O,e){var C=e(25);A.exports=function(E,R){var P=this.__data__,V=C(P,E);return V<0?(++this.size,P.push([E,R])):P[V][1]=R,this}},function(A,O,e){var C=e(24);A.exports=function(){this.__data__=new C,this.size=0}},function(A,O){A.exports=function(e){var C=this.__data__,E=C.delete(e);return this.size=C.size,E}},function(A,O){A.exports=function(e){return this.__data__.get(e)}},function(A,O){A.exports=function(e){return this.__data__.has(e)}},function(A,O,e){var C=e(24),E=e(44),R=e(47);A.exports=function(P,V){var q=this.__data__;if(q instanceof C){var W=q.__data__;if(!E||W.length<199)return W.push([P,V]),this.size=++q.size,this;q=this.__data__=new R(W)}return q.set(P,V),this.size=q.size,this}},function(A,O,e){var C=e(36),E=e(105),R=e(14),P=e(107),V=/^\[object .+?Constructor\]$/,ne=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");A.exports=function(ae){return!(!R(ae)||E(ae))&&(C(ae)?ne:V).test(P(ae))}},function(A,O,e){var C=e(27),E=Object.prototype,R=E.hasOwnProperty,P=E.toString,V=C?C.toStringTag:void 0;A.exports=function(q){var W=R.call(q,V),Y=q[V];try{q[V]=void 0;var $=!0}catch(ae){}var ne=P.call(q);return $&&(W?q[V]=Y:delete q[V]),ne}},function(A,O){var e=Object.prototype.toString;A.exports=function(C){return e.call(C)}},function(A,O,e){var C,E=e(106),R=(C=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";A.exports=function(P){return!!R&&R in P}},function(A,O,e){var C=e(18)["__core-js_shared__"];A.exports=C},function(A,O){var e=Function.prototype.toString;A.exports=function(C){if(null!=C){try{return e.call(C)}catch(E){}try{return C+""}catch(E){}}return""}},function(A,O){A.exports=function(e,C){return null==e?void 0:e[C]}},function(A,O,e){var C=e(110),E=e(24),R=e(44);A.exports=function(){this.size=0,this.__data__={hash:new C,map:new(R||E),string:new C}}},function(A,O,e){var C=e(111),E=e(112),R=e(113),P=e(114),V=e(115);function q(W){var Y=-1,$=null==W?0:W.length;for(this.clear();++Y<$;){var ne=W[Y];this.set(ne[0],ne[1])}}q.prototype.clear=C,q.prototype.delete=E,q.prototype.get=R,q.prototype.has=P,q.prototype.set=V,A.exports=q},function(A,O,e){var C=e(28);A.exports=function(){this.__data__=C?C(null):{},this.size=0}},function(A,O){A.exports=function(e){var C=this.has(e)&&delete this.__data__[e];return this.size-=C?1:0,C}},function(A,O,e){var C=e(28),E=Object.prototype.hasOwnProperty;A.exports=function(R){var P=this.__data__;if(C){var V=P[R];return"__lodash_hash_undefined__"===V?void 0:V}return E.call(P,R)?P[R]:void 0}},function(A,O,e){var C=e(28),E=Object.prototype.hasOwnProperty;A.exports=function(R){var P=this.__data__;return C?void 0!==P[R]:E.call(P,R)}},function(A,O,e){var C=e(28);A.exports=function(E,R){var P=this.__data__;return this.size+=this.has(E)?0:1,P[E]=C&&void 0===R?"__lodash_hash_undefined__":R,this}},function(A,O,e){var C=e(29);A.exports=function(E){var R=C(this,E).delete(E);return this.size-=R?1:0,R}},function(A,O){A.exports=function(e){var C=typeof e;return"string"==C||"number"==C||"symbol"==C||"boolean"==C?"__proto__"!==e:null===e}},function(A,O,e){var C=e(29);A.exports=function(E){return C(this,E).get(E)}},function(A,O,e){var C=e(29);A.exports=function(E){return C(this,E).has(E)}},function(A,O,e){var C=e(29);A.exports=function(E,R){var P=C(this,E),V=P.size;return P.set(E,R),this.size+=P.size==V?0:1,this}},function(A,O,e){var C=e(122)();A.exports=C},function(A,O){A.exports=function(e){return function(C,E,R){for(var P=-1,V=Object(C),q=R(C),W=q.length;W--;){var Y=q[e?W:++P];if(!1===E(V[Y],Y,V))break}return C}}},function(A,O,e){var C=e(48),E=e(124),R=e(125),P=e(128),V=e(129),q=e(30),W=e(15),Y=e(133),$=e(52),ne=e(36),ae=e(14),Ye=e(135),qe=e(53),Ge=e(54),lt=e(139);A.exports=function(le,Oe,De,rt,Ue,Ze,Ce){var He=Ge(le,De),Ie=Ge(Oe,De),it=Ce.get(Ie);if(it)C(le,De,it);else{var se=Ze?Ze(He,Ie,De+"",le,Oe,Ce):void 0,oe=void 0===se;if(oe){var Q=W(Ie),ge=!Q&&$(Ie),Pe=!Q&&!ge&&qe(Ie);se=Ie,Q||ge||Pe?W(He)?se=He:Y(He)?se=P(He):ge?(oe=!1,se=E(Ie,!0)):Pe?(oe=!1,se=R(Ie,!0)):se=[]:Ye(Ie)||q(Ie)?(se=He,q(He)?se=lt(He):ae(He)&&!ne(He)||(se=V(Ie))):oe=!1}oe&&(Ce.set(Ie,se),Ue(se,Ie,rt,Ze,Ce),Ce.delete(Ie)),C(le,De,se)}}},function(A,O,e){(function(C){var E=e(18),R=O&&!O.nodeType&&O,P=R&&"object"==typeof C&&C&&!C.nodeType&&C,V=P&&P.exports===R?E.Buffer:void 0,q=V?V.allocUnsafe:void 0;C.exports=function(W,Y){if(Y)return W.slice();var $=W.length,ne=q?q($):new W.constructor($);return W.copy(ne),ne}}).call(this,e(38)(A))},function(A,O,e){var C=e(126);A.exports=function(E,R){var P=R?C(E.buffer):E.buffer;return new E.constructor(P,E.byteOffset,E.length)}},function(A,O,e){var C=e(127);A.exports=function(E){var R=new E.constructor(E.byteLength);return new C(R).set(new C(E)),R}},function(A,O,e){var C=e(18).Uint8Array;A.exports=C},function(A,O){A.exports=function(e,C){var E=-1,R=e.length;for(C||(C=Array(R));++E<R;)C[E]=e[E];return C}},function(A,O,e){var C=e(130),E=e(50),R=e(51);A.exports=function(P){return"function"!=typeof P.constructor||R(P)?{}:C(E(P))}},function(A,O,e){var C=e(14),E=Object.create,R=function(){function P(){}return function(V){if(!C(V))return{};if(E)return E(V);P.prototype=V;var q=new P;return P.prototype=void 0,q}}();A.exports=R},function(A,O){A.exports=function(e,C){return function(E){return e(C(E))}}},function(A,O,e){var C=e(22),E=e(19);A.exports=function(R){return E(R)&&"[object Arguments]"==C(R)}},function(A,O,e){var C=e(39),E=e(19);A.exports=function(R){return E(R)&&C(R)}},function(A,O){A.exports=function(){return!1}},function(A,O,e){var C=e(22),E=e(50),R=e(19),q=Function.prototype.toString,W=Object.prototype.hasOwnProperty,Y=q.call(Object);A.exports=function($){if(!R($)||"[object Object]"!=C($))return!1;var ne=E($);if(null===ne)return!0;var ae=W.call(ne,"constructor")&&ne.constructor;return"function"==typeof ae&&ae instanceof ae&&q.call(ae)==Y}},function(A,O,e){var C=e(22),E=e(40),R=e(19),P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Arguments]"]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object Boolean]"]=P["[object DataView]"]=P["[object Date]"]=P["[object Error]"]=P["[object Function]"]=P["[object Map]"]=P["[object Number]"]=P["[object Object]"]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object WeakMap]"]=!1,A.exports=function(V){return R(V)&&E(V.length)&&!!P[C(V)]}},function(A,O){A.exports=function(e){return function(C){return e(C)}}},function(A,O,e){(function(C){var E=e(45),R=O&&!O.nodeType&&O,P=R&&"object"==typeof C&&C&&!C.nodeType&&C,V=P&&P.exports===R&&E.process,q=function(){try{return P&&P.require&&P.require("util").types||V&&V.binding&&V.binding("util")}catch(Y){}}();C.exports=q}).call(this,e(38)(A))},function(A,O,e){var C=e(140),E=e(56);A.exports=function(R){return C(R,E(R))}},function(A,O,e){var C=e(55),E=e(37);A.exports=function(R,P,V,q){var W=!V;V||(V={});for(var Y=-1,$=P.length;++Y<$;){var ne=P[Y],ae=q?q(V[ne],R[ne],ne,V,R):void 0;void 0===ae&&(ae=R[ne]),W?E(V,ne,ae):C(V,ne,ae)}return V}},function(A,O,e){var C=e(142),E=e(30),R=e(15),P=e(52),V=e(31),q=e(53),W=Object.prototype.hasOwnProperty;A.exports=function(Y,$){var ne=R(Y),ae=!ne&&E(Y),Ye=!ne&&!ae&&P(Y),qe=!ne&&!ae&&!Ye&&q(Y),Ge=ne||ae||Ye||qe,lt=Ge?C(Y.length,String):[],le=lt.length;for(var Oe in Y)!$&&!W.call(Y,Oe)||Ge&&("length"==Oe||Ye&&("offset"==Oe||"parent"==Oe)||qe&&("buffer"==Oe||"byteLength"==Oe||"byteOffset"==Oe)||V(Oe,le))||lt.push(Oe);return lt}},function(A,O){A.exports=function(e,C){for(var E=-1,R=Array(e);++E<e;)R[E]=C(E);return R}},function(A,O,e){var C=e(14),E=e(51),R=e(144),P=Object.prototype.hasOwnProperty;A.exports=function(V){if(!C(V))return R(V);var q=E(V),W=[];for(var Y in V)("constructor"!=Y||!q&&P.call(V,Y))&&W.push(Y);return W}},function(A,O){A.exports=function(e){var C=[];if(null!=e)for(var E in Object(e))C.push(E);return C}},function(A,O,e){var C=e(146),E=e(151);A.exports=function(R){return C(function(P,V){var q=-1,W=V.length,Y=W>1?V[W-1]:void 0,$=W>2?V[2]:void 0;for(Y=R.length>3&&"function"==typeof Y?(W--,Y):void 0,$&&E(V[0],V[1],$)&&(Y=W<3?void 0:Y,W=1),P=Object(P);++q<W;){var ne=V[q];ne&&R(P,ne,q,Y)}return P})}},function(A,O,e){var C=e(57),E=e(58),R=e(59);A.exports=function(P,V){return R(E(P,V,C),P+"")}},function(A,O){A.exports=function(e,C,E){switch(E.length){case 0:return e.call(C);case 1:return e.call(C,E[0]);case 2:return e.call(C,E[0],E[1]);case 3:return e.call(C,E[0],E[1],E[2])}return e.apply(C,E)}},function(A,O,e){var C=e(149),E=e(49),R=e(57);A.exports=E?function(V,q){return E(V,"toString",{configurable:!0,enumerable:!1,value:C(q),writable:!0})}:R},function(A,O){A.exports=function(e){return function(){return e}}},function(A,O){var e=Date.now;A.exports=function(C){var E=0,R=0;return function(){var P=e(),V=16-(P-R);if(R=P,V>0){if(++E>=800)return arguments[0]}else E=0;return C.apply(void 0,arguments)}}},function(A,O,e){var C=e(26),E=e(39),R=e(31),P=e(14);A.exports=function(V,q,W){if(!P(W))return!1;var Y=typeof q;return!!("number"==Y?E(W)&&R(q,W.length):"string"==Y&&q in W)&&C(W[q],V)}},function(A,O){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(e,C){var E=65535&e,R=65535&C;return E*R+((e>>>16&65535)*R+E*(C>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var C=Object(e),E=1;E<arguments.length;E++){var R=arguments[E];if(null!==R)for(var P in R)Object.prototype.hasOwnProperty.call(R,P)&&(C[P]=R[P])}return C})},function(A,O){A.exports=function(e){if(Array.isArray(e))return e},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(e,C){var E=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=E){var R,P,V=[],q=!0,W=!1;try{for(E=E.call(e);!(q=(R=E.next()).done)&&(V.push(R.value),!C||V.length!==C);q=!0);}catch(Y){W=!0,P=Y}finally{try{q||null==E.return||E.return()}finally{if(W)throw P}}return V}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(e){var C=new Float32Array(2);return C[0]=e[0],C[1]=e[1],C}},function(A,O){A.exports=function(e,C){var E=new Float32Array(2);return E[0]=e,E[1]=C,E}},function(A,O){A.exports=function(e,C){return e[0]=C[0],e[1]=C[1],e}},function(A,O){A.exports=function(e,C,E){return e[0]=C,e[1]=E,e}},function(A,O,e){A.exports=function(E,R){var P=E[0],V=E[1],q=R[0],W=R[1];return Math.abs(P-q)<=C*Math.max(1,Math.abs(P),Math.abs(q))&&Math.abs(V-W)<=C*Math.max(1,Math.abs(V),Math.abs(W))};var C=e(62)},function(A,O){A.exports=function(e,C){return e[0]===C[0]&&e[1]===C[1]}},function(A,O){A.exports=function(e,C,E){return e[0]=C[0]+E[0],e[1]=C[1]+E[1],e}},function(A,O,e){A.exports=e(64)},function(A,O,e){A.exports=e(65)},function(A,O,e){A.exports=e(66)},function(A,O){A.exports=function(e,C){return e[0]=1/C[0],e[1]=1/C[1],e}},function(A,O){A.exports=function(e,C,E){return e[0]=Math.min(C[0],E[0]),e[1]=Math.min(C[1],E[1]),e}},function(A,O){A.exports=function(e,C,E){return e[0]=Math.max(C[0],E[0]),e[1]=Math.max(C[1],E[1]),e}},function(A,O){A.exports=function(e,C,E){var R=Math.cos(E),P=Math.sin(E),V=C[0],q=C[1];return e[0]=V*R-q*P,e[1]=V*P+q*R,e}},function(A,O){A.exports=function(e,C){return e[0]=Math.floor(C[0]),e[1]=Math.floor(C[1]),e}},function(A,O){A.exports=function(e,C){return e[0]=Math.ceil(C[0]),e[1]=Math.ceil(C[1]),e}},function(A,O){A.exports=function(e,C){return e[0]=Math.round(C[0]),e[1]=Math.round(C[1]),e}},function(A,O){A.exports=function(e,C,E){return e[0]=C[0]*E,e[1]=C[1]*E,e}},function(A,O){A.exports=function(e,C,E,R){return e[0]=C[0]+E[0]*R,e[1]=C[1]+E[1]*R,e}},function(A,O,e){A.exports=e(67)},function(A,O,e){A.exports=e(68)},function(A,O,e){A.exports=e(69)},function(A,O,e){A.exports=e(70)},function(A,O){A.exports=function(e,C){return e[0]=-C[0],e[1]=-C[1],e}},function(A,O){A.exports=function(e,C){var E=C[0],R=C[1],P=E*E+R*R;return P>0&&(P=1/Math.sqrt(P),e[0]=C[0]*P,e[1]=C[1]*P),e}},function(A,O){A.exports=function(e,C){return e[0]*C[0]+e[1]*C[1]}},function(A,O){A.exports=function(e,C,E){var R=C[0]*E[1]-C[1]*E[0];return e[0]=e[1]=0,e[2]=R,e}},function(A,O){A.exports=function(e,C,E,R){var P=C[0],V=C[1];return e[0]=P+R*(E[0]-P),e[1]=V+R*(E[1]-V),e}},function(A,O){A.exports=function(e,C){C=C||1;var E=2*Math.random()*Math.PI;return e[0]=Math.cos(E)*C,e[1]=Math.sin(E)*C,e}},function(A,O){A.exports=function(e,C,E){var R=C[0],P=C[1];return e[0]=E[0]*R+E[2]*P,e[1]=E[1]*R+E[3]*P,e}},function(A,O){A.exports=function(e,C,E){var R=C[0],P=C[1];return e[0]=E[0]*R+E[2]*P+E[4],e[1]=E[1]*R+E[3]*P+E[5],e}},function(A,O){A.exports=function(e,C,E){var R=C[0],P=C[1];return e[0]=E[0]*R+E[3]*P+E[6],e[1]=E[1]*R+E[4]*P+E[7],e}},function(A,O){A.exports=function(e,C,E){var R=C[0],P=C[1];return e[0]=E[0]*R+E[4]*P+E[12],e[1]=E[1]*R+E[5]*P+E[13],e}},function(A,O,e){A.exports=function(E,R,P,V,q,W){var Y,$;for(R||(R=2),P||(P=0),$=V?Math.min(V*R+P,E.length):E.length,Y=P;Y<$;Y+=R)C[0]=E[Y],C[1]=E[Y+1],q(C,C,W),E[Y]=C[0],E[Y+1]=C[1];return E};var C=e(63)()},function(A,O){A.exports=function(e,C,E){var R=C[0]*C[0]+C[1]*C[1];if(R>E*E){var P=Math.sqrt(R);e[0]=C[0]/P*E,e[1]=C[1]/P*E}else e[0]=C[0],e[1]=C[1];return e}},function(A,O){A.exports=function(e){var C=new Float32Array(3);return C[0]=e[0],C[1]=e[1],C[2]=e[2],C}},function(A,O,e){A.exports=function(P,V){var q=C(P[0],P[1],P[2]),W=C(V[0],V[1],V[2]);E(q,q),E(W,W);var Y=R(q,W);return Y>1?0:Math.acos(Y)};var C=e(73),E=e(74),R=e(75)},function(A,O){A.exports=function(e,C){return e[0]=C[0],e[1]=C[1],e[2]=C[2],e}},function(A,O){A.exports=function(e,C,E,R){return e[0]=C,e[1]=E,e[2]=R,e}},function(A,O,e){A.exports=function(E,R){var P=E[0],V=E[1],q=E[2],W=R[0],Y=R[1],$=R[2];return Math.abs(P-W)<=C*Math.max(1,Math.abs(P),Math.abs(W))&&Math.abs(V-Y)<=C*Math.max(1,Math.abs(V),Math.abs(Y))&&Math.abs(q-$)<=C*Math.max(1,Math.abs(q),Math.abs($))};var C=e(71)},function(A,O){A.exports=function(e,C){return e[0]===C[0]&&e[1]===C[1]&&e[2]===C[2]}},function(A,O){A.exports=function(e,C,E){return e[0]=C[0]+E[0],e[1]=C[1]+E[1],e[2]=C[2]+E[2],e}},function(A,O,e){A.exports=e(76)},function(A,O,e){A.exports=e(77)},function(A,O,e){A.exports=e(78)},function(A,O){A.exports=function(e,C,E){return e[0]=Math.min(C[0],E[0]),e[1]=Math.min(C[1],E[1]),e[2]=Math.min(C[2],E[2]),e}},function(A,O){A.exports=function(e,C,E){return e[0]=Math.max(C[0],E[0]),e[1]=Math.max(C[1],E[1]),e[2]=Math.max(C[2],E[2]),e}},function(A,O){A.exports=function(e,C){return e[0]=Math.floor(C[0]),e[1]=Math.floor(C[1]),e[2]=Math.floor(C[2]),e}},function(A,O){A.exports=function(e,C){return e[0]=Math.ceil(C[0]),e[1]=Math.ceil(C[1]),e[2]=Math.ceil(C[2]),e}},function(A,O){A.exports=function(e,C){return e[0]=Math.round(C[0]),e[1]=Math.round(C[1]),e[2]=Math.round(C[2]),e}},function(A,O){A.exports=function(e,C,E){return e[0]=C[0]*E,e[1]=C[1]*E,e[2]=C[2]*E,e}},function(A,O){A.exports=function(e,C,E,R){return e[0]=C[0]+E[0]*R,e[1]=C[1]+E[1]*R,e[2]=C[2]+E[2]*R,e}},function(A,O,e){A.exports=e(79)},function(A,O,e){A.exports=e(80)},function(A,O,e){A.exports=e(81)},function(A,O,e){A.exports=e(82)},function(A,O){A.exports=function(e,C){return e[0]=-C[0],e[1]=-C[1],e[2]=-C[2],e}},function(A,O){A.exports=function(e,C){return e[0]=1/C[0],e[1]=1/C[1],e[2]=1/C[2],e}},function(A,O){A.exports=function(e,C,E){var R=C[0],P=C[1],V=C[2],q=E[0],W=E[1],Y=E[2];return e[0]=P*Y-V*W,e[1]=V*q-R*Y,e[2]=R*W-P*q,e}},function(A,O){A.exports=function(e,C,E,R){var P=C[0],V=C[1],q=C[2];return e[0]=P+R*(E[0]-P),e[1]=V+R*(E[1]-V),e[2]=q+R*(E[2]-q),e}},function(A,O){A.exports=function(e,C){C=C||1;var E=2*Math.random()*Math.PI,R=2*Math.random()-1,P=Math.sqrt(1-R*R)*C;return e[0]=Math.cos(E)*P,e[1]=Math.sin(E)*P,e[2]=R*C,e}},function(A,O){A.exports=function(e,C,E){var R=C[0],P=C[1],V=C[2],q=E[3]*R+E[7]*P+E[11]*V+E[15];return e[0]=(E[0]*R+E[4]*P+E[8]*V+E[12])/(q=q||1),e[1]=(E[1]*R+E[5]*P+E[9]*V+E[13])/q,e[2]=(E[2]*R+E[6]*P+E[10]*V+E[14])/q,e}},function(A,O){A.exports=function(e,C,E){var R=C[0],P=C[1],V=C[2];return e[0]=R*E[0]+P*E[3]+V*E[6],e[1]=R*E[1]+P*E[4]+V*E[7],e[2]=R*E[2]+P*E[5]+V*E[8],e}},function(A,O){A.exports=function(e,C,E){var R=C[0],P=C[1],V=C[2],q=E[0],W=E[1],Y=E[2],$=E[3],ne=$*R+W*V-Y*P,ae=$*P+Y*R-q*V,Ye=$*V+q*P-W*R,qe=-q*R-W*P-Y*V;return e[0]=ne*$+qe*-q+ae*-Y-Ye*-W,e[1]=ae*$+qe*-W+Ye*-q-ne*-Y,e[2]=Ye*$+qe*-Y+ne*-W-ae*-q,e}},function(A,O){A.exports=function(e,C,E,R){var P=E[1],V=E[2],q=C[1]-P,W=C[2]-V,Y=Math.sin(R),$=Math.cos(R);return e[0]=C[0],e[1]=P+q*$-W*Y,e[2]=V+q*Y+W*$,e}},function(A,O){A.exports=function(e,C,E,R){var P=E[0],V=E[2],q=C[0]-P,W=C[2]-V,Y=Math.sin(R),$=Math.cos(R);return e[0]=P+W*Y+q*$,e[1]=C[1],e[2]=V+W*$-q*Y,e}},function(A,O){A.exports=function(e,C,E,R){var P=E[0],V=E[1],q=C[0]-P,W=C[1]-V,Y=Math.sin(R),$=Math.cos(R);return e[0]=P+q*$-W*Y,e[1]=V+q*Y+W*$,e[2]=C[2],e}},function(A,O,e){A.exports=function(E,R,P,V,q,W){var Y,$;for(R||(R=3),P||(P=0),$=V?Math.min(V*R+P,E.length):E.length,Y=P;Y<$;Y+=R)C[0]=E[Y],C[1]=E[Y+1],C[2]=E[Y+2],q(C,C,W),E[Y]=C[0],E[Y+1]=C[1],E[Y+2]=C[2];return E};var C=e(72)()},function(A,O,e){var C=function(E){"use strict";var R=Object.prototype,P=R.hasOwnProperty,V="function"==typeof Symbol?Symbol:{},q=V.iterator||"@@iterator",W=V.asyncIterator||"@@asyncIterator",Y=V.toStringTag||"@@toStringTag";function $(oe,Q,ge,Pe){var pn,wt,mt,At,gt=Object.create((Q&&Q.prototype instanceof Ye?Q:Ye).prototype),Dt=new Ie(Pe||[]);return gt._invoke=(pn=oe,wt=ge,mt=Dt,At="suspendedStart",function(an,er){if("executing"===At)throw new Error("Generator is already running");if("completed"===At){if("throw"===an)throw er;return{value:void 0,done:!0}}for(mt.method=an,mt.arg=er;;){var Ln=mt.delegate;if(Ln){var vr=Ze(Ln,mt);if(vr){if(vr===ae)continue;return vr}}if("next"===mt.method)mt.sent=mt._sent=mt.arg;else if("throw"===mt.method){if("suspendedStart"===At)throw At="completed",mt.arg;mt.dispatchException(mt.arg)}else"return"===mt.method&&mt.abrupt("return",mt.arg);At="executing";var ir=ne(pn,wt,mt);if("normal"===ir.type){if(At=mt.done?"completed":"suspendedYield",ir.arg===ae)continue;return{value:ir.arg,done:mt.done}}"throw"===ir.type&&(At="completed",mt.method="throw",mt.arg=ir.arg)}}),gt}function ne(oe,Q,ge){try{return{type:"normal",arg:oe.call(Q,ge)}}catch(Pe){return{type:"throw",arg:Pe}}}E.wrap=$;var ae={};function Ye(){}function qe(){}function Ge(){}var lt={};lt[q]=function(){return this};var le=Object.getPrototypeOf,Oe=le&&le(le(it([])));Oe&&Oe!==R&&P.call(Oe,q)&&(lt=Oe);var De=Ge.prototype=Ye.prototype=Object.create(lt);function rt(oe){["next","throw","return"].forEach(function(Q){oe[Q]=function(ge){return this._invoke(Q,ge)}})}function Ue(oe,Q){var ge;this._invoke=function(Pe,de){function gt(){return new Q(function(Dt,pn){!function wt(mt,At,an,er){var Ln=ne(oe[mt],oe,At);if("throw"!==Ln.type){var vr=Ln.arg,ir=vr.value;return ir&&"object"==typeof ir&&P.call(ir,"__await")?Q.resolve(ir.__await).then(function(Yn){wt("next",Yn,an,er)},function(Yn){wt("throw",Yn,an,er)}):Q.resolve(ir).then(function(Yn){vr.value=Yn,an(vr)},function(Yn){return wt("throw",Yn,an,er)})}er(Ln.arg)}(Pe,de,Dt,pn)})}return ge=ge?ge.then(gt,gt):gt()}}function Ze(oe,Q){var ge=oe.iterator[Q.method];if(void 0===ge){if(Q.delegate=null,"throw"===Q.method){if(oe.iterator.return&&(Q.method="return",Q.arg=void 0,Ze(oe,Q),"throw"===Q.method))return ae;Q.method="throw",Q.arg=new TypeError("The iterator does not provide a 'throw' method")}return ae}var Pe=ne(ge,oe.iterator,Q.arg);if("throw"===Pe.type)return Q.method="throw",Q.arg=Pe.arg,Q.delegate=null,ae;var de=Pe.arg;return de?de.done?(Q[oe.resultName]=de.value,Q.next=oe.nextLoc,"return"!==Q.method&&(Q.method="next",Q.arg=void 0),Q.delegate=null,ae):de:(Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,ae)}function Ce(oe){var Q={tryLoc:oe[0]};1 in oe&&(Q.catchLoc=oe[1]),2 in oe&&(Q.finallyLoc=oe[2],Q.afterLoc=oe[3]),this.tryEntries.push(Q)}function He(oe){var Q=oe.completion||{};Q.type="normal",delete Q.arg,oe.completion=Q}function Ie(oe){this.tryEntries=[{tryLoc:"root"}],oe.forEach(Ce,this),this.reset(!0)}function it(oe){if(oe){var Q=oe[q];if(Q)return Q.call(oe);if("function"==typeof oe.next)return oe;if(!isNaN(oe.length)){var ge=-1,Pe=function de(){for(;++ge<oe.length;)if(P.call(oe,ge))return de.value=oe[ge],de.done=!1,de;return de.value=void 0,de.done=!0,de};return Pe.next=Pe}}return{next:se}}function se(){return{value:void 0,done:!0}}return qe.prototype=De.constructor=Ge,Ge.constructor=qe,Ge[Y]=qe.displayName="GeneratorFunction",E.isGeneratorFunction=function(oe){var Q="function"==typeof oe&&oe.constructor;return!!Q&&(Q===qe||"GeneratorFunction"===(Q.displayName||Q.name))},E.mark=function(oe){return Object.setPrototypeOf?Object.setPrototypeOf(oe,Ge):(oe.__proto__=Ge,Y in oe||(oe[Y]="GeneratorFunction")),oe.prototype=Object.create(De),oe},E.awrap=function(oe){return{__await:oe}},rt(Ue.prototype),Ue.prototype[W]=function(){return this},E.AsyncIterator=Ue,E.async=function(oe,Q,ge,Pe,de){void 0===de&&(de=Promise);var gt=new Ue($(oe,Q,ge,Pe),de);return E.isGeneratorFunction(Q)?gt:gt.next().then(function(Dt){return Dt.done?Dt.value:gt.next()})},rt(De),De[Y]="Generator",De[q]=function(){return this},De.toString=function(){return"[object Generator]"},E.keys=function(oe){var Q=[];for(var ge in oe)Q.push(ge);return Q.reverse(),function Pe(){for(;Q.length;){var de=Q.pop();if(de in oe)return Pe.value=de,Pe.done=!1,Pe}return Pe.done=!0,Pe}},E.values=it,Ie.prototype={constructor:Ie,reset:function(oe){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(He),!oe)for(var Q in this)"t"===Q.charAt(0)&&P.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=void 0)},stop:function(){this.done=!0;var oe=this.tryEntries[0].completion;if("throw"===oe.type)throw oe.arg;return this.rval},dispatchException:function(oe){if(this.done)throw oe;var Q=this;function ge(wt,mt){return gt.type="throw",gt.arg=oe,Q.next=wt,mt&&(Q.method="next",Q.arg=void 0),!!mt}for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var de=this.tryEntries[Pe],gt=de.completion;if("root"===de.tryLoc)return ge("end");if(de.tryLoc<=this.prev){var Dt=P.call(de,"catchLoc"),pn=P.call(de,"finallyLoc");if(Dt&&pn){if(this.prev<de.catchLoc)return ge(de.catchLoc,!0);if(this.prev<de.finallyLoc)return ge(de.finallyLoc)}else if(Dt){if(this.prev<de.catchLoc)return ge(de.catchLoc,!0)}else{if(!pn)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return ge(de.finallyLoc)}}}},abrupt:function(oe,Q){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var Pe=this.tryEntries[ge];if(Pe.tryLoc<=this.prev&&P.call(Pe,"finallyLoc")&&this.prev<Pe.finallyLoc){var de=Pe;break}}de&&("break"===oe||"continue"===oe)&&de.tryLoc<=Q&&Q<=de.finallyLoc&&(de=null);var gt=de?de.completion:{};return gt.type=oe,gt.arg=Q,de?(this.method="next",this.next=de.finallyLoc,ae):this.complete(gt)},complete:function(oe,Q){if("throw"===oe.type)throw oe.arg;return"break"===oe.type||"continue"===oe.type?this.next=oe.arg:"return"===oe.type?(this.rval=this.arg=oe.arg,this.method="return",this.next="end"):"normal"===oe.type&&Q&&(this.next=Q),ae},finish:function(oe){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ge=this.tryEntries[Q];if(ge.finallyLoc===oe)return this.complete(ge.completion,ge.afterLoc),He(ge),ae}},catch:function(oe){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ge=this.tryEntries[Q];if(ge.tryLoc===oe){var Pe=ge.completion;if("throw"===Pe.type){var de=Pe.arg;He(ge)}return de}}throw new Error("illegal catch attempt")},delegateYield:function(oe,Q,ge){return this.delegate={iterator:it(oe),resultName:Q,nextLoc:ge},"next"===this.method&&(this.arg=void 0),ae}},E}(A.exports);try{regeneratorRuntime=C}catch(E){Function("r","regeneratorRuntime = r")(C)}},function(A,O,e){var C=e(2);A.exports=function(E,R){for(;!Object.prototype.hasOwnProperty.call(E,R)&&null!==(E=C(E)););return E},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){var C=e(61);A.exports=function(E){if(Array.isArray(E))return C(E)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){var C=e(230),E=e(240);A.exports=function(R,P){return C(R,P,function(V,q){return E(R,q)})}},function(A,O,e){var C=e(231),E=e(239),R=e(32);A.exports=function(P,V,q){for(var W=-1,Y=V.length,$={};++W<Y;){var ne=V[W],ae=C(P,ne);q(ae,ne)&&E($,R(ne,P),ae)}return $}},function(A,O,e){var C=e(32),E=e(43);A.exports=function(R,P){for(var V=0,q=(P=C(P,R)).length;null!=R&&V<q;)R=R[E(P[V++])];return V&&V==q?R:void 0}},function(A,O,e){var C=e(15),E=e(42),R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/;A.exports=function(V,q){if(C(V))return!1;var W=typeof V;return!("number"!=W&&"symbol"!=W&&"boolean"!=W&&null!=V&&!E(V))||P.test(V)||!R.test(V)||null!=q&&V in Object(q)}},function(A,O,e){var C=e(234),E=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/\\(\\)?/g,P=C(function(V){var q=[];return 46===V.charCodeAt(0)&&q.push(""),V.replace(E,function(W,Y,$,ne){q.push($?ne.replace(R,"$1"):Y||W)}),q});A.exports=P},function(A,O,e){var C=e(235);A.exports=function(E){var R=C(E,function(V){return 500===P.size&&P.clear(),V}),P=R.cache;return R}},function(A,O,e){var C=e(47);function E(R,P){if("function"!=typeof R||null!=P&&"function"!=typeof P)throw new TypeError("Expected a function");var V=function(){var q=arguments,W=P?P.apply(this,q):q[0],Y=V.cache;if(Y.has(W))return Y.get(W);var $=R.apply(this,q);return V.cache=Y.set(W,$)||Y,$};return V.cache=new(E.Cache||C),V}E.Cache=C,A.exports=E},function(A,O,e){var C=e(237);A.exports=function(E){return null==E?"":C(E)}},function(A,O,e){var C=e(27),E=e(238),R=e(15),P=e(42),V=C?C.prototype:void 0,q=V?V.toString:void 0;A.exports=function W(Y){if("string"==typeof Y)return Y;if(R(Y))return E(Y,W)+"";if(P(Y))return q?q.call(Y):"";var $=Y+"";return"0"==$&&1/Y==-1/0?"-0":$}},function(A,O){A.exports=function(e,C){for(var E=-1,R=null==e?0:e.length,P=Array(R);++E<R;)P[E]=C(e[E],E,e);return P}},function(A,O,e){var C=e(55),E=e(32),R=e(31),P=e(14),V=e(43);A.exports=function(q,W,Y,$){if(!P(q))return q;for(var ne=-1,ae=(W=E(W,q)).length,Ye=ae-1,qe=q;null!=qe&&++ne<ae;){var Ge=V(W[ne]),lt=Y;if("__proto__"===Ge||"constructor"===Ge||"prototype"===Ge)return q;if(ne!=Ye){var le=qe[Ge];void 0===(lt=$?$(le,Ge,qe):void 0)&&(lt=P(le)?le:R(W[ne+1])?[]:{})}C(qe,Ge,lt),qe=qe[Ge]}return q}},function(A,O,e){var C=e(241),E=e(242);A.exports=function(R,P){return null!=R&&E(R,P,C)}},function(A,O){A.exports=function(e,C){return null!=e&&C in Object(e)}},function(A,O,e){var C=e(32),E=e(30),R=e(15),P=e(31),V=e(40),q=e(43);A.exports=function(W,Y,$){for(var ne=-1,ae=(Y=C(Y,W)).length,Ye=!1;++ne<ae;){var qe=q(Y[ne]);if(!(Ye=null!=W&&$(W,qe)))break;W=W[qe]}return Ye||++ne!=ae?Ye:!!(ae=null==W?0:W.length)&&V(ae)&&P(qe,ae)&&(R(W)||E(W))}},function(A,O,e){var C=e(244),E=e(58),R=e(59);A.exports=function(P){return R(E(P,void 0,C),P+"")}},function(A,O,e){var C=e(245);A.exports=function(E){return null!=E&&E.length?C(E,1):[]}},function(A,O,e){var C=e(246),E=e(247);A.exports=function R(P,V,q,W,Y){var $=-1,ne=P.length;for(q||(q=E),Y||(Y=[]);++$<ne;){var ae=P[$];V>0&&q(ae)?V>1?R(ae,V-1,q,W,Y):C(Y,ae):W||(Y[Y.length]=ae)}return Y}},function(A,O){A.exports=function(e,C){for(var E=-1,R=C.length,P=e.length;++E<R;)e[P+E]=C[E];return e}},function(A,O,e){var C=e(27),E=e(30),R=e(15),P=C?C.isConcatSpreadable:void 0;A.exports=function(V){return R(V)||E(V)||!!(P&&V&&V[P])}},function(A,O){A.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,e){var C=e(41),E=e(250);function R(P,V,q){return E()?(A.exports=R=Reflect.construct,A.exports.__esModule=!0,A.exports.default=A.exports):(A.exports=R=function(W,Y,$){var ne=[null];ne.push.apply(ne,Y);var ae=new(Function.bind.apply(W,ne));return $&&C(ae,$.prototype),ae},A.exports.__esModule=!0,A.exports.default=A.exports),R.apply(null,arguments)}A.exports=R,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(e){return e[0]*e[3]-e[2]*e[1]}},function(A,O){A.exports=function(e,C){if(e===C){var E=C[1];e[1]=C[2],e[2]=E}else e[0]=C[0],e[1]=C[2],e[2]=C[1],e[3]=C[3];return e}},function(A,O){A.exports=function(e,C,E){var R=C[0],P=C[1],V=C[2],q=C[3],W=E[0],Y=E[1],$=E[2],ne=E[3];return e[0]=R*W+V*Y,e[1]=P*W+q*Y,e[2]=R*$+V*ne,e[3]=P*$+q*ne,e}},function(A,O){A.exports=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}},function(A,O){A.exports=function(e,C){var E=C[0];return e[0]=C[3],e[1]=-C[1],e[2]=-C[2],e[3]=E,e}},function(A,O){A.exports=function(e,C,E){var R=C[0],P=C[1],V=C[2],q=C[3],W=Math.sin(E),Y=Math.cos(E);return e[0]=R*Y+V*W,e[1]=P*Y+q*W,e[2]=R*-W+V*Y,e[3]=P*-W+q*Y,e}},function(A,O){A.exports=function(e,C){var E=C[0],R=C[1],P=C[2],V=C[3],q=E*V-P*R;return q?(e[0]=V*(q=1/q),e[1]=-R*q,e[2]=-P*q,e[3]=E*q,e):null}},function(A,O){A.exports=function(){var e=new Float32Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}},function(A,O){A.exports=function(e,C,E){var P=C[1],V=C[2],q=C[3],W=E[0],Y=E[1];return e[0]=C[0]*W,e[1]=P*W,e[2]=V*Y,e[3]=q*Y,e}},function(A,O){A.exports=function(e,C){return e[0]=C[0],e[1]=C[1],e[2]=C[2],e[3]=C[3],e}},function(A,O){A.exports=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))}},function(A,O){A.exports=function(e,C,E,R){return e[2]=R[2]/R[0],E[0]=R[0],E[1]=R[1],E[3]=R[3]-e[2]*E[1],[e,C,E]}},function(A,O,e){"use strict";e.r(O),e.d(O,"BarcodeDecoder",function(){return tr}),e.d(O,"Readers",function(){return C}),e.d(O,"CameraAccess",function(){return Nn}),e.d(O,"ImageDebug",function(){return Ye.a}),e.d(O,"ImageWrapper",function(){return W.a}),e.d(O,"ResultCollector",function(){return Cr});var C={};e.r(C),e.d(C,"BarcodeReader",function(){return Q}),e.d(C,"TwoOfFiveReader",function(){return pn}),e.d(C,"NewCodabarReader",function(){return er}),e.d(C,"Code128Reader",function(){return vr}),e.d(C,"Code32Reader",function(){return gn}),e.d(C,"Code39Reader",function(){return Lr}),e.d(C,"Code39VINReader",function(){return Re}),e.d(C,"Code93Reader",function(){return vt}),e.d(C,"EAN2Reader",function(){return Ht}),e.d(C,"EAN5Reader",function(){return Tt}),e.d(C,"EAN8Reader",function(){return jt}),e.d(C,"EANReader",function(){return Cn}),e.d(C,"I2of5Reader",function(){return An}),e.d(C,"UPCEReader",function(){return pe}),e.d(C,"UPCReader",function(){return ze});var E,ce,R=e(20),P=e.n(R),V=e(17),q=e.n(V),W=(e(152),e(11)),Y=e(12),$=e.n(Y),ne=e(8),ae=e.n(ne),Ye=e(16),qe=e(3),Ge=e.n(qe),lt=e(4),le=e.n(lt),Oe=e(1),De=e.n(Oe),rt=e(6),Ue=e.n(rt),Ze=e(5),Ce=e.n(Ze),He=e(2),Ie=e.n(He),it=e(0),se=e.n(it),oe=e(9);(ce=E||(E={}))[ce.Forward=1]="Forward",ce[ce.Reverse=-1]="Reverse";var Q=function(){function ce(be,re){Ge()(this,ce),se()(this,"_row",[]),se()(this,"config",{}),se()(this,"supplements",[]),se()(this,"SINGLE_CODE_ERROR",0),se()(this,"FORMAT","unknown"),se()(this,"CONFIG_KEYS",{}),this._row=[],this.config=be||{},re&&(this.supplements=re)}return le()(ce,[{key:"_nextUnset",value:function(be){for(var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;M<be.length;M++)if(!be[M])return M;return be.length}},{key:"_matchPattern",value:function(be,re){for(var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,U=0,G=0,z=0,ue=0,_e=0,Te=0,$e=0;$e<be.length;$e++)z+=be[$e],ue+=re[$e];if(z<ue)return Number.MAX_VALUE;M*=_e=z/ue;for(var J=0;J<be.length;J++){if(Te=re[J]*_e,(G=Math.abs(be[J]-Te)/Te)>M)return Number.MAX_VALUE;U+=G}return U/ue}},{key:"_nextSet",value:function(be){for(var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;M<be.length;M++)if(be[M])return M;return be.length}},{key:"_correctBars",value:function(be,re,M){for(var U=M.length,G=0;U--;)(G=be[M[U]]*(1-(1-re)/2))>1&&(be[M[U]]=G)}},{key:"decodePattern",value:function(be){this._row=be;var re=this.decode();return null===re?(this._row.reverse(),(re=this.decode())&&(re.direction=E.Reverse,re.start=this._row.length-re.start,re.end=this._row.length-re.end)):re.direction=E.Forward,re&&(re.format=this.FORMAT),re}},{key:"_matchRange",value:function(be,re,M){var U;for(U=be=be<0?0:be;U<re;U++)if(this._row[U]!==M)return!1;return!0}},{key:"_fillCounters",value:function(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],U=[],G=0;U[G]=0;for(var z=be;z<re;z++)this._row[z]^(M?1:0)?U[G]++:(U[++G]=1,M=!M);return U}},{key:"_toCounters",value:function(be,re){var M=re.length,U=this._row.length,G=!this._row[be],z=0;oe.a.init(re,0);for(var ue=be;ue<U;ue++)if(this._row[ue]^(G?1:0))re[z]++;else{if(++z===M)break;re[z]=1,G=!G}return re}},{key:"decodeImage",value:function(be){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),ce}();var Pe=[3,1,3,1,1,1],de=[3,1,1,1,3],gt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Dt=Pe.reduce(function(ce,be){return ce+be},0),pn=function(ce){Ue()(re,ce);var be=function ge(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"barSpaceRatio",[1,1]),se()(De()(M),"FORMAT","2of5"),se()(De()(M),"SINGLE_CODE_ERROR",.78),se()(De()(M),"AVG_CODE_ERROR",.3),M}return le()(re,[{key:"_findPattern",value:function(M,U){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],z=arguments.length>3&&void 0!==arguments[3]&&arguments[3],ue=[],_e=0,fe={error:Number.MAX_VALUE,code:-1,start:0,end:0},Te=0,$e=0,J=this.AVG_CODE_ERROR;U||(U=this._nextSet(this._row));for(var we=0;we<M.length;we++)ue[we]=0;for(var Ae=U;Ae<this._row.length;Ae++)if(this._row[Ae]^(G?1:0))ue[_e]++;else{if(_e===ue.length-1){Te=0;for(var at=0;at<ue.length;at++)Te+=ue[at];if(($e=this._matchPattern(ue,M))<J)return fe.error=$e,fe.start=Ae-Te,fe.end=Ae,fe;if(!z)return null;for(var Zt=0;Zt<ue.length-2;Zt++)ue[Zt]=ue[Zt+2];ue[ue.length-2]=0,ue[ue.length-1]=0,_e--}else _e++;ue[_e]=1,G=!G}return null}},{key:"_findStart",value:function(){for(var M=null,U=this._nextSet(this._row),G=1,z=0;!M;){if(!(M=this._findPattern(Pe,U,!1,!0)))return null;if(G=Math.floor((M.end-M.start)/Dt),(z=M.start-5*G)>=0&&this._matchRange(z,M.start,0))return M;U=M.end,M=null}return M}},{key:"_verifyTrailingWhitespace",value:function(M){var U=M.end+(M.end-M.start)/2;return U<this._row.length&&this._matchRange(M.end,U,0)?M:null}},{key:"_findEnd",value:function(){this._row.reverse();var M=this._nextSet(this._row),U=this._findPattern(de,M,!1,!0);if(this._row.reverse(),null===U)return null;var G=U.start;return U.start=this._row.length-U.end,U.end=this._row.length-G,null!==U?this._verifyTrailingWhitespace(U):null}},{key:"_verifyCounterLength",value:function(M){return M.length%10==0}},{key:"_decodeCode",value:function(M){for(var U=this.AVG_CODE_ERROR,G={error:Number.MAX_VALUE,code:-1,start:0,end:0},z=0;z<gt.length;z++){var ue=this._matchPattern(M,gt[z]);ue<G.error&&(G.code=z,G.error=ue)}return G.error<U?G:null}},{key:"_decodePayload",value:function(M,U,G){for(var z=0,ue=M.length,_e=[0,0,0,0,0],fe=null;z<ue;){for(var Te=0;Te<5;Te++)_e[Te]=M[z]*this.barSpaceRatio[0],z+=2;if(!(fe=this._decodeCode(_e)))return null;U.push("".concat(fe.code)),G.push(fe)}return fe}},{key:"decode",value:function(M,U){var G=this._findStart();if(!G)return null;var z=this._findEnd();if(!z)return null;var ue=this._fillCounters(G.end,z.start,!1);if(!this._verifyCounterLength(ue))return null;var _e=[];_e.push(G);var fe=[];return this._decodePayload(ue,fe,_e)?fe.length<5?null:(_e.push(z),{code:fe.join(""),start:G.start,end:z.end,startInfo:G,decodedCodes:_e,format:this.FORMAT}):null}}]),re}(Q);var mt=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],At=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],an=[26,41,11,14],er=function(ce){Ue()(re,ce);var be=function wt(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"_counters",[]),se()(De()(M),"FORMAT","codabar"),M}return le()(re,[{key:"_computeAlternatingThreshold",value:function(M,U){for(var G=Number.MAX_VALUE,z=0,ue=0,_e=M;_e<U;_e+=2)(ue=this._counters[_e])>z&&(z=ue),ue<G&&(G=ue);return(G+z)/2|0}},{key:"_toPattern",value:function(M){var U=M+7;if(U>this._counters.length)return-1;for(var G=this._computeAlternatingThreshold(M,U),z=this._computeAlternatingThreshold(M+1,U),ue=64,fe=0,Te=0;Te<7;Te++)this._counters[M+Te]>(0==(1&Te)?G:z)&&(fe|=ue),ue>>=1;return fe}},{key:"_isStartEnd",value:function(M){for(var U=0;U<an.length;U++)if(an[U]===M)return!0;return!1}},{key:"_sumCounters",value:function(M,U){for(var G=0,z=M;z<U;z++)G+=this._counters[z];return G}},{key:"_findStart",value:function(){for(var M=this._nextUnset(this._row),U=1;U<this._counters.length;U++){var G=this._toPattern(U);if(-1!==G&&this._isStartEnd(G))return{start:M+=this._sumCounters(0,U),end:M+this._sumCounters(U,U+8),startCounter:U,endCounter:U+8}}return null}},{key:"_patternToChar",value:function(M){for(var U=0;U<At.length;U++)if(At[U]===M)return String.fromCharCode(mt[U]);return null}},{key:"_calculatePatternLength",value:function(M){for(var U=0,G=M;G<M+7;G++)U+=this._counters[G];return U}},{key:"_verifyWhitespace",value:function(M,U){return(M-1<=0||this._counters[M-1]>=this._calculatePatternLength(M)/2)&&(U+8>=this._counters.length||this._counters[U+7]>=this._calculatePatternLength(U)/2)}},{key:"_charToPattern",value:function(M){for(var U=M.charCodeAt(0),G=0;G<mt.length;G++)if(mt[G]===U)return At[G];return 0}},{key:"_thresholdResultPattern",value:function(M,U){for(var G,z={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},ue=U,_e=0;_e<M.length;_e++){G=this._charToPattern(M[_e]);for(var fe=6;fe>=0;fe--){var Te=2==(1&fe)?z.bar:z.space,$e=1==(1&G)?Te.wide:Te.narrow;$e.size+=this._counters[ue+fe],$e.counts++,G>>=1}ue+=8}return["space","bar"].forEach(function(J){var we=z[J];we.wide.min=Math.floor((we.narrow.size/we.narrow.counts+we.wide.size/we.wide.counts)/2),we.narrow.max=Math.ceil(we.wide.min),we.wide.max=Math.ceil((2*we.wide.size+1.5)/we.wide.counts)}),z}},{key:"_validateResult",value:function(M,U){for(var G,z=this._thresholdResultPattern(M,U),ue=U,_e=0;_e<M.length;_e++){G=this._charToPattern(M[_e]);for(var fe=6;fe>=0;fe--){var Te=0==(1&fe)?z.bar:z.space,$e=1==(1&G)?Te.wide:Te.narrow,J=this._counters[ue+fe];if(J<$e.min||J>$e.max)return!1;G>>=1}ue+=8}return!0}},{key:"decode",value:function(M,U){if(this._counters=this._fillCounters(),!(U=this._findStart()))return null;var G,z=U.startCounter,ue=[];do{if((G=this._toPattern(z))<0)return null;var _e=this._patternToChar(G);if(null===_e)return null;if(ue.push(_e),z+=8,ue.length>1&&this._isStartEnd(G))break}while(z<this._counters.length);if(ue.length-2<4||!this._isStartEnd(G)||!this._verifyWhitespace(U.startCounter,z-8)||!this._validateResult(ue,U.startCounter))return null;var fe=U.start+this._sumCounters(U.startCounter,(z=z>this._counters.length?this._counters.length:z)-8);return{code:ue.join(""),start:U.start,end:fe,startInfo:U,decodedCodes:ue,format:this.FORMAT}}}]),re}(Q);var vr=function(ce){Ue()(re,ce);var be=function Ln(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"CODE_SHIFT",98),se()(De()(M),"CODE_C",99),se()(De()(M),"CODE_B",100),se()(De()(M),"CODE_A",101),se()(De()(M),"START_CODE_A",103),se()(De()(M),"START_CODE_B",104),se()(De()(M),"START_CODE_C",105),se()(De()(M),"STOP_CODE",106),se()(De()(M),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),se()(De()(M),"SINGLE_CODE_ERROR",.64),se()(De()(M),"AVG_CODE_ERROR",.3),se()(De()(M),"FORMAT","code_128"),se()(De()(M),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),M}return le()(re,[{key:"_decodeCode",value:function(M,U){for(var G={error:Number.MAX_VALUE,code:-1,start:M,end:M,correction:{bar:1,space:1}},z=[0,0,0,0,0,0],_e=!this._row[M],fe=0,Te=M;Te<this._row.length;Te++)if(this._row[Te]^(_e?1:0))z[fe]++;else{if(fe===z.length-1){U&&this._correct(z,U);for(var $e=0;$e<this.CODE_PATTERN.length;$e++){var J=this._matchPattern(z,this.CODE_PATTERN[$e]);J<G.error&&(G.code=$e,G.error=J)}return G.end=Te,-1===G.code||G.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[G.code]&&(G.correction.bar=this.calculateCorrection(this.CODE_PATTERN[G.code],z,this.MODULE_INDICES.bar),G.correction.space=this.calculateCorrection(this.CODE_PATTERN[G.code],z,this.MODULE_INDICES.space)),G)}z[++fe]=1,_e=!_e}return null}},{key:"_correct",value:function(M,U){this._correctBars(M,U.bar,this.MODULE_INDICES.bar),this._correctBars(M,U.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var M=[0,0,0,0,0,0],U=this._nextSet(this._row),G={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},z=!1,ue=0,_e=U;_e<this._row.length;_e++)if(this._row[_e]^(z?1:0))M[ue]++;else{if(ue===M.length-1){for(var fe=M.reduce(function(we,Ae){return we+Ae},0),Te=this.START_CODE_A;Te<=this.START_CODE_C;Te++){var $e=this._matchPattern(M,this.CODE_PATTERN[Te]);$e<G.error&&(G.code=Te,G.error=$e)}if(G.error<this.AVG_CODE_ERROR)return G.start=_e-fe,G.end=_e,G.correction.bar=this.calculateCorrection(this.CODE_PATTERN[G.code],M,this.MODULE_INDICES.bar),G.correction.space=this.calculateCorrection(this.CODE_PATTERN[G.code],M,this.MODULE_INDICES.space),G;for(var J=0;J<4;J++)M[J]=M[J+2];M[4]=0,M[5]=0,ue--}else ue++;M[ue]=1,z=!z}return null}},{key:"decode",value:function(M,U){var G=this,z=this._findStart();if(null===z)return null;var ue={code:z.code,start:z.start,end:z.end,correction:{bar:z.correction.bar,space:z.correction.space}},_e=[];_e.push(ue);for(var fe=ue.code,Te=function(sn){switch(sn){case G.START_CODE_A:return G.CODE_A;case G.START_CODE_B:return G.CODE_B;case G.START_CODE_C:return G.CODE_C;default:return null}}(ue.code),$e=!1,J=!1,we=J,Ae=!0,at=0,Zt=[],dn=[];!$e;){if(we=J,J=!1,null!==(ue=this._decodeCode(ue.end,ue.correction)))switch(ue.code!==this.STOP_CODE&&(Ae=!0),ue.code!==this.STOP_CODE&&(Zt.push(ue.code),fe+=++at*ue.code),_e.push(ue),Te){case this.CODE_A:if(ue.code<64)dn.push(String.fromCharCode(32+ue.code));else if(ue.code<96)dn.push(String.fromCharCode(ue.code-64));else switch(ue.code!==this.STOP_CODE&&(Ae=!1),ue.code){case this.CODE_SHIFT:J=!0,Te=this.CODE_B;break;case this.CODE_B:Te=this.CODE_B;break;case this.CODE_C:Te=this.CODE_C;break;case this.STOP_CODE:$e=!0}break;case this.CODE_B:if(ue.code<96)dn.push(String.fromCharCode(32+ue.code));else switch(ue.code!==this.STOP_CODE&&(Ae=!1),ue.code){case this.CODE_SHIFT:J=!0,Te=this.CODE_A;break;case this.CODE_A:Te=this.CODE_A;break;case this.CODE_C:Te=this.CODE_C;break;case this.STOP_CODE:$e=!0}break;case this.CODE_C:if(ue.code<100)dn.push(ue.code<10?"0"+ue.code:ue.code);else switch(ue.code!==this.STOP_CODE&&(Ae=!1),ue.code){case this.CODE_A:Te=this.CODE_A;break;case this.CODE_B:Te=this.CODE_B;break;case this.STOP_CODE:$e=!0}}else $e=!0;we&&(Te=Te===this.CODE_A?this.CODE_B:this.CODE_A)}return null===ue?null:(ue.end=this._nextUnset(this._row,ue.end),this._verifyTrailingWhitespace(ue)?(fe-=at*Zt[Zt.length-1])%103!==Zt[Zt.length-1]?null:dn.length?(Ae&&dn.splice(dn.length-1,1),{code:dn.join(""),start:z.start,end:ue.end,codeset:Te,startInfo:z,decodedCodes:_e,endInfo:ue,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(M){var U;return(U=M.end+(M.end-M.start)/2)<this._row.length&&this._matchRange(M.end,U,0)?M:null}},{key:"calculateCorrection",value:function(M,U,G){for(var z=G.length,ue=0,_e=0;z--;)_e+=M[G[z]],ue+=U[G[z]];return _e/ue}}]),re}(Q),ir=e(13),Yn=e.n(ir),qr=e(33),mr=e.n(qr);var Bi=new Uint16Array(mr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(ce){return ce.charCodeAt(0)})),Ti=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Lr=function(ce){Ue()(re,ce);var be=function Ir(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"FORMAT","code_39"),M}return le()(re,[{key:"_findStart",value:function(){for(var M=this._nextSet(this._row),U=M,G=new Uint16Array([0,0,0,0,0,0,0,0,0]),z=0,ue=!1,_e=M;_e<this._row.length;_e++)if(this._row[_e]^(ue?1:0))G[z]++;else{if(z===G.length-1){if(148===this._toPattern(G)){var fe=Math.floor(Math.max(0,U-(_e-U)/4));if(this._matchRange(fe,U,0))return{start:U,end:_e}}U+=G[0]+G[1];for(var Te=0;Te<7;Te++)G[Te]=G[Te+2];G[7]=0,G[8]=0,z--}else z++;G[z]=1,ue=!ue}return null}},{key:"_toPattern",value:function(M){for(var U=M.length,G=0,z=U,ue=0;z>3;){G=this._findNextWidth(M,G),z=0;for(var _e=0,fe=0;fe<U;fe++)M[fe]>G&&(_e|=1<<U-1-fe,z++,ue+=M[fe]);if(3===z){for(var Te=0;Te<U&&z>0;Te++)if(M[Te]>G&&(z--,2*M[Te]>=ue))return-1;return _e}}return-1}},{key:"_findNextWidth",value:function(M,U){for(var G=Number.MAX_VALUE,z=0;z<M.length;z++)M[z]<G&&M[z]>U&&(G=M[z]);return G}},{key:"_patternToChar",value:function(M){for(var U=0;U<Ti.length;U++)if(Ti[U]===M)return String.fromCharCode(Bi[U]);return null}},{key:"_verifyTrailingWhitespace",value:function(M,U,G){var z=oe.a.sum(G);return 3*(U-M-z)>=z}},{key:"decode",value:function(){var M=new Uint16Array([0,0,0,0,0,0,0,0,0]),U=[],G=this._findStart();if(!G)return null;var z,ue,_e=this._nextSet(this._row,G.end);do{M=this._toCounters(_e,M);var fe=this._toPattern(M);if(fe<0||null===(z=this._patternToChar(fe)))return null;U.push(z),ue=_e,_e+=oe.a.sum(M),_e=this._nextSet(this._row,_e)}while("*"!==z);return U.pop(),U.length&&this._verifyTrailingWhitespace(ue,_e,M)?{code:U.join(""),start:G.start,end:_e,startInfo:G,decodedCodes:U,format:this.FORMAT}:null}}]),re}(Q);var Di=/[AEIO]/g,gn=function(ce){Ue()(re,ce);var be=function jr(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"FORMAT","code_32_reader"),M}return le()(re,[{key:"_decodeCode32",value:function(M){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(M))return null;for(var U=0,G=0;G<M.length;G++)U=32*U+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(M[G]);var z="".concat(U);return z.length<9&&(z=("000000000"+z).slice(-9)),"A"+z}},{key:"_checkChecksum",value:function(M){return!!M}},{key:"decode",value:function(){var M=Yn()(Ie()(re.prototype),"decode",this).call(this);if(!M)return null;var U=M.code;if(!U||(U=U.replace(Di,""),!this._checkChecksum(U)))return null;var G=this._decodeCode32(U);return G?(M.code=G,M):null}}]),re}(Lr);var Vr=/[IOQ]/g,Zr=/[A-Z0-9]{17}/,Re=function(ce){Ue()(re,ce);var be=function Fi(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"FORMAT","code_39_vin"),M}return le()(re,[{key:"_checkChecksum",value:function(M){return!!M}},{key:"decode",value:function(){var M=Yn()(Ie()(re.prototype),"decode",this).call(this);if(!M)return null;var U=M.code;return U&&(U=U.replace(Vr,"")).match(Zr)&&this._checkChecksum(U)?(M.code=U,M):null}}]),re}(Lr);var ct=new Uint16Array(mr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(ce){return ce.charCodeAt(0)})),Xe=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),vt=function(ce){Ue()(re,ce);var be=function Qe(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"FORMAT","code_93"),M}return le()(re,[{key:"_patternToChar",value:function(M){for(var U=0;U<Xe.length;U++)if(Xe[U]===M)return String.fromCharCode(ct[U]);return null}},{key:"_toPattern",value:function(M){for(var U=M.length,G=M.reduce(function(Te,$e){return Te+$e},0),z=0,ue=0;ue<U;ue++){var _e=Math.round(9*M[ue]/G);if(_e<1||_e>4)return-1;if(0==(1&ue))for(var fe=0;fe<_e;fe++)z=z<<1|1;else z<<=_e}return z}},{key:"_findStart",value:function(){for(var M=this._nextSet(this._row),U=M,G=new Uint16Array([0,0,0,0,0,0]),z=0,ue=!1,_e=M;_e<this._row.length;_e++)if(this._row[_e]^(ue?1:0))G[z]++;else{if(z===G.length-1){if(350===this._toPattern(G)){var fe=Math.floor(Math.max(0,U-(_e-U)/4));if(this._matchRange(fe,U,0))return{start:U,end:_e}}U+=G[0]+G[1];for(var Te=0;Te<4;Te++)G[Te]=G[Te+2];G[4]=0,G[5]=0,z--}else z++;G[z]=1,ue=!ue}return null}},{key:"_verifyEnd",value:function(M,U){return!(M===U||!this._row[U])}},{key:"_decodeExtended",value:function(M){for(var U=M.length,G=[],z=0;z<U;z++){var ue=M[z];if(ue>="a"&&ue<="d"){if(z>U-2)return null;var _e=M[++z],fe=_e.charCodeAt(0),Te=void 0;switch(ue){case"a":if(!(_e>="A"&&_e<="Z"))return null;Te=String.fromCharCode(fe-64);break;case"b":if(_e>="A"&&_e<="E")Te=String.fromCharCode(fe-38);else if(_e>="F"&&_e<="J")Te=String.fromCharCode(fe-11);else if(_e>="K"&&_e<="O")Te=String.fromCharCode(fe+16);else if(_e>="P"&&_e<="S")Te=String.fromCharCode(fe+43);else{if(!(_e>="T"&&_e<="Z"))return null;Te=String.fromCharCode(127)}break;case"c":if(_e>="A"&&_e<="O")Te=String.fromCharCode(fe-32);else{if("Z"!==_e)return null;Te=":"}break;case"d":if(!(_e>="A"&&_e<="Z"))return null;Te=String.fromCharCode(fe+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",Te),null}G.push(Te)}else G.push(ue)}return G}},{key:"_matchCheckChar",value:function(M,U,G){var z=M.slice(0,U),ue=z.length,_e=z.reduce(function(fe,Te,$e){return fe+((-1*$e+(ue-1))%G+1)*ct.indexOf(Te.charCodeAt(0))},0);return ct[_e%47]===M[U].charCodeAt(0)}},{key:"_verifyChecksums",value:function(M){return this._matchCheckChar(M,M.length-2,20)&&this._matchCheckChar(M,M.length-1,15)}},{key:"decode",value:function(M,U){if(!(U=this._findStart()))return null;var G,z,ue=new Uint16Array([0,0,0,0,0,0]),_e=[],fe=this._nextSet(this._row,U.end);do{ue=this._toCounters(fe,ue);var Te=this._toPattern(ue);if(Te<0||null===(z=this._patternToChar(Te)))return null;_e.push(z),G=fe,fe+=oe.a.sum(ue),fe=this._nextSet(this._row,fe)}while("*"!==z);return _e.pop(),_e.length&&this._verifyEnd(G,fe)&&this._verifyChecksums(_e)?(_e=_e.slice(0,_e.length-2),null===(_e=this._decodeExtended(_e))?null:{code:_e.join(""),start:U.start,end:fe,startInfo:U,decodedCodes:_e,format:this.FORMAT}):null}}]),re}(Q);function kt(ce,be){var re=Object.keys(ce);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(ce);be&&(M=M.filter(function(U){return Object.getOwnPropertyDescriptor(ce,U).enumerable})),re.push.apply(re,M)}return re}function Pt(ce){for(var be=1;be<arguments.length;be++){var re=null!=arguments[be]?arguments[be]:{};be%2?kt(Object(re),!0).forEach(function(M){se()(ce,M,re[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(re)):kt(Object(re)).forEach(function(M){Object.defineProperty(ce,M,Object.getOwnPropertyDescriptor(re,M))})}return ce}var Ft=[1,1,1],mn=[1,1,1,1,1],en=[1,1,2],Qt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Pn=[0,11,13,14,19,25,28,21,22,26],Cn=function(ce){Ue()(re,ce);var be=function Ct(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(M,U){var G;return Ge()(this,re),G=be.call(this,q()({supplements:[]},M),U),se()(De()(G),"FORMAT","ean_13"),se()(De()(G),"SINGLE_CODE_ERROR",.7),se()(De()(G),"STOP_PATTERN",[1,1,1]),G}return le()(re,[{key:"_findPattern",value:function(M,U,G,z){var ue=new Array(M.length).fill(0),_e={error:Number.MAX_VALUE,start:0,end:0},fe=0;U||(U=this._nextSet(this._row));for(var Te=!1,$e=U;$e<this._row.length;$e++)if(this._row[$e]^(G?1:0))ue[fe]+=1;else{if(fe===ue.length-1){var J=this._matchPattern(ue,M);if(J<.48&&_e.error&&J<_e.error)return Te=!0,_e.error=J,_e.start=$e-ue.reduce(function(Ae,at){return Ae+at},0),_e.end=$e,_e;if(z){for(var we=0;we<ue.length-2;we++)ue[we]=ue[we+2];ue[ue.length-2]=0,ue[ue.length-1]=0,fe--}}else fe++;ue[fe]=1,G=!G}return Te?_e:null}},{key:"_decodeCode",value:function(M,U){var G=[0,0,0,0],ue={error:Number.MAX_VALUE,code:-1,start:M,end:M},_e=!this._row[M],fe=0;U||(U=Qt.length);for(var Te=M;Te<this._row.length;Te++)if(this._row[Te]^(_e?1:0))G[fe]++;else{if(fe===G.length-1){for(var $e=0;$e<U;$e++){var J=this._matchPattern(G,Qt[$e]);ue.end=Te,J<ue.error&&(ue.code=$e,ue.error=J)}return ue.error>.48?null:ue}G[++fe]=1,_e=!_e}return null}},{key:"_findStart",value:function(){for(var M=this._nextSet(this._row),U=null;!U;){if(!(U=this._findPattern(Ft,M,!1,!0)))return null;var G=U.start-(U.end-U.start);if(G>=0&&this._matchRange(G,U.start,0))return U;M=U.end,U=null}return null}},{key:"_calculateFirstDigit",value:function(M){for(var U=0;U<Pn.length;U++)if(M===Pn[U])return U;return null}},{key:"_decodePayload",value:function(M,U,G){for(var z=Pt({},M),ue=0,_e=0;_e<6;_e++){if(!(z=this._decodeCode(z.end)))return null;z.code>=10?(z.code-=10,ue|=1<<5-_e):ue|=0<<5-_e,U.push(z.code),G.push(z)}var fe=this._calculateFirstDigit(ue);if(null===fe)return null;U.unshift(fe);var Te=this._findPattern(mn,z.end,!0,!1);if(null===Te||!Te.end)return null;G.push(Te);for(var $e=0;$e<6;$e++){if(!(Te=this._decodeCode(Te.end,10)))return null;G.push(Te),U.push(Te.code)}return Te}},{key:"_verifyTrailingWhitespace",value:function(M){var U=M.end+(M.end-M.start);return U<this._row.length&&this._matchRange(M.end,U,0)?M:null}},{key:"_findEnd",value:function(M,U){var G=this._findPattern(this.STOP_PATTERN,M,U,!1);return null!==G?this._verifyTrailingWhitespace(G):null}},{key:"_checksum",value:function(M){for(var U=0,G=M.length-2;G>=0;G-=2)U+=M[G];U*=3;for(var z=M.length-1;z>=0;z-=2)U+=M[z];return U%10==0}},{key:"_decodeExtensions",value:function(M){var U=this._nextSet(this._row,M),G=this._findPattern(en,U,!1,!1);if(null===G)return null;for(var z=0;z<this.supplements.length;z++)try{var ue=this.supplements[z].decode(this._row,G.end);if(null!==ue)return{code:ue.code,start:U,startInfo:G,end:ue.end,decodedCodes:ue.decodedCodes,format:this.supplements[z].FORMAT}}catch(_e){console.error("* decodeExtensions error in ",this.supplements[z],": ",_e)}return null}},{key:"decode",value:function(M,U){var G=new Array,z=new Array,ue={},_e=this._findStart();if(!_e)return null;var fe={start:_e.start,end:_e.end};if(z.push(fe),!(fe=this._decodePayload(fe,G,z))||!(fe=this._findEnd(fe.end,!1))||(z.push(fe),!this._checksum(G)))return null;if(this.supplements.length>0){var Te=this._decodeExtensions(fe.end);if(!Te||!Te.decodedCodes)return null;var $e=Te.decodedCodes[Te.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:$e.start+(($e.end-$e.start)/2|0),end:$e.end}))return null;ue={supplement:Te,code:G.join("")+Te.code}}return Pt(Pt({code:G.join(""),start:_e.start,end:fe.end,startInfo:_e,decodedCodes:z},ue),{},{format:this.FORMAT})}}]),re}(Q);var Ht=function(ce){Ue()(re,ce);var be=function Wn(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"FORMAT","ean_2"),M}return le()(re,[{key:"decode",value:function(M,U){M&&(this._row=M);var G=0,z=U,ue=this._row.length,_e=[],fe=[],Te=null;if(void 0===z)return null;for(var $e=0;$e<2&&z<ue;$e++){if(!(Te=this._decodeCode(z)))return null;fe.push(Te),_e.push(Te.code%10),Te.code>=10&&(G|=1<<1-$e),1!==$e&&(z=this._nextSet(this._row,Te.end),z=this._nextUnset(this._row,z))}if(2!==_e.length||parseInt(_e.join(""))%4!==G)return null;var J=this._findStart();return{code:_e.join(""),decodedCodes:fe,end:Te.end,format:this.FORMAT,startInfo:J,start:J.start}}}]),re}(Cn);var En=[24,20,18,17,12,6,3,10,9,5],Tt=function(ce){Ue()(re,ce);var be=function br(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"FORMAT","ean_5"),M}return le()(re,[{key:"decode",value:function(M,U){if(void 0===U)return null;M&&(this._row=M);for(var G=0,z=U,ue=this._row.length,_e=null,fe=[],Te=[],$e=0;$e<5&&z<ue;$e++){if(!(_e=this._decodeCode(z)))return null;Te.push(_e),fe.push(_e.code%10),_e.code>=10&&(G|=1<<4-$e),4!==$e&&(z=this._nextSet(this._row,_e.end),z=this._nextUnset(this._row,z))}if(5!==fe.length||function(we){for(var Ae=we.length,at=0,Zt=Ae-2;Zt>=0;Zt-=2)at+=we[Zt];at*=3;for(var dn=Ae-1;dn>=0;dn-=2)at+=we[dn];return(at*=3)%10}(fe)!==function(we){for(var Ae=0;Ae<10;Ae++)if(we===En[Ae])return Ae;return null}(G))return null;var J=this._findStart();return{code:fe.join(""),decodedCodes:Te,end:_e.end,format:this.FORMAT,startInfo:J,start:J.start}}}]),re}(Cn);var jt=function(ce){Ue()(re,ce);var be=function et(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"FORMAT","ean_8"),M}return le()(re,[{key:"_decodePayload",value:function(M,U,G){for(var z=M,ue=0;ue<4;ue++){if(!(z=this._decodeCode(z.end,10)))return null;U.push(z.code),G.push(z)}if(null===(z=this._findPattern(mn,z.end,!0,!1)))return null;G.push(z);for(var _e=0;_e<4;_e++){if(!(z=this._decodeCode(z.end,10)))return null;G.push(z),U.push(z.code)}return z}}]),re}(Cn);var An=function(ce){Ue()(re,ce);var be=function Wt(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(M){var U;return Ge()(this,re),U=be.call(this,q()({normalizeBarSpaceWidth:!1},M)),se()(De()(U),"barSpaceRatio",[1,1]),se()(De()(U),"SINGLE_CODE_ERROR",.78),se()(De()(U),"AVG_CODE_ERROR",.38),se()(De()(U),"START_PATTERN",[1,1,1,1]),se()(De()(U),"STOP_PATTERN",[1,1,3]),se()(De()(U),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),se()(De()(U),"MAX_CORRECTION_FACTOR",5),se()(De()(U),"FORMAT","i2of5"),M.normalizeBarSpaceWidth&&(U.SINGLE_CODE_ERROR=.38,U.AVG_CODE_ERROR=.09),U.config=M,Ce()(U,De()(U))}return le()(re,[{key:"_matchPattern",value:function(M,U){if(this.config.normalizeBarSpaceWidth){for(var G=[0,0],z=[0,0],ue=[0,0],_e=this.MAX_CORRECTION_FACTOR,fe=1/_e,Te=0;Te<M.length;Te++)G[Te%2]+=M[Te],z[Te%2]+=U[Te];ue[0]=z[0]/G[0],ue[1]=z[1]/G[1],ue[0]=Math.max(Math.min(ue[0],_e),fe),ue[1]=Math.max(Math.min(ue[1],_e),fe),this.barSpaceRatio=ue;for(var $e=0;$e<M.length;$e++)M[$e]*=this.barSpaceRatio[$e%2]}return Yn()(Ie()(re.prototype),"_matchPattern",this).call(this,M,U)}},{key:"_findPattern",value:function(M,U){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],z=arguments.length>3&&void 0!==arguments[3]&&arguments[3],ue=new Array(M.length).fill(0),_e=0,fe={error:Number.MAX_VALUE,start:0,end:0},Te=this.AVG_CODE_ERROR;G=G||!1,z=z||!1,U||(U=this._nextSet(this._row));for(var $e=U;$e<this._row.length;$e++)if(this._row[$e]^(G?1:0))ue[_e]++;else{if(_e===ue.length-1){var J=ue.reduce(function(at,Zt){return at+Zt},0),we=this._matchPattern(ue,M);if(we<Te)return fe.error=we,fe.start=$e-J,fe.end=$e,fe;if(!z)return null;for(var Ae=0;Ae<ue.length-2;Ae++)ue[Ae]=ue[Ae+2];ue[ue.length-2]=0,ue[ue.length-1]=0,_e--}else _e++;ue[_e]=1,G=!G}return null}},{key:"_findStart",value:function(){for(var M=0,U=this._nextSet(this._row),G=null,z=1;!G;){if(!(G=this._findPattern(this.START_PATTERN,U,!1,!0)))return null;if(z=Math.floor((G.end-G.start)/4),(M=G.start-10*z)>=0&&this._matchRange(M,G.start,0))return G;U=G.end,G=null}return null}},{key:"_verifyTrailingWhitespace",value:function(M){var U=M.end+(M.end-M.start)/2;return U<this._row.length&&this._matchRange(M.end,U,0)?M:null}},{key:"_findEnd",value:function(){this._row.reverse();var M=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===M)return null;var U=M.start;return M.start=this._row.length-M.end,M.end=this._row.length-U,null!==M?this._verifyTrailingWhitespace(M):null}},{key:"_decodePair",value:function(M){for(var U=[],G=0;G<M.length;G++){var z=this._decodeCode(M[G]);if(!z)return null;U.push(z)}return U}},{key:"_decodeCode",value:function(M){for(var U=this.AVG_CODE_ERROR,G={error:Number.MAX_VALUE,code:-1,start:0,end:0},z=0;z<this.CODE_PATTERN.length;z++){var ue=this._matchPattern(M,this.CODE_PATTERN[z]);ue<G.error&&(G.code=z,G.error=ue)}return G.error<U?G:null}},{key:"_decodePayload",value:function(M,U,G){for(var z=0,ue=M.length,_e=[[0,0,0,0,0],[0,0,0,0,0]],fe=null;z<ue;){for(var Te=0;Te<5;Te++)_e[0][Te]=M[z]*this.barSpaceRatio[0],_e[1][Te]=M[z+1]*this.barSpaceRatio[1],z+=2;if(!(fe=this._decodePair(_e)))return null;for(var $e=0;$e<fe.length;$e++)U.push(fe[$e].code+""),G.push(fe[$e])}return fe}},{key:"_verifyCounterLength",value:function(M){return M.length%10==0}},{key:"decode",value:function(M,U){var G=new Array,z=new Array,ue=this._findStart();if(!ue)return null;z.push(ue);var _e=this._findEnd();if(!_e)return null;var fe=this._fillCounters(ue.end,_e.start,!1);return this._verifyCounterLength(fe)&&this._decodePayload(fe,G,z)?G.length%2!=0||G.length<6?null:(z.push(_e),{code:G.join(""),start:ue.start,end:_e.end,startInfo:ue,decodedCodes:z,format:this.FORMAT}):null}}]),re}(Q);function vn(ce,be){var re=Object.keys(ce);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(ce);be&&(M=M.filter(function(U){return Object.getOwnPropertyDescriptor(ce,U).enumerable})),re.push.apply(re,M)}return re}var pe=function(ce){Ue()(re,ce);var be=function ye(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),se()(De()(M),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),se()(De()(M),"FORMAT","upc_e"),M}return le()(re,[{key:"_decodePayload",value:function(M,U,G){for(var z=function(fe){for(var Te=1;Te<arguments.length;Te++){var $e=null!=arguments[Te]?arguments[Te]:{};Te%2?vn(Object($e),!0).forEach(function(J){se()(fe,J,$e[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors($e)):vn(Object($e)).forEach(function(J){Object.defineProperty(fe,J,Object.getOwnPropertyDescriptor($e,J))})}return fe}({},M),ue=0,_e=0;_e<6;_e++){if(!(z=this._decodeCode(z.end)))return null;z.code>=10&&(z.code=z.code-10,ue|=1<<5-_e),U.push(z.code),G.push(z)}return this._determineParity(ue,U)?z:null}},{key:"_determineParity",value:function(M,U){for(var G=0;G<this.CODE_FREQUENCY.length;G++)for(var z=0;z<this.CODE_FREQUENCY[G].length;z++)if(M===this.CODE_FREQUENCY[G][z])return U.unshift(G),U.push(z),!0;return!1}},{key:"_convertToUPCA",value:function(M){var U=[M[0]],G=M[M.length-2];return(U=G<=2?U.concat(M.slice(1,3)).concat([G,0,0,0,0]).concat(M.slice(3,6)):3===G?U.concat(M.slice(1,4)).concat([0,0,0,0,0]).concat(M.slice(4,6)):4===G?U.concat(M.slice(1,5)).concat([0,0,0,0,0,M[5]]):U.concat(M.slice(1,6)).concat([0,0,0,0,G])).push(M[M.length-1]),U}},{key:"_checksum",value:function(M){return Yn()(Ie()(re.prototype),"_checksum",this).call(this,this._convertToUPCA(M))}},{key:"_findEnd",value:function(M,U){return Yn()(Ie()(re.prototype),"_findEnd",this).call(this,M,!0)}},{key:"_verifyTrailingWhitespace",value:function(M){var U=M.end+(M.end-M.start)/2;return U<this._row.length&&this._matchRange(M.end,U,0)?M:null}}]),re}(Cn);var ze=function(ce){Ue()(re,ce);var be=function me(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(){var M;Ge()(this,re);for(var U=arguments.length,G=new Array(U),z=0;z<U;z++)G[z]=arguments[z];return M=be.call.apply(be,[this].concat(G)),se()(De()(M),"FORMAT","upc_a"),M}return le()(re,[{key:"decode",value:function(M,U){var G=Cn.prototype.decode.call(this);return G&&G.code&&13===G.code.length&&"0"===G.code.charAt(0)?(G.code=G.code.substring(1),G):null}}]),re}(Cn),Le={},Rt_UP=1,Rt_DOWN=-1;Le.getBarcodeLine=function(ce,be,re){var M,U,G,z,ue,_e=0|be.x,fe=0|be.y,Te=0|re.x,$e=0|re.y,J=Math.abs($e-fe)>Math.abs(Te-_e),we=[],Ae=ce.data,at=ce.size.x,Zt=255,dn=0;function sn(Fr,eo){Zt=(ue=Ae[eo*at+Fr])<Zt?ue:Zt,dn=ue>dn?ue:dn,we.push(ue)}J&&(G=_e,_e=fe,fe=G,G=Te,Te=$e,$e=G),_e>Te&&(G=_e,_e=Te,Te=G,G=fe,fe=$e,$e=G);var _n=Te-_e,Kn=Math.abs($e-fe);M=_n/2|0,U=fe;var zr=fe<$e?1:-1;for(z=_e;z<Te;z++)J?sn(U,z):sn(z,U),(M-=Kn)<0&&(U+=zr,M+=_n);return{line:we,min:Zt,max:dn}},Le.toBinaryLine=function(ce){var be,re,M,U,G,z,ue=ce.min,_e=ce.max,fe=ce.line,Te=ue+(_e-ue)/2,$e=[],J=(_e-ue)/12,we=-J;for(M=fe[0]>Te?Rt_UP:Rt_DOWN,$e.push({pos:0,val:fe[0]}),G=0;G<fe.length-2;G++)M!==(U=(be=fe[G+1]-fe[G])+(re=fe[G+2]-fe[G+1])<we&&fe[G+1]<1.5*Te?Rt_DOWN:be+re>J&&fe[G+1]>.5*Te?Rt_UP:M)&&($e.push({pos:G,val:fe[G]}),M=U);for($e.push({pos:fe.length,val:fe[fe.length-1]}),z=$e[0].pos;z<$e[1].pos;z++)fe[z]=fe[z]>Te?0:1;for(G=1;G<$e.length-1;G++)for(J=$e[G+1].val>$e[G].val?$e[G].val+($e[G+1].val-$e[G].val)/3*2|0:$e[G+1].val+($e[G].val-$e[G+1].val)/3|0,z=$e[G].pos;z<$e[G+1].pos;z++)fe[z]=fe[z]>J?0:1;return{line:fe,threshold:J}},Le.debug={printFrequency:function(ce,be){var re,M=be.getContext("2d");for(be.width=ce.length,be.height=256,M.beginPath(),M.strokeStyle="blue",re=0;re<ce.length;re++)M.moveTo(re,255),M.lineTo(re,255-ce[re]);M.stroke(),M.closePath()},printPattern:function(ce,be){var re,M=be.getContext("2d");for(be.width=ce.length,M.fillColor="black",re=0;re<ce.length;re++)1===ce[re]&&M.fillRect(re,0,1,100)}};var wn=Le;function On(ce,be){var re="undefined"!=typeof Symbol&&ce[Symbol.iterator]||ce["@@iterator"];if(!re){if(Array.isArray(ce)||(re=function(_e,fe){if(_e){if("string"==typeof _e)return or(_e,undefined);var Te=Object.prototype.toString.call(_e).slice(8,-1);if("Object"===Te&&_e.constructor&&(Te=_e.constructor.name),"Map"===Te||"Set"===Te)return Array.from(_e);if("Arguments"===Te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Te))return or(_e,undefined)}}(ce))||be&&ce&&"number"==typeof ce.length){re&&(ce=re);var M=0,U=function(){};return{s:U,n:function(){return M>=ce.length?{done:!0}:{done:!1,value:ce[M++]}},e:function(_e){throw _e},f:U}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var G,z=!0,ue=!1;return{s:function(){re=re.call(ce)},n:function(){var _e=re.next();return z=_e.done,_e},e:function(_e){ue=!0,G=_e},f:function(){try{z||null==re.return||re.return()}finally{if(ue)throw G}}}}function or(ce,be){(null==be||be>ce.length)&&(be=ce.length);for(var re=0,M=new Array(be);re<be;re++)M[re]=ce[re];return M}var Gn={code_128_reader:vr,ean_reader:Cn,ean_5_reader:Tt,ean_2_reader:Ht,ean_8_reader:jt,code_39_reader:Lr,code_39_vin_reader:Re,codabar_reader:er,upc_reader:ze,upc_e_reader:pe,i2of5_reader:An,"2of5_reader":pn,code_93_reader:vt,code_32_reader:gn},tr={registerReader:function(ce,be){Gn[ce]=be},create:function(ce,be){var M=[];function U(){ce.readers.forEach(function(fe){var Te,$e={},J=[];"object"===P()(fe)?(Te=fe.format,$e=fe.config):"string"==typeof fe&&(Te=fe),$e.supplements&&(J=$e.supplements.map(function(Ae){return new Gn[Ae]}));try{var we=new Gn[Te]($e,J);M.push(we)}catch(Ae){throw console.error("* Error constructing reader ",Te,Ae),Ae}})}function G(fe){var Te,$e=null,J=wn.getBarcodeLine(be,fe[0],fe[1]);for(wn.toBinaryLine(J),Te=0;Te<M.length&&null===$e;Te++)$e=M[Te].decodePattern(J.line);return null===$e?null:{codeResult:$e,barcodeLine:J}}function z(fe){return ue.apply(this,arguments)}function ue(){return(ue=$()(ae.a.mark(function fe(Te){var $e,J,we,Ae;return ae.a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:$e=null,J=On(M),at.prev=2,J.s();case 4:if((we=J.n()).done){at.next=14;break}if(!(Ae=we.value).decodeImage){at.next=12;break}return at.next=9,Ae.decodeImage(Te);case 9:if(!($e=at.sent)){at.next=12;break}return at.abrupt("break",14);case 12:at.next=4;break;case 14:at.next=19;break;case 16:at.prev=16,at.t0=at.catch(2),J.e(at.t0);case 19:return at.prev=19,J.f(),at.finish(19);case 22:return at.abrupt("return",$e);case 23:case"end":return at.stop()}},fe,null,[[2,16,19,22]])}))).apply(this,arguments)}function _e(fe){var Te,$e,Ae,J=function(Ae){return Math.sqrt(Math.pow(Math.abs(Ae[1].y-Ae[0].y),2)+Math.pow(Math.abs(Ae[1].x-Ae[0].x),2))}(Te=[{x:((Ae=fe)[1][0]-Ae[0][0])/2+Ae[0][0],y:(Ae[1][1]-Ae[0][1])/2+Ae[0][1]},{x:(Ae[3][0]-Ae[2][0])/2+Ae[2][0],y:(Ae[3][1]-Ae[2][1])/2+Ae[2][1]}]),we=Math.atan2(Te[1].y-Te[0].y,Te[1].x-Te[0].x);return null===(Te=function(Ae,at,Zt){function dn(sn){var _n=sn*Math.sin(at),Kn=sn*Math.cos(at);Ae[0].y-=_n,Ae[0].x-=Kn,Ae[1].y+=_n,Ae[1].x+=Kn}for(dn(Zt);Zt>1&&(!be.inImageWithBorder(Ae[0])||!be.inImageWithBorder(Ae[1]));)dn(-(Zt-=Math.ceil(Zt/2)));return Ae}(Te,we,Math.floor(.1*J)))?null:(null===($e=G(Te))&&($e=function(Ae,at,Zt){var dn,sn,_n,Kn=Math.sqrt(Math.pow(Ae[1][0]-Ae[0][0],2)+Math.pow(Ae[1][1]-Ae[0][1],2)),zr=null,Fr=Math.sin(Zt),eo=Math.cos(Zt);for(dn=1;dn<16&&null===zr;dn++)_n={y:(sn=Kn/16*dn*(dn%2==0?-1:1))*Fr,x:sn*eo},at[0].y+=_n.x,at[0].x-=_n.y,at[1].y+=_n.x,at[1].x-=_n.y,zr=G(at);return zr}(fe,Te,we)),null===$e?null:{codeResult:$e.codeResult,line:Te,angle:we,pattern:$e.barcodeLine.line,threshold:$e.barcodeLine.threshold})}return U(),{decodeFromBoundingBox:function(fe){return _e(fe)},decodeFromBoundingBoxes:function(fe){var Te,$e,J=[],we=ce.multiple;for(Te=0;Te<fe.length;Te++){var Ae=fe[Te];if(($e=_e(Ae)||{}).box=Ae,we)J.push($e);else if($e.codeResult)return $e}return{barcodes:J}},decodeFromImage:function(fe){return $()(ae.a.mark(function Te(){return ae.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,z(fe);case 2:return J.abrupt("return",J.sent);case 4:case"end":return J.stop()}},Te)}))()},registerReader:function(fe,Te){if(Gn[fe])throw new Error("cannot register existing reader",fe);Gn[fe]=Te},setReaders:function(fe){ce.readers=fe,M.length=0,U()}}}},tn=function(){var ce={};function be(U){return ce[U]||(ce[U]={subscribers:[]}),ce[U]}function re(U,G){U.async?setTimeout(function(){U.callback(G)},4):U.callback(G)}function M(U,G,z){var ue;if("function"==typeof G)ue={callback:G,async:z};else if(!(ue=G).callback)throw new Error("Callback was not specified on options");be(U).subscribers.push(ue)}return{subscribe:function(U,G,z){return M(U,G,z)},publish:function(U,G){var z=be(U),ue=z.subscribers;ue.filter(function(_e){return!!_e.once}).forEach(function(_e){re(_e,G)}),z.subscribers=ue.filter(function(_e){return!_e.once}),z.subscribers.forEach(function(_e){re(_e,G)})},once:function(U,G){M(U,{callback:G,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(U,G){if(U){var z=be(U);z.subscribers=z&&G?z.subscribers.filter(function(ue){return ue.callback!==G}):[]}else ce={}}}}(),Dn=e(85),nn=e.n(Dn),Fe=e(86);var cn,Fn=function(ce){Ue()(re,ce);var be=function st(ce){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,M=Ie()(ce);if(be){var U=Ie()(this).constructor;re=Reflect.construct(M,arguments,U)}else re=M.apply(this,arguments);return Ce()(this,re)}}(re);function re(M,U){var G;return Ge()(this,re),G=be.call(this,M),se()(De()(G),"code",void 0),G.code=U,Object.setPrototypeOf(De()(G),re.prototype),G}return le()(re)}(e.n(Fe)()(Error)),sr="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Vt(){try{return navigator.mediaDevices.enumerateDevices()}catch(be){var ce=new Fn("enumerateDevices is not defined. ".concat(sr),-1);return Promise.reject(ce)}}function Ut(ce){try{return navigator.mediaDevices.getUserMedia(ce)}catch(re){var be=new Fn("getUserMedia is not defined. ".concat(sr),-1);return Promise.reject(be)}}function Ve(ce){return new Promise(function(be,re){var M=10;!function U(){M>0?ce.videoWidth>10&&ce.videoHeight>10?be():window.setTimeout(U,500):re(new Fn("Unable to play video stream. Is webcam working?",-1)),M--}()})}function bt(ce,be){return qt.apply(this,arguments)}function qt(){return(qt=$()(ae.a.mark(function ce(be,re){var M;return ae.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Ut(re);case 2:if(cn=M=U.sent,!be){U.next=11;break}return be.setAttribute("autoplay","true"),be.setAttribute("muted","true"),be.setAttribute("playsinline","true"),be.srcObject=M,be.addEventListener("loadedmetadata",function(){be.play()}),U.abrupt("return",Ve(be));case 11:return U.abrupt("return",Promise.resolve());case 12:case"end":return U.stop()}},ce)}))).apply(this,arguments)}function Xt(ce){var be=nn()(ce,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==ce.minAspectRatio&&ce.minAspectRatio>0&&(be.aspectRatio=ce.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==ce.facing&&(be.facingMode=ce.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),be}function on(){var be=Xt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return be&&be.deviceId&&be.facingMode&&delete be.facingMode,Promise.resolve({audio:!1,video:be})}function Tn(){return(Tn=$()(ae.a.mark(function ce(){return ae.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,Vt();case 2:return re.abrupt("return",re.sent.filter(function(M){return"videoinput"===M.kind}));case 4:case"end":return re.stop()}},ce)}))).apply(this,arguments)}function jn(){if(!cn)return null;var ce=cn.getVideoTracks();return ce&&null!=ce&&ce.length?ce[0]:null}var ln={requestedVideoElement:null,request:function(ce,be){return $()(ae.a.mark(function re(){return ae.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return ln.requestedVideoElement=ce,U.next=3,on(be);case 3:return U.abrupt("return",bt(ce,U.sent));case 5:case"end":return U.stop()}},re)}))()},release:function(){var ce=cn&&cn.getVideoTracks();return null!==ln.requestedVideoElement&&ln.requestedVideoElement.pause(),new Promise(function(be){setTimeout(function(){ce&&ce.length&&ce[0].stop(),cn=null,ln.requestedVideoElement=null,be()},0)})},enumerateVideoDevices:function(){return Tn.apply(this,arguments)},getActiveStreamLabel:function(){var ce=jn();return ce?ce.label:""},getActiveTrack:jn},Nn=ln,Cr={create:function(ce){var be,re=document.createElement("canvas"),M=re.getContext("2d"),U=[],G=null!==(be=ce.capacity)&&void 0!==be?be:20,z=!0===ce.capture;return{addResult:function(_e,fe,Te){var $e={};(function ue(_e){return!!G&&_e&&(fe=_e,!((Te=ce.blacklist)&&Te.some(function($e){return Object.keys($e).every(function(J){return $e[J]===fe[J]})})))&&function(fe,Te){return"function"!=typeof Te||Te(fe)}(_e,ce.filter);var fe,Te})(Te)&&(G--,$e.codeResult=Te,z&&(re.width=fe.x,re.height=fe.y,Ye.a.drawImage(_e,fe,M),$e.frame=re.toDataURL()),U.push($e))},getResults:function(){return U}}}},Zn={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Pr=e(7),Tr=le()(function ce(){Ge()(this,ce),se()(this,"config",void 0),se()(this,"inputStream",void 0),se()(this,"framegrabber",void 0),se()(this,"inputImageWrapper",void 0),se()(this,"stopped",!1),se()(this,"boxSize",void 0),se()(this,"resultCollector",void 0),se()(this,"decoder",void 0),se()(this,"workerPool",[]),se()(this,"onUIThread",!0),se()(this,"canvasContainer",new Ui)}),bo=le()(function ce(){Ge()(this,ce),se()(this,"image",void 0),se()(this,"overlay",void 0)}),Ui=le()(function ce(){Ge()(this,ce),se()(this,"ctx",void 0),se()(this,"dom",void 0),this.ctx=new bo,this.dom=new bo}),nr=e(23);function Xi(ce){return"undefined"==typeof document?null:ce instanceof HTMLElement&&ce.nodeName&&1===ce.nodeType?ce:document.querySelector("string"==typeof ce?ce:"#interactive.viewport")}function Or(ce,be){var G,z,re=(G=be,(z=document.querySelector(ce))||((z=document.createElement("canvas")).className=G),z),M=re.getContext("2d");return{canvas:re,context:M}}var Me={274:"orientation"},ot=Object.keys(Me).map(function(ce){return Me[ce]});function St(ce){return new Promise(function(be){var re=new FileReader;re.onload=function(M){return be(M.target.result)},re.readAsArrayBuffer(ce)})}function Ot(ce){return new Promise(function(be,re){var M=new XMLHttpRequest;M.open("GET",ce,!0),M.responseType="blob",M.onreadystatechange=function(){M.readyState!==XMLHttpRequest.DONE||200!==M.status&&0!==M.status||be(this.response)},M.onerror=re,M.send()})}function Jt(ce){var be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot,re=new DataView(ce),M=ce.byteLength,U=be.reduce(function(z,ue){var _e=Object.keys(Me).filter(function(fe){return Me[fe]===ue})[0];return _e&&(z[_e]=ue),z},{}),G=2;if(255!==re.getUint8(0)||216!==re.getUint8(1))return!1;for(;G<M;){if(255!==re.getUint8(G))return!1;if(225===re.getUint8(G+1))return ar(re,G+4,U);G+=2+re.getUint16(G+2)}return!1}function ar(ce,be,re){if("Exif"!==function(z,ue,_e){for(var fe="",Te=ue;Te<ue+4;Te++)fe+=String.fromCharCode(z.getUint8(Te));return fe}(ce,be))return!1;var M,U=be+6;if(18761===ce.getUint16(U))M=!1;else{if(19789!==ce.getUint16(U))return!1;M=!0}if(42!==ce.getUint16(U+2,!M))return!1;var G=ce.getUint32(U+4,!M);return!(G<8)&&function(z,ue,_e,fe,Te){for(var $e=z.getUint16(_e,!Te),J={},we=0;we<$e;we++){var Ae=_e+12*we+2,at=fe[z.getUint16(Ae,!Te)];at&&(J[at]=Mr(z,Ae,0,0,Te))}return J}(ce,0,U+G,re,M)}function Mr(ce,be,re,M,U){var G=ce.getUint16(be+2,!U),z=ce.getUint32(be+4,!U);return 3===G&&1===z?ce.getUint16(be+8,!U):null}var pr={};function ui(ce,be){ce.onload=function(){be.loaded(this)}}pr.load=function(ce,be,re,M,U){var G,z,ue,_e=new Array(M),fe=new Array(_e.length);if(!1===U)_e[0]=ce;else for(G=0;G<_e.length;G++)ue=re+G,_e[G]="".concat(ce,"image-").concat("00".concat(ue).slice(-3),".jpg");for(fe.notLoaded=[],fe.addImage=function(Te){fe.notLoaded.push(Te)},fe.loaded=function(Te){for(var $e=fe.notLoaded,J=0;J<$e.length;J++)if($e[J]===Te){$e.splice(J,1);for(var we=0;we<_e.length;we++){var Ae=_e[we].substr(_e[we].lastIndexOf("/"));if(-1!==Te.src.lastIndexOf(Ae)){fe[we]={img:Te};break}}break}0===$e.length&&(!1===U?function(at){var Zt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot;return/^blob:/i.test(at)?Ot(at).then(St).then(function(dn){return Jt(dn,Zt)}):Promise.resolve(null)}(ce,["orientation"]).then(function(at){fe[0].tags=at,be(fe)}).catch(function(at){console.log(at),be(fe)}):be(fe))},G=0;G<_e.length;G++)z=new Image,fe.addImage(z),ui(z,fe),z.src=_e[G]};var ss=pr,Gr={createVideoStream:function(ce){var be,re,M=null,U=["canrecord","ended"],G={},z={x:0,y:0,type:"Point"},ue={x:0,y:0,type:"XYSize"},_e={getRealWidth:function(){return ce.videoWidth},getRealHeight:function(){return ce.videoHeight},getWidth:function(){return be},getHeight:function(){return re},setWidth:function(fe){be=fe},setHeight:function(fe){re=fe},setInputStream:function(fe){M=fe,this.setAttribute("src",void 0!==fe.src?fe.src:"")},ended:function(){return ce.ended},getConfig:function(){return M},setAttribute:function(fe,Te){ce&&ce.setAttribute(fe,Te)},pause:function(){ce.pause()},play:function(){ce.play()},setCurrentTime:function(fe){var Te;"LiveStream"!==(null===(Te=M)||void 0===Te?void 0:Te.type)&&this.setAttribute("currentTime",fe.toString())},addEventListener:function(fe,Te,$e){-1!==U.indexOf(fe)?(G[fe]||(G[fe]=[]),G[fe].push(Te)):ce.addEventListener(fe,Te,$e)},clearEventHandlers:function(){U.forEach(function(fe){var Te=G[fe];Te&&Te.length>0&&Te.forEach(function($e){ce.removeEventListener(fe,$e)})})},trigger:function(fe,Te){var $e,J,we,Ae,at,Zt=G[fe];if("canrecord"===fe&&(Ae=ce.videoWidth,at=ce.videoHeight,be=null!==(J=M)&&void 0!==J&&J.size?Ae/at>1?M.size:Math.floor(Ae/at*M.size):Ae,re=null!==(we=M)&&void 0!==we&&we.size?Ae/at>1?Math.floor(at/Ae*M.size):M.size:at,ue.x=be,ue.y=re),Zt&&Zt.length>0)for($e=0;$e<Zt.length;$e++)Zt[$e].apply(_e,Te)},setTopRight:function(fe){z.x=fe.x,z.y=fe.y},getTopRight:function(){return z},setCanvasSize:function(fe){ue.x=fe.x,ue.y=fe.y},getCanvasSize:function(){return ue},getFrame:function(){return ce}};return _e},createLiveStream:function(ce){ce&&ce.setAttribute("autoplay","true");var be=Gr.createVideoStream(ce);return be.ended=function(){return!1},be},createImageStream:function(){var ce,be,re=null,M=0,U=0,G=0,z=!0,ue=!1,_e=null,fe=0,Te=null,$e=!1,J=["canrecord","ended"],we={},Ae={x:0,y:0,type:"Point"},at={x:0,y:0,type:"XYSize"};function Zt(sn,_n){var Kn,zr=we[sn];if(zr&&zr.length>0)for(Kn=0;Kn<zr.length;Kn++)zr[Kn].apply(dn,_n)}var dn={trigger:Zt,getWidth:function(){return ce},getHeight:function(){return be},setWidth:function(sn){ce=sn},setHeight:function(sn){be=sn},getRealWidth:function(){return M},getRealHeight:function(){return U},setInputStream:function(sn){var _n;!1===sn.sequence?(Te=sn.src,fe=1):(Te=sn.src,fe=sn.length),ue=!1,ss.load(Te,function(Kn){var zr,Fr;if(_e=Kn,Kn[0].tags&&Kn[0].tags.orientation)switch(Kn[0].tags.orientation){case 6:case 8:M=Kn[0].img.height,U=Kn[0].img.width;break;default:M=Kn[0].img.width,U=Kn[0].img.height}else M=Kn[0].img.width,U=Kn[0].img.height;ce=null!==(zr=re)&&void 0!==zr&&zr.size?M/U>1?re.size:Math.floor(M/U*re.size):M,be=null!==(Fr=re)&&void 0!==Fr&&Fr.size?M/U>1?Math.floor(U/M*re.size):re.size:U,at.x=ce,at.y=be,ue=!0,G=0,setTimeout(function(){Zt("canrecord",[])},0)},1,fe,null===(_n=re=sn)||void 0===_n?void 0:_n.sequence)},ended:function(){return $e},setAttribute:function(){},getConfig:function(){return re},pause:function(){z=!0},play:function(){z=!1},setCurrentTime:function(sn){G=sn},addEventListener:function(sn,_n){-1!==J.indexOf(sn)&&(we[sn]||(we[sn]=[]),we[sn].push(_n))},clearEventHandlers:function(){Object.keys(we).forEach(function(sn){return delete we[sn]})},setTopRight:function(sn){Ae.x=sn.x,Ae.y=sn.y},getTopRight:function(){return Ae},setCanvasSize:function(sn){at.x=sn.x,at.y=sn.y},getCanvasSize:function(){return at},getFrame:function(){var sn,_n;return ue?(z||(sn=null===(_n=_e)||void 0===_n?void 0:_n[G],G<fe-1?G++:setTimeout(function(){$e=!0,Zt("ended",[])},0)),sn):null}};return dn}},ks=Gr,ji=e(10),Ia=Math.PI/180,Pa={create:function(ce,be){var re,M={},U=ce.getConfig(),G=(Object(ji.h)(ce.getRealWidth(),ce.getRealHeight()),ce.getCanvasSize()),z=Object(ji.h)(ce.getWidth(),ce.getHeight()),ue=ce.getTopRight(),_e=ue.x,fe=ue.y,Te=null,$e=null;return(re=be||document.createElement("canvas")).width=G.x,re.height=G.y,Te=re.getContext("2d"),$e=new Uint8Array(z.x*z.y),M.attachData=function(J){$e=J},M.getData=function(){return $e},M.grab=function(){var J,dn,sn,we=U.halfSample,Ae=ce.getFrame(),at=Ae,Zt=0;if(at){if((dn=re).width!==(sn=G).x&&(dn.width=sn.x),dn.height!==sn.y&&(dn.height=sn.y),"ImageStream"===U.type&&(at=Ae.img,Ae.tags&&Ae.tags.orientation))switch(Ae.tags.orientation){case 6:Zt=90*Ia;break;case 8:Zt=-90*Ia}return 0!==Zt?(Te.translate(G.x/2,G.y/2),Te.rotate(Zt),Te.drawImage(at,-G.y/2,-G.x/2,G.y,G.x),Te.rotate(-Zt),Te.translate(-G.x/2,-G.y/2)):Te.drawImage(at,0,0,G.x,G.y),J=Te.getImageData(_e,fe,z.x,z.y).data,we?Object(ji.e)(J,z,$e):Object(ji.c)(J,$e,U),!0}return!1},M.getSize=function(){return z},M}},Mo=Pa;function aa(ce,be){var re=Object.keys(ce);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(ce);be&&(M=M.filter(function(U){return Object.getOwnPropertyDescriptor(ce,U).enumerable})),re.push.apply(re,M)}return re}function Ls(ce){for(var be=1;be<arguments.length;be++){var re=null!=arguments[be]?arguments[be]:{};be%2?aa(Object(re),!0).forEach(function(M){se()(ce,M,re[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(re)):aa(Object(re)).forEach(function(M){Object.defineProperty(ce,M,Object.getOwnPropertyDescriptor(re,M))})}return ce}var Si=[];function bs(ce){return Ls(Ls({},ce),{},{inputStream:Ls(Ls({},ce.inputStream),{},{target:null})})}function Dc(ce){if(ce){var be=ce().default;if(!be)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var re;function M(G){self.postMessage({event:"processed",imageData:re.data,result:G},[re.data.buffer])}function U(){self.postMessage({event:"initialized",imageData:re.data},[re.data.buffer])}self.onmessage=function(G){if("init"===G.data.cmd){var z=G.data.config;z.numOfWorkers=0,re=new be.ImageWrapper({x:G.data.size.x,y:G.data.size.y},new Uint8Array(G.data.imageData)),be.init(z,U,re),be.onProcessed(M)}else"process"===G.data.cmd?(re.data=new Uint8Array(G.data.imageData),be.start()):"setReaders"===G.data.cmd?be.setReaders(G.data.readers):"registerReader"===G.data.cmd&&be.registerReader(G.data.name,G.data.reader)}}function Cs(ce,be,re){var M,U,G=("undefined"!=typeof __factorySource__&&(U=__factorySource__),M=new Blob(["("+Dc.toString()+")("+U+");"],{type:"text/javascript"}),window.URL.createObjectURL(M)),z={worker:new Worker(G),imageData:new Uint8Array(be.getWidth()*be.getHeight()),busy:!0};z.worker.onmessage=function(ue){"initialized"===ue.data.event?(URL.revokeObjectURL(G),z.busy=!1,z.imageData=new Uint8Array(ue.data.imageData),re(z)):"processed"===ue.data.event&&(z.imageData=new Uint8Array(ue.data.imageData),z.busy=!1)},z.worker.postMessage({cmd:"init",size:{x:be.getWidth(),y:be.getHeight()},imageData:z.imageData,config:bs(ce)},[z.imageData.buffer])}function Fs(ce,be,re,M){var U=ce-Si.length;if(0===U&&M)M();else if(U<0)Si.slice(U).forEach(function(ue){ue.worker.terminate()}),Si=Si.slice(0,U),M&&M();else{var G=function(ue){Si.push(ue),Si.length>=ce&&M&&M()};if(be)for(var z=0;z<U;z++)Cs(be,re,G)}}function Co(ce,be,re){for(var M=ce.length;M--;)ce[M][0]+=be,ce[M][1]+=re}var as=function(){function ce(){var M=this;Ge()(this,ce),se()(this,"context",new Tr),se()(this,"canRecord",function(U){var G;M.context.config&&(nr.a.checkImageConstraints(M.context.inputStream,null===(G=M.context.config)||void 0===G?void 0:G.locator),M.initCanvas(),M.context.framegrabber=Mo.create(M.context.inputStream,M.context.canvasContainer.dom.image),void 0===M.context.config.numOfWorkers&&(M.context.config.numOfWorkers=0),Fs(M.context.config.numOfWorkers,M.context.config,M.context.inputStream,function(){var z;0===(null===(z=M.context.config)||void 0===z?void 0:z.numOfWorkers)&&M.initializeData(),M.ready(U)}))}),se()(this,"update",function(){if(M.context.onUIThread){var U,G=(ue=M.context.framegrabber,Si.length?!!(_e=Si.filter(function(fe){return!fe.busy})[0])&&(ue.attachData(_e.imageData),ue.grab()&&(_e.busy=!0,_e.worker.postMessage({cmd:"process",imageData:_e.imageData},[_e.imageData.buffer])),!0):null);G||(M.context.framegrabber.attachData(null===(U=M.context.inputImageWrapper)||void 0===U?void 0:U.data),M.context.framegrabber.grab()&&(G||M.locateAndDecode()))}else{var z;M.context.framegrabber.attachData(null===(z=M.context.inputImageWrapper)||void 0===z?void 0:z.data),M.context.framegrabber.grab(),M.locateAndDecode()}var ue,_e})}var be,re;return le()(ce,[{key:"initBuffers",value:function(M){if(this.context.config){var U=(ue=this.context.inputStream,fe=this.context.config.locator,Te=M||new W.a({x:ue.getWidth(),y:ue.getHeight(),type:"XYSize"}),$e=[Object(Pr.clone)([0,0]),Object(Pr.clone)([0,Te.size.y]),Object(Pr.clone)([Te.size.x,Te.size.y]),Object(Pr.clone)([Te.size.x,0])],nr.a.init(Te,fe),{inputImageWrapper:Te,boxSize:$e}),z=U.boxSize;this.context.inputImageWrapper=U.inputImageWrapper,this.context.boxSize=z}var ue,fe,Te,$e}},{key:"initializeData",value:function(M){this.context.config&&(this.initBuffers(M),this.context.decoder=tr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?Xi(this.context.config.inputStream.target):null}},{key:"ready",value:function(M){this.context.inputStream.play(),M()}},{key:"initCanvas",value:function(){var M=function ke(ce){var be,re,M,U,G=Xi(null==ce||null===(be=ce.config)||void 0===be||null===(re=be.inputStream)||void 0===re?void 0:re.target),z=null==ce||null===(M=ce.config)||void 0===M||null===(U=M.inputStream)||void 0===U?void 0:U.type;if(!z)return null;var ue=function(fe){if("undefined"!=typeof document){var Te=Or("canvas.imgBuffer","imgBuffer"),$e=Or("canvas.drawingBuffer","drawingBuffer");return Te.canvas.width=$e.canvas.width=fe.x,Te.canvas.height=$e.canvas.height=fe.y,{dom:{image:Te.canvas,overlay:$e.canvas},ctx:{image:Te.context,overlay:$e.context}}}return null}(ce.inputStream.getCanvasSize());if(!ue)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var _e=ue.dom;return"undefined"!=typeof document&&G&&("ImageStream"!==z||G.contains(_e.image)||G.appendChild(_e.image),G.contains(_e.overlay)||G.appendChild(_e.overlay)),ue}(this.context);if(M){var U=M.ctx,G=M.dom;this.context.canvasContainer.dom.image=G.image,this.context.canvasContainer.dom.overlay=G.overlay,this.context.canvasContainer.ctx.image=U.image,this.context.canvasContainer.ctx.overlay=U.overlay}}},{key:"initInputStream",value:function(M){if(this.context.config&&this.context.config.inputStream){var U=this.context.config.inputStream,G=U.type,z=U.constraints,ue=function(){var Te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",$e=arguments.length>1?arguments[1]:void 0,J=arguments.length>2?arguments[2]:void 0;switch(Te){case"VideoStream":var we=document.createElement("video");return{video:we,inputStream:J.createVideoStream(we)};case"ImageStream":return{inputStream:J.createImageStream()};case"LiveStream":var Ae=null;return $e&&((Ae=$e.querySelector("video"))||(Ae=document.createElement("video"),$e.appendChild(Ae))),{video:Ae,inputStream:J.createLiveStream(Ae)};default:return console.error("* setupInputStream invalid type ".concat(Te)),{video:null,inputStream:null}}}(G,this.getViewPort(),ks),_e=ue.video,fe=ue.inputStream;"LiveStream"===G&&_e&&Nn.request(_e,z).then(function(){return fe.trigger("canrecord")}).catch(function(Te){return M(Te)}),fe.setAttribute("preload","auto"),fe.setInputStream(this.context.config.inputStream),fe.addEventListener("canrecord",this.canRecord.bind(void 0,M)),this.context.inputStream=fe}}},{key:"getBoundingBoxes",value:function(){var M;return null!==(M=this.context.config)&&void 0!==M&&M.locate?nr.a.locate():[[Object(Pr.clone)(this.context.boxSize[0]),Object(Pr.clone)(this.context.boxSize[1]),Object(Pr.clone)(this.context.boxSize[2]),Object(Pr.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(M){var fe,Te,$e,U=this,G=this.context.inputStream.getTopRight(),z=G.x,ue=G.y;if((0!==z||0!==ue)&&(M.barcodes&&M.barcodes.forEach(function(fe){return U.transformResult(fe)}),M.line&&2===M.line.length&&($e=ue,(fe=M.line)[0].x+=Te=z,fe[0].y+=$e,fe[1].x+=Te,fe[1].y+=$e),M.box&&Co(M.box,z,ue),M.boxes&&M.boxes.length>0))for(var _e=0;_e<M.boxes.length;_e++)Co(M.boxes[_e],z,ue)}},{key:"addResult",value:function(M,U){var G=this;U&&this.context.resultCollector&&(M.barcodes?M.barcodes.filter(function(z){return z.codeResult}).forEach(function(z){return G.addResult(z,U)}):M.codeResult&&this.context.resultCollector.addResult(U,this.context.inputStream.getCanvasSize(),M.codeResult))}},{key:"hasCodeResult",value:function(M){return!(!M||!(M.barcodes?M.barcodes.some(function(U){return U.codeResult}):M.codeResult))}},{key:"publishResult",value:function(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,U=arguments.length>1?arguments[1]:void 0,G=M;M&&this.context.onUIThread&&(this.transformResult(M),this.addResult(M,U),G=M.barcodes||M),tn.publish("processed",G),this.hasCodeResult(M)&&tn.publish("detected",G)}},{key:"locateAndDecode",value:(re=$()(ae.a.mark(function M(){var U,G,z,ue,_e;return ae.a.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(!(U=this.getBoundingBoxes())){fe.next=12;break}return fe.next=4,this.context.decoder.decodeFromBoundingBoxes(U);case 4:if(fe.t0=fe.sent,fe.t0){fe.next=7;break}fe.t0={};case 7:(z=fe.t0).boxes=U,this.publishResult(z,null===(G=this.context.inputImageWrapper)||void 0===G?void 0:G.data),fe.next=16;break;case 12:return fe.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(ue=fe.sent)?this.publishResult(ue,null===(_e=this.context.inputImageWrapper)||void 0===_e?void 0:_e.data):this.publishResult();case 16:case"end":return fe.stop()}},M,this)})),function(){return re.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var M,U=this,G=null,z=1e3/((null===(M=this.context.config)||void 0===M?void 0:M.frequency)||60);this.context.stopped=!1;var ue=this.context;!function _e(fe){G=G||fe,ue.stopped||(fe>=G&&(G+=z,U.update()),window.requestAnimationFrame(_e))}(performance.now())}},{key:"start",value:function(){var M,U;this.context.onUIThread&&"LiveStream"===(null===(M=this.context.config)||void 0===M||null===(U=M.inputStream)||void 0===U?void 0:U.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(be=$()(ae.a.mark(function M(){var U;return ae.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(this.context.stopped=!0,Fs(0),null===(U=this.context.config)||void 0===U||!U.inputStream||"LiveStream"!==this.context.config.inputStream.type){G.next=6;break}return G.next=5,Nn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return G.stop()}},M,this)})),function(){return be.apply(this,arguments)})},{key:"setReaders",value:function(M){var U;this.context.decoder&&this.context.decoder.setReaders(M),U=M,Si.forEach(function(G){return G.worker.postMessage({cmd:"setReaders",readers:U})})}},{key:"registerReader",value:function(M,U){var G,z;tr.registerReader(M,U),this.context.decoder&&this.context.decoder.registerReader(M,U),G=M,z=U,Si.forEach(function(ue){return ue.worker.postMessage({cmd:"registerReader",name:G,reader:z})})}}]),ce}(),No=new as,Oa=No.context,Ho={init:function(ce,be,re){var M,U=arguments.length>3&&void 0!==arguments[3]?arguments[3]:No;return be||(M=new Promise(function(G,z){be=function(ue){ue?z(ue):G()}})),U.context.config=q()({},Zn,ce),U.context.config.numOfWorkers>0&&(U.context.config.numOfWorkers=0),re?(U.context.onUIThread=!1,U.initializeData(re),be&&be()):U.initInputStream(be),M},start:function(){return No.start()},stop:function(){return No.stop()},pause:function(){Oa.stopped=!0},onDetected:function(ce){ce&&("function"==typeof ce||"object"===P()(ce)&&ce.callback)?tn.subscribe("detected",ce):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(ce){tn.unsubscribe("detected",ce)},onProcessed:function(ce){ce&&("function"==typeof ce||"object"===P()(ce)&&ce.callback)?tn.subscribe("processed",ce):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(ce){tn.unsubscribe("processed",ce)},setReaders:function(ce){ce?No.setReaders(ce):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(ce,be){ce?be?No.registerReader(ce,be):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(ce){ce&&"function"==typeof ce.addResult&&(Oa.resultCollector=ce)},get canvas(){return Oa.canvasContainer},decodeSingle:function(ce,be){var re=this,M=new as;return(ce=q()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:ce.src},numOfWorkers:1,locator:{halfSample:!1}},ce)).numOfWorkers>0&&(ce.numOfWorkers=0),ce.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),ce.numOfWorkers=0),new Promise(function(U,G){try{re.init(ce,function(){tn.once("processed",function(z){M.stop(),be&&be.call(null,z),U(z)},!0),M.start()},null,M)}catch(z){G(z)}})},get default(){return Ho},Readers:C,CameraAccess:Nn,ImageDebug:Ye.a,ImageWrapper:W.a,ResultCollector:Cr};O.default=Ho}]).default},2090:(tt,A,O)=>{"use strict";O.d(A,{$s:()=>Pn,BH:()=>qe,L:()=>Y,LL:()=>gt,Lj:()=>An,Mn:()=>He,UG:()=>Oe,US:()=>q,X3:()=>Wt,ZB:()=>ae,ZR:()=>de,b$:()=>Ue,d:()=>Ze,eu:()=>oe,hl:()=>se,jU:()=>De,m9:()=>Ht,ne:()=>gn,pd:()=>jr,r3:()=>ir,ru:()=>rt,tV:()=>$,uI:()=>le,vZ:()=>Ir,w1:()=>Ce,xO:()=>Ti,xb:()=>qr,z$:()=>lt,zI:()=>Q,zd:()=>Lr});var e=O(5861);const P=function(ye){const pe=[];let me=0;for(let ze=0;ze<ye.length;ze++){let Le=ye.charCodeAt(ze);Le<128?pe[me++]=Le:Le<2048?(pe[me++]=Le>>6|192,pe[me++]=63&Le|128):55296==(64512&Le)&&ze+1<ye.length&&56320==(64512&ye.charCodeAt(ze+1))?(Le=65536+((1023&Le)<<10)+(1023&ye.charCodeAt(++ze)),pe[me++]=Le>>18|240,pe[me++]=Le>>12&63|128,pe[me++]=Le>>6&63|128,pe[me++]=63&Le|128):(pe[me++]=Le>>12|224,pe[me++]=Le>>6&63|128,pe[me++]=63&Le|128)}return pe},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,pe){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const me=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ze=[];for(let Le=0;Le<ye.length;Le+=3){const Rt=ye[Le],wn=Le+1<ye.length,On=wn?ye[Le+1]:0,or=Le+2<ye.length,Gn=or?ye[Le+2]:0;let Dn=(15&On)<<2|Gn>>6,nn=63&Gn;or||(nn=64,wn||(Dn=64)),ze.push(me[Rt>>2],me[(3&Rt)<<4|On>>4],me[Dn],me[nn])}return ze.join("")},encodeString(ye,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(ye):this.encodeByteArray(P(ye),pe)},decodeString(ye,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(ye):function(ye){const pe=[];let me=0,ze=0;for(;me<ye.length;){const Le=ye[me++];if(Le<128)pe[ze++]=String.fromCharCode(Le);else if(Le>191&&Le<224){const Rt=ye[me++];pe[ze++]=String.fromCharCode((31&Le)<<6|63&Rt)}else if(Le>239&&Le<365){const or=((7&Le)<<18|(63&ye[me++])<<12|(63&ye[me++])<<6|63&ye[me++])-65536;pe[ze++]=String.fromCharCode(55296+(or>>10)),pe[ze++]=String.fromCharCode(56320+(1023&or))}else{const Rt=ye[me++],wn=ye[me++];pe[ze++]=String.fromCharCode((15&Le)<<12|(63&Rt)<<6|63&wn)}}return pe.join("")}(this.decodeStringToByteArray(ye,pe))},decodeStringToByteArray(ye,pe){this.init_();const me=pe?this.charToByteMapWebSafe_:this.charToByteMap_,ze=[];for(let Le=0;Le<ye.length;){const Rt=me[ye.charAt(Le++)],On=Le<ye.length?me[ye.charAt(Le)]:0;++Le;const Gn=Le<ye.length?me[ye.charAt(Le)]:64;++Le;const tn=Le<ye.length?me[ye.charAt(Le)]:64;if(++Le,null==Rt||null==On||null==Gn||null==tn)throw Error();ze.push(Rt<<2|On>>4),64!==Gn&&(ze.push(On<<4&240|Gn>>2),64!==tn&&ze.push(Gn<<6&192|tn))}return ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}},Y=function(ye){return function(ye){const pe=P(ye);return q.encodeByteArray(pe,!0)}(ye).replace(/\./g,"")},$=function(ye){try{return q.decodeString(ye,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function ae(ye,pe){if(!(pe instanceof Object))return pe;switch(pe.constructor){case Date:return new Date(pe.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return pe}for(const me in pe)!pe.hasOwnProperty(me)||!Ye(me)||(ye[me]=ae(ye[me],pe[me]));return ye}function Ye(ye){return"__proto__"!==ye}class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,me)=>{this.resolve=pe,this.reject=me})}wrapCallback(pe){return(me,ze)=>{me?this.reject(me):this.resolve(ze),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(me):pe(me,ze))}}}function lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function le(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ye){return!1}}function De(){return"object"==typeof self&&self.self===self}function rt(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function Ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ze(){return lt().indexOf("Electron/")>=0}function Ce(){const ye=lt();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function He(){return lt().indexOf("MSAppHost/")>=0}function se(){return"object"==typeof indexedDB}function oe(){return new Promise((ye,pe)=>{try{let me=!0;const ze="validate-browser-context-for-indexeddb-analytics-module",Le=self.indexedDB.open(ze);Le.onsuccess=()=>{Le.result.close(),me||self.indexedDB.deleteDatabase(ze),ye(!0)},Le.onupgradeneeded=()=>{me=!1},Le.onerror=()=>{var Rt;pe((null===(Rt=Le.error)||void 0===Rt?void 0:Rt.message)||"")}}catch(me){pe(me)}})}function Q(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class de extends Error{constructor(pe,me,ze){super(me),this.code=pe,this.customData=ze,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(pe,me,ze){this.service=pe,this.serviceName=me,this.errors=ze}create(pe,...me){const ze=me[0]||{},Le=`${this.service}/${pe}`,Rt=this.errors[pe],wn=Rt?function Dt(ye,pe){return ye.replace(pn,(me,ze)=>{const Le=pe[ze];return null!=Le?String(Le):`<${ze}?>`})}(Rt,ze):"Error";return new de(Le,`${this.serviceName}: ${wn} (${Le}).`,ze)}}const pn=/\{\$([^}]+)}/g;function ir(ye,pe){return Object.prototype.hasOwnProperty.call(ye,pe)}function qr(ye){for(const pe in ye)if(Object.prototype.hasOwnProperty.call(ye,pe))return!1;return!0}function Ir(ye,pe){if(ye===pe)return!0;const me=Object.keys(ye),ze=Object.keys(pe);for(const Le of me){if(!ze.includes(Le))return!1;const Rt=ye[Le],wn=pe[Le];if(Bi(Rt)&&Bi(wn)){if(!Ir(Rt,wn))return!1}else if(Rt!==wn)return!1}for(const Le of ze)if(!me.includes(Le))return!1;return!0}function Bi(ye){return null!==ye&&"object"==typeof ye}function Ti(ye){const pe=[];for(const[me,ze]of Object.entries(ye))Array.isArray(ze)?ze.forEach(Le=>{pe.push(encodeURIComponent(me)+"="+encodeURIComponent(Le))}):pe.push(encodeURIComponent(me)+"="+encodeURIComponent(ze));return pe.length?"&"+pe.join("&"):""}function Lr(ye){const pe={};return ye.replace(/^\?/,"").split("&").forEach(ze=>{if(ze){const[Le,Rt]=ze.split("=");pe[decodeURIComponent(Le)]=decodeURIComponent(Rt)}}),pe}function jr(ye){const pe=ye.indexOf("?");if(!pe)return"";const me=ye.indexOf("#",pe);return ye.substring(pe,me>0?me:void 0)}function gn(ye,pe){const me=new Fi(ye,pe);return me.subscribe.bind(me)}class Fi{constructor(pe,me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=me,this.task.then(()=>{pe(this)}).catch(ze=>{this.error(ze)})}next(pe){this.forEachObserver(me=>{me.next(pe)})}error(pe){this.forEachObserver(me=>{me.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,me,ze){let Le;if(void 0===pe&&void 0===me&&void 0===ze)throw new Error("Missing Observer.");Le=function Zr(ye,pe){if("object"!=typeof ye||null===ye)return!1;for(const me of pe)if(me in ye&&"function"==typeof ye[me])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:me,complete:ze},void 0===Le.next&&(Le.next=Re),void 0===Le.error&&(Le.error=Re),void 0===Le.complete&&(Le.complete=Re);const Rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Le.error(this.finalError):Le.complete()}catch(wn){}}),this.observers.push(Le),Rt}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let me=0;me<this.observers.length;me++)this.sendOne(me,pe)}sendOne(pe,me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{me(this.observers[pe])}catch(ze){"undefined"!=typeof console&&console.error&&console.error(ze)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Re(){}function Pn(ye,pe=1e3,me=2){const ze=pe*Math.pow(me,ye),Le=Math.round(.5*ze*(Math.random()-.5)*2);return Math.min(144e5,ze+Le)}function Ht(ye){return ye&&ye._delegate?ye._delegate:ye}function br(ye,pe){return new Promise((me,ze)=>{ye.onsuccess=Le=>{me(Le.target.result)},ye.onerror=Le=>{var Rt;ze(`${pe}: ${null===(Rt=Le.target.error)||void 0===Rt?void 0:Rt.message}`)}})}class En{constructor(pe){this._db=pe,this.objectStoreNames=this._db.objectStoreNames}transaction(pe,me){return new Tt(this._db.transaction.call(this._db,pe,me))}createObjectStore(pe,me){return new et(this._db.createObjectStore(pe,me))}close(){this._db.close()}}class Tt{constructor(pe){this._transaction=pe,this.complete=new Promise((me,ze)=>{this._transaction.oncomplete=function(){me()},this._transaction.onerror=()=>{ze(this._transaction.error)},this._transaction.onabort=()=>{ze(this._transaction.error)}})}objectStore(pe){return new et(this._transaction.objectStore(pe))}}class et{constructor(pe){this._store=pe}index(pe){return new jt(this._store.index(pe))}createIndex(pe,me,ze){return new jt(this._store.createIndex(pe,me,ze))}get(pe){return br(this._store.get(pe),"Error reading from IndexedDB")}put(pe,me){return br(this._store.put(pe,me),"Error writing to IndexedDB")}delete(pe){return br(this._store.delete(pe),"Error deleting from IndexedDB")}clear(){return br(this._store.clear(),"Error clearing IndexedDB object store")}}class jt{constructor(pe){this._index=pe}get(pe){return br(this._index.get(pe),"Error reading from IndexedDB")}}function Wt(ye,pe,me){return new Promise((ze,Le)=>{try{const Rt=indexedDB.open(ye,pe);Rt.onsuccess=wn=>{ze(new En(wn.target.result))},Rt.onerror=wn=>{var On;Le(`Error opening indexedDB: ${null===(On=wn.target.error)||void 0===On?void 0:On.message}`)},Rt.onupgradeneeded=wn=>{me(new En(Rt.result),wn.oldVersion,wn.newVersion,new Tt(Rt.transaction))}}catch(Rt){Le(`Error opening indexedDB: ${Rt.message}`)}})}function An(ye){return vn.apply(this,arguments)}function vn(){return(vn=(0,e.Z)(function*(ye){return new Promise((pe,me)=>{try{const ze=indexedDB.deleteDatabase(ye);ze.onsuccess=()=>{pe()},ze.onerror=Le=>{var Rt;me(`Error deleting indexedDB database "${ye}": ${null===(Rt=Le.target.error)||void 0===Rt?void 0:Rt.message}`)}}catch(ze){me(`Error deleting indexedDB database "${ye}": ${ze.message}`)}})})).apply(this,arguments)}},2940:(tt,A,O)=>{"use strict";O.d(A,{T:()=>e});const e="https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},3709:(tt,A,O)=>{"use strict";O.d(A,{X:()=>e});const e=[{barcode:"12345",createdOn:1648717508909,id:"qrnnSLWTzjPy7cXjm2DD",name:"2 P\xe2tes feuillet\xe9es",createdBy:{email:"jollmat@hotmail.com",lastLogin:1648714433260,admin:!0},favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/339/259/020/3433/front_fr.7.400.jpg",brand:"Croustipate"},{name:"7 Up sin az\xfacar, 2L",barcode:"8717700002402",imageUrl:"https://images.openfoodfacts.org/images/products/871/770/000/2402/front_es.12.400.jpg",favourite:!1,brand:"7 Up",id:"nltN2RwvykuhHdypSWbj"},{brand:"Borges",name:"Aceite de oliva suave",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/0014/front_es.34.400.jpg",barcode:"8410179010014",id:"NqwhkXHtGfGcJ5q7KsRz"},{name:"Aceite refinado de girasol botella 1 l",favourite:!1,barcode:"8410179202006",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2006/front_ca.13.400.jpg",brand:"Borges",id:"6zEUzVIlJFRxt8hRPpdn"},{brand:"Marca desconeguda",favourite:!1,name:"Acelgas",barcode:"8480000163141",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/3141/front_es.3.400.jpg",id:"q9Z0MayoXzRZKLTF5vDy"},{name:"Acelgas categor\xeda extra",barcode:"8480017574657",brand:"Dia",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/001/757/4657/front_es.8.400.jpg",id:"oHLo9zNJH6p0uSTJNcAK"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/700/845/9042/front_es.28.400.jpg",barcode:"8437008459042",brand:"Bronchales",name:"Agua mineral natural",id:"leklVFvsbS9ilPDvL2Fn"},{favourite:!1,brand:"Bezoya",barcode:"8410128000400",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/800/0400/front_es.62.400.jpg",name:"Agua mineral natural",id:"SlRmgYQ7Q4gIrntiumBy"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/012/816/0074/front_es.3.400.jpg",favourite:!1,barcode:"8410128160074",brand:"Bezoya",name:"Agua mineral natural de mineralizaci\xf3n muy d\xe9bil garrafa",id:"lexnGS3p54WbYuhquB31"},{name:"Agua mineral natural garrafa",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/550/1131/front_es.11.400.jpg",brand:"Font Vella",id:"PCYDzXKqxzBqpCdaUNYo",barcode:"8410055501131",createdOn:1649162588705,createdBy:{lastLogin:1648889388379,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},favourite:!1},{brand:"Viladrau",favourite:!1,name:"Agua viladrau, 1,5L",imageUrl:"https://images.openfoodfacts.org/images/products/841/100/210/1701/front_es.3.400.jpg",barcode:"8411002101701",id:"Q70bJqYgDk49yzOy0Zcw"},{brand:"Ametller Origen",favourite:!1,name:"Amanida de cusc\xfas",barcode:"8436551861951",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/1951/front_es.3.400.jpg",id:"K1aeYHAdujAOseKwRc7w"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9439/front_es.10.400.jpg",createdBy:{admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1649187527904,email:"joanlloria@gmail.com"},favourite:!1,name:"Amanida del temps",id:"30nav3nZaY4KBBplEpB0",createdOn:1649443191448,barcode:"8437011969439",brand:"ametller origen"},{id:"3MwASOS7hvysSgIzAgUK",brand:"Amstel",barcode:"8410569615614",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/961/5614/front_es.21.400.jpg",name:"Amstel Radler"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/033/721/9082/front_es.19.400.jpg",favourite:!1,name:"An\xeds dulce",brand:"An\xeds del Mono",barcode:"8410337219082",id:"Bv074TbrKKPtZVHHtTak"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5242/front_es.51.400.jpg",name:"Aroma de Vainilla",brand:"Hacendado",barcode:"8480000325242",favourite:!1,id:"Ado6jD7TCsaLoVsxUozf"},{favourite:!1,brand:"Brillante",name:"Arroz integral",barcode:"8410184800150",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/480/0150/front_es.50.400.jpg",id:"n4zcQ59UCaVNsahkzXma"},{brand:"Brillante",favourite:!1,name:"Arroz redondo tradicional cocido para guarnici\xf3n pack 2 envase 125 g",barcode:"8410184013086",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/401/3086/front_es.53.400.jpg",id:"z5geMGnZ4ziKOmmcSwwl"},{favourite:!1,barcode:"8410448000913",brand:"Schara",name:"Artesano salchichas frankfurt cocidas y ahumadas",imageUrl:"https://images.openfoodfacts.org/images/products/841/044/800/0913/front_es.4.400.jpg",id:"ZYAzdv1no7HEq2czfOZr"},{brand:"Granini",barcode:"8431707094290",favourite:!1,name:"Ar\xe1ndanos y uva",imageUrl:"https://images.openfoodfacts.org/images/products/843/170/709/4290/front_es.3.400.jpg",id:"3lKVzkKi1CtI6xJjimWA"},{favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/018/0926/front_es.35.400.jpg",name:"At\xfan en aceite de girasol",barcode:"8480000180926",id:"Gopq8JVDytroBPtGXoxF"},{favourite:!1,brand:"guest",imageUrl:"https://images.openfoodfacts.org/images/products/843/603/387/8095/front_es.11.400.jpg",barcode:"8436033878095",name:"At\xfan en aceite de girasol",id:"3ryTb2dhZeZi5b9I9lMG"},{barcode:"8410714107735",favourite:!1,name:"Azucarera Sucre Glace 500G",brand:"Azucarera",imageUrl:"https://images.openfoodfacts.org/images/products/841/071/410/7735/front_es.35.400.jpg",id:"30m9z8rGbtu8VPw8RzPf"},{favourite:!1,brand:"Espiga Blanca",barcode:"8436540562050",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/2050/front_es.3.400.jpg",name:"Bastones de cristal",id:"vIFWp8mAaDrkh6VpezCu"},{favourite:!1,barcode:"8076800195132",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5132/front_de.104.400.jpg",brand:"Barilla",name:"Bavette n.13",id:"8tda9fG5Wtj0KImax7zm"},{imageUrl:"https://images.openfoodfacts.org/images/products/842/335/286/1402/front_es.40.400.jpg",favourite:!1,brand:"ALITEY",barcode:"8423352861402",name:"Bebida de avena",id:"8bxuQK7atfV4FDjiXH3G"},{barcode:"8436551865355",favourite:!1,brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/5355/front_es.3.400.jpg",name:"Beguda vegetal d'arr\xf2s",id:"1m2qNvyCKtKxVlJn0E4N"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/001/717/5397/front_es.7.400.jpg",name:"Bicarbonato s\xf3dico",brand:"Dia",barcode:"8480017175397",favourite:!1,id:"vrzvdVtxcWvp3qw3aiDh"},{brand:"Lotus",favourite:!1,name:"Biscoff",barcode:"5410126716016",imageUrl:"https://images.openfoodfacts.org/images/products/541/012/671/6016/front_es.70.400.jpg",id:"hndTO6g8rFhvc8pHl7kl"},{favourite:!1,name:"Borgesol",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2020/front_es.3.400.jpg",barcode:"8410179202020",brand:"Borges",id:"x01xB6jOHkDnwEwdgC1e"},{barcode:"8015100563067",imageUrl:"",name:"Bref power active, alpine",brand:"Henkel",favourite:!1,id:"XBhKl9TCvR2klNWauS4p"},{name:"Brots de Ruca",favourite:!1,barcode:"8422410473878",brand:"Bonpreu",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/047/3878/front_es.11.400.jpg",id:"l6nkLXadsPk7Ehf0WGnJ"},{name:"brots selectes",barcode:"8436551867502",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/7502/front_es.9.400.jpg",brand:"ametller origen",id:"hoJYThDEIKKON38d7l4o"},{barcode:"8410148509327",name:"Cacahuete frito",brand:"Borges",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/014/850/9327/front_es.10.400.jpg",id:"fBt6Uvb5EC1QF1bec6U8"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/034/1778/front_es.60.400.jpg",barcode:"8480000341778",name:"Canela Molida",brand:"Hacendado",favourite:!1,id:"Q45IWe8UFJmIMQevB57O"},{brand:"Dani",name:"Canela molida",barcode:"8410721000180",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/072/100/0180/front_fr.8.400.jpg",id:"HPv7I6ohHstOdBmqkRyM"},{favourite:!1,brand:"Hacendado",name:"Cannelloni tubos precocidos",barcode:"8480000064974",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/006/4974/front_es.36.400.jpg",id:"LtgpXq6f0Lyz1ObmDek4"},{favourite:!1,barcode:"8480000136343",brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/013/6343/front_es.3.400.jpg",name:"Capsula cafe classic",id:"L8fz1zUx3C266faJZLHJ"},{name:"Cebolla frita",brand:"Espiga Blanca",barcode:"8412945008508",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/294/500/8508/front_es.3.400.jpg",id:"ReaXV2iO2tNr8brsmLZJ"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/070/600/0266/front_es.6.400.jpg",name:"Chapata",barcode:"8410706000266",brand:"Recondo",favourite:!1,id:"QsUX7H05EMIiyxgjxkzU"},{barcode:"80177616",imageUrl:"https://images.openfoodfacts.org/images/products/80177616/front_en.56.400.jpg",favourite:!1,name:"Chocolate bars x 8",brand:"Kinder,Ferrero",id:"GVrx3aFKfbYDzA8ug2sy"},{favourite:!1,barcode:"7613035268388",name:"Chocolate con leche extrafino",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/8388/front_es.38.400.jpg",brand:"Nestl\xe9",id:"nVQQx2Go0DIsFpD1fnEy"},{imageUrl:"https://images.openfoodfacts.org/images/products/761/303/531/4016/front_es.25.400.jpg",name:"Chocolate con leche y almendras",id:"PYxYdVJPIw8PYGT3hJL7",brand:"Nestl\xe9",createdBy:{admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648889388379},favourite:!1,barcode:"7613035314016",createdOn:1649162622233},{favourite:!1,brand:"Illy",imageUrl:"https://images.openfoodfacts.org/images/products/800/375/390/0438/front_en.11.400.jpg",barcode:"8003753900438",name:"coffee tin",id:"P3TJFIMJJ6umgLsMNARA"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/4570/front_es.3.400.jpg",brand:"Ametller origen",name:"Crema ceba i formatge",favourite:!1,barcode:"8436554524570",id:"uptkoR3RoAgnxL4on1zY"},{name:"Crema de Aceite Balsamico de Modena",barcode:"8422410809851",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/080/9851/front_es.8.400.jpg",favourite:!1,brand:"Bonpreu",id:"SXfe5C6ROv5I8weIylKE"},{brand:"Ametller Origen",barcode:"8436554523979",name:"Cremes thai pastanaga i coco",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/3979/front_fr.4.400.jpg",favourite:!1,id:"3dkzQEdUiw6jeSdhv5qE"},{barcode:"8436583955093",favourite:!1,brand:"Novell",imageUrl:"",name:"C\xe0psules de caf\xe9 intens 16u.",id:"4cx8G55JBcftkwPjMRrc"},{favourite:!1,barcode:"8480000325273",brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5273/front_es.3.400.jpg",name:"Decoraciones",id:"c5ebv4Zxds72D4gLOxml"},{barcode:"5054563101648",favourite:!1,id:"jdAnPuqtEeAaPzOCYl00",imageUrl:"https://images.rappi.com.mx/products/92d7d2a4-18f6-46fd-9580-c679a23d1493.png?d=200x200&e=webp",name:"Dent\xedfrico blanqueante, 100ml",brand:"Sensodyne"},{id:"zsWPRKl0FTIpnOBG0WYm",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/686/2295/front_es.12.400.jpg",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",lastLogin:1649187527904},favourite:!1,brand:"Nescaf\xe9",name:"Dolce Gusto",createdOn:1649525097595,barcode:"7613036862295"},{brand:"Marca desconeguda",imageUrl:"https://images.openfoodfacts.org/images/products/841/002/211/5255/front_es.6.400.jpg",name:"Donettes",favourite:!1,barcode:"8410022115255",id:"qjRYx08R9GFt9DlXWbOE"},{name:"Dry Gin",imageUrl:"https://images.openfoodfacts.org/images/products/590/068/500/7910/front_es.18.400.jpg",barcode:"5900685007910",brand:"Seagram's",favourite:!1,id:"qcJaJGwADZOiTOgv2EdL"},{name:"Eko - Mezcla de cereales solubles ecol\xf3gicos",brand:"Nestl\xe9",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/656/9927/front_es.32.400.jpg",barcode:"7613036569927",id:"VZMbnJHjk69FeYdriirE"},{name:"Emmental",brand:"Ametller origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/2054/front_es.3.400.jpg",barcode:"8436583952054",id:"9zAdEOgvYPvtVuzq4vvt"},{imageUrl:"https://images.openfoodfacts.org/images/products/356/007/011/9851/front_es.39.400.jpg",brand:"Carrefour",favourite:!1,name:"Emmental r\xe2p\xe9",barcode:"3560070119851",id:"Gv96bsD8WJpAsGpieFtf"},{brand:"Florette",barcode:"8414516070167",name:"Ensalada mixta",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/451/607/0167/front_es.19.400.jpg",id:"K78rK6Q1QHEun2nEWjjJ"},{name:"Espaguetis a la Carbornara",favourite:!1,brand:"Ametller Origen",barcode:"8436551862880",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2880/front_es.3.400.jpg",id:"swOdy2x2nOMjVLPZNiDx"},{name:"Espresso intenso descafeinado",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/0924/front_es.3.400.jpg",barcode:"7613035260924",brand:"Nescafe",favourite:!1,id:"1RUNXjddz7LxrCMoYClY"},{name:"Estilo Mediterr\xe1neo cacahuetes repelados bolsa 200 g",barcode:"8410564002204",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/400/2204/front_fr.6.400.jpg",brand:"Frit Ravich",id:"tCn1OPIu3HMqMnPS3XEx"},{barcode:"8422410040872",favourite:!1,brand:"Bonpreu",name:"Expr\xe9s intens",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/004/0872/front_es.3.400.jpg",id:"2hQz4Ji7dunBz9IRXDGI"},{favourite:!1,brand:"Barilla",barcode:"8076808060654",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/806/0654/front_fr.202.400.jpg",name:"Farfalle",id:"ItsmDGWuwZqq823GL7o2"},{name:"Filtros slim, 150 u.",brand:"OCB",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/305/706/805/6781/front_es.27.400.jpg",barcode:"3057068056781",id:"ti3ipZazS5OY74X31qYh"},{brand:"font d'or",name:"Font D'or",imageUrl:"https://images.openfoodfacts.org/images/products/841/073/903/3002/front_fr.3.400.jpg",barcode:"8410739033002",favourite:!1,id:"0hLDVVtoWHHGxpJBJ8xv"},{name:"Font Vella",brand:"Danone",barcode:"8410055033014",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/005/503/3014/front_es.23.400.jpg",id:"Z5rLwATggE9EhQmZ2VGM"},{name:"Font Vella",brand:"Danone",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/513/3394/front_es.5.400.jpg",favourite:!1,barcode:"8410055133394",id:"8h4MTfnL9KLKvD9kaucU"},{brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 38uds.",favourite:!1,id:"Tsxz3HmPSZ0YuzHfWDFe",imageUrl:"https://d2csxpduxe849s.cloudfront.net/media/07EADC8C-9435-4B3D-87CF5EDA882A36F2/160A34FA-A880-418F-A9AD2C2E43C8673B/057DEBF5-554E-4F12-A960CB7D747B5A64/Product%20High-EAN_IMG_5029053010052_1.png",barcode:"5029053010052"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/502/905/303/6151/front_es.3.400.jpg",barcode:"5029053036151",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 74uds.",id:"czU7rd3XyqdhaLEIKKlc"},{imageUrl:"https://images.openfoodfacts.org/images/products/807/680/208/5981/front_fr.217.400.jpg",brand:"Barilla",favourite:!1,barcode:"8076802085981",name:"Fusilli",id:"kvidMtUxlJWu4BToQoye"},{brand:"Carolina",favourite:!1,name:"Galleta Carolina",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/900/0004/front_es.92.400.jpg",barcode:"8437019000004",id:"tnhUbxvcPNukCitKgjJq"},{brand:"Bonpreu",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/7851/front_es.3.400.jpg",name:"Garbanzos cocidos",barcode:"8422410177851",id:"h1r7SWA1VVM1fsYiFB6Q"},{name:"Garbanzos con espinacas",imageUrl:"https://images.openfoodfacts.org/images/products/841/050/551/2267/front_fr.4.400.jpg",favourite:!1,barcode:"8410505512267",brand:"Luengo",id:"8vDyG5gsOCFzH2s3wMaj"},{name:"Habas fritas Mini Baby",imageUrl:"https://images.openfoodfacts.org/images/products/842/030/921/0115/front_es.15.400.jpg",favourite:!1,barcode:"8420309210115",brand:"Pe\xf1a Torcal",id:"nX934vnWFvL3uqIZ2JBl"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/038/7915/front_es.20.400.jpg",brand:"Bonpreu",barcode:"8422410387915",name:"Hamburguesa de l'era",id:"Odb5MEPbjvvGtJi1Sw6w"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/056/401/6157/front_fr.4.400.jpg",name:"Higos secos",favourite:!1,barcode:"8410564016157",brand:"Frit Ravich",id:"cJ7ynQ2WO9ZzVoxIeyW7"},{name:"Infudren",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/4488/front_fr.9.400.jpg",brand:"Hornimans",barcode:"8410091104488",favourite:!1,id:"cqyqq3xxpf8eOVWF4wsv"},{id:"E5Pbprvch6htVuas87ub",favourite:!1,brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/0992/front_es.11.400.jpg",barcode:"8436554520992",createdOn:1648885439824,createdBy:{lastLogin:1648740479491,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0},name:"Iogurt cremos amb mango"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/2279/front_ca.17.400.jpg",name:"Iogurt cremos macedonia",barcode:"8436554522279",brand:"Ametller origen",favourite:!1,id:"kXZ0ETe4tqcDeEJgwpHj"},{barcode:"8437011969217",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9217/front_es.4.400.jpg",brand:"Ametller Origen",name:"Iogurt cremoso amb maduixa",favourite:!1,id:"0y6hb1ts1UeZ64z4OdDP"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/0985/front_es.9.400.jpg",brand:"Ametller Origen",createdOn:1648885460412,barcode:"8436554520985",name:"Iogurt Crem\xf3s Maduixa",createdBy:{username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},id:"UUf8ANFrTGmZXlvRK6vf",favourite:!1},{imageUrl:"https://www.marvimundo.com/media/catalog/product/cache/26ef67ba4867c44769c635c68212a088/f/a/fairy-lavavajillas-mano-ultra-poder-400-ml-128042-0_1.jpg",id:"eqBkW8faoUMizZAKo9v5",brand:"Fairy",name:"Jab\xf3n vajillas Ultra Poder",barcode:"8001841624143",favourite:!1},{brand:"Carrefour",id:"0hUlWDteNomeaDM0r9rF",name:"Jumbo Roll, Papel rollo multiusos",favourite:!1,barcode:"3560071152413",imageUrl:"https://static.carrefour.es/hd_510x_/img_pim_food/839977_00_1.jpg"},{favourite:!1,brand:"Kinder,Ferrero",imageUrl:"https://images.openfoodfacts.org/images/products/400/840/020/3829/front_fr.52.400.jpg",name:"Kinder chocolat - chocolat au lait avec fourrage au lait 12 barres",barcode:"4008400203829",id:"wKcPnND7kRp2oZOZEDec"},{brand:"Marca desconeguda",barcode:"8410199023094",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/019/902/3094/front_es.3.400.jpg",name:"lay\u2019s gourmet original",id:"eGb9Zi2YLCc4vUilnfyc"},{name:"Leche",imageUrl:"https://images.openfoodfacts.org/images/products/841/013/500/1322/front_es.32.400.jpg",favourite:!1,barcode:"8410135001322",brand:"Ato",id:"DYRii4Q1nlQXSVux4tlv"},{brand:"Carrefour",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/187/600/5912/front_es.15.400.jpg",barcode:"8431876005912",name:"Lenteja a la riojana",id:"FlyrJ9yKHxEupuDM1XOB"},{brand:"HC Premium",favourite:!1,barcode:"8426765495240",name:"Lentejas pardinas",imageUrl:"https://images.openfoodfacts.org/images/products/842/676/549/5240/front_es.4.400.jpg",id:"jXSGai0V4QTNoGkdZlVj"},{id:"BdOKDepFnrKlvXJe05kx",imageUrl:"https://m.media-amazon.com/images/I/61njkx6RgcL._AC_SX466_.jpg",name:"Levadura de Cerveza",barcode:"8435041321364",brand:"Nature Essential",favourite:!1},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/762/221/097/2910/front_es.58.400.jpg",barcode:"7622210972910",brand:"Royal",name:"Levadura en polvo",id:"GKC6tx0q50UgpCIh98Xu"},{brand:"Don Limpio",barcode:"8006540576588",name:"Limpieza suelos madera - m\xe1rmol",imageUrl:"https://arcashop.es/12829-large_default/don-limpio-limpiador-suelos-piedra-natural-marmol-y-maderas.jpg",id:"LP9uDdp3LWmoOIZoE5bJ",favourite:!1},{brand:"Nestl\xe9",barcode:"7613033481314",favourite:!1,name:"Lion caramelo & chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/348/1314/front_es.33.400.jpg",id:"nS0432qVdcAwMoFuxMHR"},{name:"Listerine Cuidado Total 500ml",imageUrl:"https://cdns3-2.primor.eu/84242-thickbox/total-care.jpg",barcode:"3574661648019",id:"7bvTHQ1c1OE25ZhXiL6k",favourite:!1,brand:"Johnson & Johnson"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/700/431/4031/front_es.7.400.jpg",brand:"Llet Nostra",favourite:!1,barcode:"8437004314031",name:"Llet Semi Desnatada Nostra",id:"9tbAVUXZjoXNLNMPw9Qt"},{favourite:!1,brand:"Deliplus",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/079/2013/front_es.11.400.jpg",barcode:"8480000792013",name:"Loci\xf3n aloe vera",id:"3wsjdR3cvX08ZEUryPYg"},{barcode:"8421660006010",brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/842/166/000/6010/front_es.10.400.jpg",name:"Magdalenas gegants",favourite:!1,id:"eKOXybB8eRHbmXN426O3"},{favourite:!1,name:"MAGNUM Glace B\xe2tonnet Mini Amande 6x55ml",barcode:"8714100635650",imageUrl:"https://images.openfoodfacts.org/images/products/871/410/063/5650/front_es.82.400.jpg",brand:"Magnum",id:"lXG3EL793X2hZN2mVGYe"},{brand:"Arias,Savencia",name:"Mantequilla mini porciones",imageUrl:"https://images.openfoodfacts.org/images/products/841/310/061/2639/front_es.14.400.jpg",favourite:!1,barcode:"8413100612639",id:"Wtq2IcT5fWTF59eJk8Sy"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3382/front_es.20.400.jpg",barcode:"8410091103382",brand:"Hornimans",name:"Manzanilla con an\xeds",id:"pJvKRQ0bzDrMyMXTSoSR"},{name:"Marcilla caf\xe9 superior creme express natural",barcode:"8410091301405",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/130/1405/front_es.27.400.jpg",favourite:!1,brand:"Marcilla",id:"kupLfg9cgCOqrz0amX7Y"},{name:"Ma\xedz dulce",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/7644/front_es.5.400.jpg",barcode:"8480000167644",favourite:!1,brand:"Hacendado",id:"o46v8FNpkET9eBCoJwvy"},{createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com",lastLogin:1648551165934,username:"Joan Llori\xe0"},brand:"Florette",barcode:"8414516082313",favourite:!1,name:"Mezclum ensalada",imageUrl:"https://images.openfoodfacts.org/images/products/841/451/608/2313/front_es.16.400.jpg",id:"pXCQGrgvKgCNWiQKErry"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/307/378/090/2366/front_es.7.400.jpg",brand:"Bel",name:"Mini Babybel",barcode:"3073780902366",id:"GNoY9uMARm3pyYHuyZ47"},{barcode:"8000270018257",imageUrl:"https://images.openfoodfacts.org/images/products/800/027/001/8257/front_es.7.400.jpg",name:"Mini tostas redondas",favourite:!1,brand:"Bimbo",id:"ssBUB9ehqpXzWlDhbS7g"},{brand:"Carrefour",name:"Mini-toasts",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/034/7438/front_fr.19.400.jpg",barcode:"3560070347438",favourite:!1,id:"JUesQloyy9p0uihUfVjm"},{name:"Minicracker fibra",favourite:!1,brand:"Espiga blanca",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/6942/front_es.3.400.jpg",barcode:"8436540566942",id:"ZEbAsgDGCPjs0feY03ox"},{favourite:!1,barcode:"8480000644916",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/064/4916/front_es.24.400.jpg",name:"Mochi Coco",brand:"Hacendado",id:"baqE2SfxQ5hmFkcHBMPs"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/011/804/1574/front_es.47.400.jpg",brand:"Prima",name:"Mostaza",barcode:"8410118041574",favourite:!1,id:"4jHwflGrmg4Og0iUasxh"},{name:"Muesli crunchy chocolate",barcode:"8480000093554",brand:"Hacendado",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/009/3554/front_es.49.400.jpg",id:"ZPOQCPkr4yYSnziHtHrq"},{favourite:!1,name:"Nachos redondos",brand:"Carrefour",barcode:"8431876305395",imageUrl:"https://images.openfoodfacts.org/images/products/843/187/630/5395/front_es.12.400.jpg",id:"ZfmqU8YhBOpAEFNZZvmr"},{favourite:!1,barcode:"7613039490266",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/949/0266/front_es.38.400.jpg",brand:"Nestl\xe9",name:"Nesquik",id:"ey3FojyVJkBRPHNqGatU"},{name:"Nom desconegut",favourite:!1,brand:"Sanytol",barcode:"8411135005037",id:"obgtqydHBkBWxw7gkDz7",imageUrl:"https://images.openfoodfacts.org/images/products/841/113/500/5037/front_es.3.400.jpg"},{brand:"Granini",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/400/216/009/2501/front_es.10.400.jpg",barcode:"4002160092501",name:"N\xe9ctar naranja briks",id:"54m66Drk0byQbBl7o4nx"},{barcode:"8410179012018",name:"Oli d'oliva Verge extra",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/2018/front_fr.76.400.jpg",favourite:!1,brand:"Borges",id:"XaUmCXnMUNKyV7Z4Zlze"},{name:"Oli d\u2019oliva",favourite:!1,brand:"Ametller Origen",barcode:"8436551860251",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0251/front_es.21.400.jpg",id:"CWMgTznWc0LBLQE5fPOp"},{brand:"Bonpreu",name:"Oli refinat de gira-sol",id:"2X0xYZv9aIMorvDaQDdk",imageUrl:"https://es.openfoodfacts.org/images/products/842/241/081/0529/front_es.3.full.jpg",barcode:"8422410412044",favourite:!1},{brand:"Bonpreu",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/029/9744/front_es.12.400.jpg",barcode:"8422410299744",favourite:!1,name:"Ous frescos pag\xe8s",id:"E3paebxmi4qrbNKotFSt"},{name:"Pa de vidre",brand:"Ametller Origen",favourite:!1,barcode:"8436583954577",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4577/front_es.3.400.jpg",id:"CdWRC8tyMdD7HmJS8dT9"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4539/front_es.11.400.jpg",favourite:!1,brand:"ametller origen",barcode:"8436583954539",name:"Pa de vidre tradicional",id:"vqhsiM4NdD4Imq1SHpwn"},{favourite:!1,brand:"Hornimans",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4915/front_fr.16.400.jpg",name:"Pack Duplo Hornimans Infusi\xf3 Infu-l\xednia",barcode:"8410091024915",id:"HfV0fo6by29W2xSocNXY"},{name:"Palets breton galletas de mantequilla",brand:"Saint Aubert",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/304/532/005/2244/front_es.10.400.jpg",barcode:"3045320052244",id:"rhuFIiTyJdHboUsBvjti"},{favourite:!1,name:"Pan Dextrin Integral Santiveri",brand:"Santiveri",barcode:"8412170026896",imageUrl:"https://images.openfoodfacts.org/images/products/841/217/002/6896/front_es.11.400.jpg",id:"wzbiMwk2KWJPf7c2FgzW"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/008/600/0856/front_es.10.400.jpg",brand:"La Hacienda",name:"Patata entera",barcode:"8410086000856",id:"PhRG5yLA0a89xaob5xKs"},{favourite:!1,name:"Patata, pastanaga i mongeta tendra cuinats al buit",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/5140/front_es.3.400.jpg",barcode:"8436554525140",brand:"Ametller Origen",id:"TnvHYIykarIneKJ6hRPV"},{brand:"Bonarea",barcode:"8413585017240",name:"Patatas Fritas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/358/501/7240/front_es.26.400.jpg",id:"Is8g3XR7l5jx8Yh3TYn0"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/076/200/2273/front_es.10.400.jpg",barcode:"8410762002273",brand:"Casa Tarradellas",name:"Pat\xe9 de salm\xf3n",id:"6O5f9LSdGMN6KzLC0JeE"},{name:"Pepinillos",brand:"Rioverde",barcode:"8410954000711",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/095/400/0711/front_es.10.400.jpg",id:"x5uXf6BsHpyb0o10dnon"},{barcode:"8413475312615",brand:"Ametller Or\xedgen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/347/531/2615/front_es.9.400.jpg",name:"Pernil cuit ral",id:"iPVdCwHgX7RxEe9vbx6l"},{barcode:"7076848513753",imageUrl:"https://images.openfoodfacts.org/images/products/707/684/851/3753/front_fr.4.400.jpg",brand:"Barilla",favourite:!1,name:"Pesto alla genovese",id:"UJjvwcB0MlkMg7LWgEJp"},{favourite:!1,brand:"Ametller Origen",name:"Pit de pollastre amb herbes",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/9629/front_es.3.400.jpg",barcode:"8436554529629",id:"0WLGkAxyPWvpIQoOZ7FO"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3344/front_es.18.400.jpg",favourite:!1,barcode:"8410091103344",brand:"Hornimans",name:"Poleo menta",id:"7EBzPLJYYkcF9SlDuDju"},{barcode:"8436551864709",name:"Pollastre al curri vermell",brand:"Ametller Origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/4709/front_es.9.400.jpg",id:"JhITWXv8sKhGxY2v6Akp"},{brand:"Ametller Or\xedgen",imageUrl:"",name:"Pollastre al ximixurri",favourite:!1,barcode:"8436583957110",id:"mpPu0gL1kwl9eKo8OGEi"},{name:"Pompadour Tomillo",barcode:"8412900401153",favourite:!1,brand:"Pompadour",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1153/front_es.15.400.jpg",id:"PpjhyGotmEb3pH0w1eMg"},{name:"Radler Steinburg",favourite:!1,barcode:"8480000664129",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/066/4129/front_fr.4.400.jpg",brand:"Steinburg",id:"SuV2VXv50lUAKN2ig5SS"},{name:"Reducci\xf3n de vinagre de Pedro Xim\xe9nez",barcode:"8480000049056",favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9056/front_es.46.400.jpg",id:"n0bA9HYP5zo4bp5Ofsa8"},{brand:"Hornimans",name:"Rooibos con especias",barcode:"8410091024953",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4953/front_es.7.400.jpg",favourite:!1,id:"2KZX2zt9pr4UnMcBz5vk"},{name:"Royal mints",barcode:"4019400440657",imageUrl:"https://images.openfoodfacts.org/images/products/401/940/044/0657/front_es.19.400.jpg",favourite:!1,brand:"Halloren",id:"hyuEQlks15fV1Gz2QsOJ"},{createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0},barcode:"8412480245307",createdOn:1649394055307,id:"jLlYUP7FHgQ3FLswhUvW",brand:"royal",favourite:!1,name:"Royal pescado desalado tradicional",imageUrl:"https://images.openfoodfacts.org/images/products/841/248/024/5307/front_es.3.400.jpg"},{barcode:"3560071048341",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0,email:"joanlloria@gmail.com"},favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/356/007/104/8341/front_fr.8.400.jpg",brand:"Carrefour",id:"wDYvFJqMYYwgMzks2mpn",createdOn:1648840699569,name:"Sabl\xe9s coeur saveur pomme fa\xe7on tatin"},{barcode:"8410604112344",brand:"Sal Costa",favourite:!1,name:"Sal De Frutas",imageUrl:"https://images.openfoodfacts.org/images/products/841/060/411/2344/front_fr.6.400.jpg",id:"tH5tDpScw3O9HU7rr6SU"},{barcode:"8480000290168",name:"Sal de frutas sabor lim\xf3n",favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/029/0168/front_es.20.400.jpg",id:"9TiCWwlEC7sjlcD9qNIp"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/058/1518/front_es.3.400.jpg",favourite:!1,brand:"Hacienda Iberico",name:"Salchich\xf3n ib\xe9rico",barcode:"8480000581518",id:"cavXqFbme8O97pvlkdV1"},{barcode:"8436583957134",name:"Salm\xf3 amb arr\xf2s i edamame",imageUrl:"",brand:"Ametller Or\xedgen",favourite:!1,id:"2E1o2kMy6wpJqdGPBBnI"},{favourite:!1,barcode:"8410069018717",name:"Salsa bolo\xf1esa",imageUrl:"https://images.openfoodfacts.org/images/products/841/006/901/8717/front_es.3.400.jpg",brand:"Gallo",id:"m6SgmW4XTNAeptb9ihZB"},{name:"Salsa de tomate casera",barcode:"8436551860923",brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0923/front_es.32.400.jpg",favourite:!1,id:"gE7x9ZkgQ6NjSkLvGcK7"},{name:"Salsa Espinaler",barcode:"8427230989189",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/723/098/9189/front_nl.3.400.jpg",brand:"Espinaler",id:"aVxZOQluGc7zUcL19hhO"},{name:"Saltat de Verdures Mediterrani",brand:"Ametller Origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2040/front_es.28.400.jpg",barcode:"8436551862040",id:"iJNiwpIuVvFhyBglNFxf"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/061/0652/front_es.31.400.jpg",barcode:"8480000610652",brand:"Hacendado",name:"Salteado de verduras vegetais",favourite:!1,id:"kZZT52JnJAtR1NxrfXrP"},{brand:"Sanex",name:"Sanex Biomeprotect dermo, 600ml",id:"Eizi9zWGl27j7OC4UCQd",imageUrl:"https://d2csxpduxe849s.cloudfront.net/media/07EADC8C-9435-4B3D-87CF5EDA882A36F2/DB0625BE-506E-4548-83D25E0427C6DF1E/Product%20High-60BD31F8-9CAC-4C46-B9C0A974ED04D63F.png",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,admin:!0},favourite:!1,barcode:"8718951388826"},{id:"taf3wFAlUncnGAFCpmMK",name:"Sea Salt Flakes",imageUrl:"https://images.heb.com/is/image/HEBGrocery/001549748?fit=constrain,1&wid=800&hei=800&fmt=jpg&qlt=85,0&resMode=sharp2&op_usm=1.75,0.3,2,0",barcode:"5011428300035",favourite:!1,brand:"Maldon"},{barcode:"5054563099082",id:"iQHS7jc0k9qpDOMVenc5",name:"Sensodyne repair & protect",imageUrl:"https://i-cf65.ch-static.com/content/dam/cf-consumer-healthcare/sensodyne-v3/es_ES/Product-pages/products/Repair%20Protect-1028x324.png?auto=format",favourite:!1,brand:"Sensodyne"},{name:"Smacks With Honey",barcode:"5050083560262",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/505/008/356/0262/front_fr.37.400.jpg",brand:"Kellogg's",id:"XkHiVnBtjrGxJyFuw7Lp"},{barcode:"8076800195057",favourite:!1,name:"Spaghetti n.5",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5057/front_es.426.400.jpg",brand:"Barilla",id:"fF45ojO9zvfLUurEJtdQ"},{barcode:"3269612045008",name:"Terrine de canard \xe0 l'Armagnac",imageUrl:"https://images.openfoodfacts.org/images/products/326/961/204/5008/front_fr.6.400.jpg",favourite:!1,brand:"Jean Brunet",id:"1Z4gCweBWIUKJIUcGK2Q"},{name:"Tila",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3306/front_es.4.400.jpg",barcode:"8410091103306",favourite:!1,brand:"Hornimans",id:"VJCKEeSbjbE4nRaLUR4L"},{brand:"Sanytol",favourite:!1,imageUrl:"https://arcashop.es/9035-large_default/sanytol-toallitas-desinfectantes-higienizantes-limpieza-hogar.jpg",barcode:"3045206312257",id:"V3KYndnRcF2eIdIk7Tpz",name:"Toallitas desinfectantes"},{id:"1TlkULpGAdQETA8Idg0G",barcode:"8436583950449",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/0449/front_es.3.400.jpg",brand:"Ametller Origen",favourite:!1,name:"Tom\xe0quet de sucar"},{favourite:!1,createdBy:{lastLogin:1648551165934,admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},id:"51WlaDFu7cO0lNqG7wXW",brand:"Ametller Or\xedgen",imageUrl:"",barcode:"8436583950440",name:"Tom\xe0quet de sucar 650gr"},{brand:"Bonpreu",favourite:!1,name:"Tom\xe0quet Fregit",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/0760/front_es.3.400.jpg",barcode:"8422410170760",id:"zh9amHkXLOyk0KXUG970"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9903/front_es.3.400.jpg",favourite:!1,name:"Trinxat de la cerdanya",brand:"Ametller Origen",barcode:"8437011969903",id:"OkPyN3oS8CMoh2aGUCPO"},{brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/800/6420/front_es.30.400.jpg",name:"Truita carxofa",favourite:!1,barcode:"8437008006420",id:"T0nUff9307aPgqLZ8Usv"},{id:"fdspoyuC2coeY6rdGpRT",brand:"Vicens",barcode:"8410495541070",imageUrl:"https://www.vicens.com/cdnassets//imageProduct/0138907_l.jpg",favourite:!1,name:"Turr\xf3n souffl\xe9 avellana chocolate"},{favourite:!1,brand:"Pompadour",name:"T\xe9 verde con jenjibre y naranja",barcode:"8412900401207",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1207/front_es.8.400.jpg",id:"1sHrVBGWHgFzWXQNF41r"},{brand:"Viladrau",favourite:!1,id:"fbCoromlZiueXYYNpzeQ",barcode:"8411002105006",imageUrl:"https://static.condisline.com/resize_1280x1024/images/catalog/large/601044.jpg",name:"Viladrau Agua Mineral 5L."},{favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9537/front_es.21.400.jpg",name:"Vinagre de Jerez reserva",barcode:"8480000049537",id:"m5ZBjnZ1xpxPAZqgNHCr"},{id:"QGAa9IH14XduTjCEGI0T",barcode:"8422410598977",name:"VINAGRE de vi negre",brand:"Bonpreu",favourite:!1,imageUrl:"https://www.compraonline.bonpreuesclat.cat/images-v3/dcbcfd72-cf23-44a2-8e14-8a38edd645a3/6ff007d2-a9f2-4239-b72d-36a956d630d0/500x500.jpg"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/079/303/1945/front_es.3.400.jpg",barcode:"8410793031945",favourite:!1,name:"Voll-damm Cerveza Doble Malta",brand:"Voll-Damm",id:"l8q8cl0rOFzwrsH4UWYy"},{name:"Worcestershire sauce",brand:"Lea & Perrins",barcode:"5000111040983",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/500/011/104/0983/front_es.23.400.jpg",id:"rCAcIOHzZ5wUR205WVhG"},{favourite:!1,id:"KLcjOJaVljCeYkda4C5c",name:"Xori\xe7 extra",imageUrl:"https://ametllerorigen.vtexassets.com/arquivos/ids/164350-800-auto?v=637160564399800000&width=800&height=auto&aspect=true",brand:"Ametller Origen",barcode:"8435037550631"},{barcode:"8431707020053",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0},createdOn:1648840788835,brand:"Granini",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/170/702/0053/front_fr.19.400.jpg",name:"Zumo de granada y manzana",id:"YWpN9xwLcmQapm3DKHjk"},{favourite:!1,brand:"Hacendado",barcode:"8480000390103",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/039/0103/front_es.40.400.jpg",name:"Zumo pura naranja",id:"D7OCE8KsONVlLfirGFkx"}]},7296:(tt,A,O)=>{"use strict";O.d(A,{H:()=>e});const e=[{imageUrl:"https://pbs.twimg.com/profile_images/1450755062905638915/in0hHQGq_400x400.png",favourite:!1,default:!0,id:"alcampo",name:"Alcampo"},{default:!0,favourite:!1,id:"aldi",imageUrl:"https://www.aldi.es/etc/designs/aldi/web/frontend/aldi/images/app/app-icon.svg.res/1638344259427/app-icon.svg",name:"ALDI"},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROwKa28Sqrl0fWFGunslp82-lyocGHzu21UQnT2gt625cM7Q3tAmtUTFZGcMx7bYIEUt8&usqp=CAU",id:"ametller",default:!0,favourite:!1,name:"Ametller Origen"},{default:!0,id:"bonpreu",favourite:!1,name:"Bonpreu Esclat",imageUrl:"http://www.worldcoo.com/blog/wp-content/uploads/2018/01/bonpreu-esclat.png"},{favourite:!1,id:"bonarea",name:"Bon\xc0rea",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR492c6hS3uP6uaji3R7jcDdQT1xaN9OX96B32Rne4SZNjcZnxrQfPTaf7JyWh_o8dOzQ&usqp=CAU",default:!0},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-JQzNNsGh8wZbvcRIa7n2jvCjeYyctMAUBbLGm_TXL1BnNx6ojApeqBhRvGRbt7dj2FE&usqp=CAU",favourite:!1,name:"Caprabo",id:"caprabo",default:!0},{favourite:!1,name:"Carrefour",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5pkE4ZM9yedZMjMpaSS66aCSjVMpTY03YUSEGvplUTeiGhGfzf3CY3uocvtVRtfPWFj8&usqp=CAU",default:!0,id:"carrefour"},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu0fPkav2_8d6GYaJf5XdQ8guIeg-g16gSlSy3siqh8YuDKBq4Qd4pmvg0vOTiZZTmKY0&usqp=CAU",favourite:!1,id:"clarel",default:!0,name:"Clarel"},{id:"condis",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbPqN4hQB9goxYwrNouiUGP-JaictWMt5o4bVXLq7AOsm5zO7jAFwSNHeBlihvQx635GI&usqp=CAU",default:!0,name:"Condis",favourite:!1},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyAUiF5V53eb_Ae5LeqxJC2VYfXU--P3XvZ1cv7g_S4yfX4ZWUzpxHh3JtWiQqzz-lJg&usqp=CAU",name:"Consum",id:"consum",favourite:!1,default:!0},{favourite:!1,default:!0,id:"dia",name:"Dia",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNjqDvMwpm9hqIkD8tPuFACBWcOgT82GO-E9M2Hqwgn63-v9-OIrkT81v_02T--jAaA0U&usqp=CAU"},{id:"eroski",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcwaVCA-OFC062QN1Twe4B-36zGE2fuSZX4jnS9f_pXDWpaxlgz5wpr0qmAaaNCaxRiw&usqp=CAU",default:!0,favourite:!1,name:"Eroski"},{favourite:!1,name:"Hipercor",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_BOlcMNRQ-vt1DtiHp1fCrVksHjeHR1aeiASmJLDjbPcBlJIwpVcyo-kQxMfi_FPrt2k&usqp=CAU",id:"hipercor",default:!0},{name:"La Sirena",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4ytz4AOvo2DMhJA1m3yzQlYqm_gHmsT2-_00aHpUqm-nFmMMJm6_VpIXmrn72y6P7hyk&usqp=CAU",id:"lasirena",favourite:!1,default:!0},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1i90fckbyoDBynQQ8KHkdVrXcdYyu2kUlmKn6HCFhG4qSxBafHGxgaG_3UuHbmZxTEtM&usqp=CAU",default:!0,id:"lidl",name:"Lidl",favourite:!1},{name:"Makro",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQi_ZZKzTFFjyPJZjnajm8apfLmZ4srvfb2zcT2ajAP169xQjH4lSjiqFQt4HI0t3-KJIs&usqp=CAU",id:"makro",default:!0},{id:"mercadona",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHnXNkyr60Ou-399tjzyWEf6mdkOWSxaHmZ6vkJ21zBvxiIBeMaJUjqGwITmCuY7iKFYo&usqp=CAU",favourite:!1,default:!0,name:"Mercadona"},{name:"Sorli",id:"sorli",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQc-1R197lbH6BuQKE4JJuuZcLbDNVI4b4oc9btTP8w6x3XD_Vkz3-vHs5UOClylrLCC1I&usqp=CAU",default:!0},{id:"supercor",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaiMcp3KOqEkjmqczVd2COauXNF8nf4hS7CJkxf8oGs8uQ3kK-gd4azMLsHQE_nN7lP8c&usqp=CAU",default:!0,name:"Supercor"},{id:"supersol",name:"Supersol",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjcrYIr8Fe8_JSEU8P_BovOByU016URvGOg9lw12MRr6VdCuZ81-3nV-uoIAfLl4TaCT8&usqp=CAU",default:!0,favourite:!1},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsNMNJP33s72ISlLfSSCaAIEBfvu9wvo32obL6nWjT_ji5zbvowvWoCUhhOW12qX-KTQ&usqp=CAU",name:"Veritas",id:"veritas",default:!0,favourite:!1}]},3701:(tt,A,O)=>{"use strict";O.d(A,{M:()=>e});const e={PS_LOGGED_USER:"PS_USER",PS_PRODUCTS:"PS_PRODUCTS",PS_SHOPS:"PS_SHOPS",PS_SHOPS_PRODUCTS:"PS_SHOPS_PRODUCTS",PS_FAVOURITE_SHOPS:"PS_FAVOURITE_SHOPS",PS_FAVOURITE_PRODUCTS:"PS_FAVOURITE_PRODUCTS",PS_SHOPPING_CART:"PS_SHOPPING_CART",PS_APP_LANGUAGE:"PS_APP_LANGUAGE",PS_USER_ALERTS:"PS_USER_ALERTS",PS_SHOPS_SEARCH_TEXT:"PS_SHOPS_SEARCH_TEXT",PS_PRODUCTS_SEARCH_TEXT:"PS_PRODUCTS_SEARCH_TEXT",PS_LAST_SHOP_ID:"PS_LAST_SHOP_ID"}},1343:(tt,A,O)=>{"use strict";O.d(A,{C:()=>V});var e=O(2292),C=O(8996),E=O(9646),R=O(3209),P=O(5e3);let V=(()=>{class q{constructor(Y){this.firestore=Y}addShop(Y){console.log("FirestoreService.addShop()",Y);const $=(0,e.hJ)(this.firestore,"shops");return(0,C.D)((0,e.ET)($,Y))}addShops(Y){console.log("FirestoreService.addShops()",Y);const $=(0,R.qs)(this.firestore);return Y.forEach(ne=>{const ae=(0,e.hJ)(this.firestore,"shops"),Ye=(0,e.JU)(ae);$.set(Ye,ne)}),$.commit(),(0,E.of)(!0)}deleteShop(Y){console.log("FirestoreService.deleteShop()",Y);const $=(0,e.JU)(this.firestore,`shops/${Y}`);return(0,C.D)((0,R.oe)($))}updateShop(Y){console.log("FirestoreService.updateShop()",Y);const $=(0,e.JU)(this.firestore,`shops/${Y.id}`);return(0,C.D)((0,R.pl)($,Y))}getShops(){console.log("FirestoreService.getShops()");const Y=(0,e.hJ)(this.firestore,"shops");return(0,e.BS)(Y)}getProducts(){console.log("FirestoreService.getProducts()");const Y=(0,e.hJ)(this.firestore,"products");return(0,e.BS)(Y,{idField:"id"})}addProduct(Y){console.log("FirestoreService.addProduct()",Y),Y.imageUrl||(Y.imageUrl="");const $=(0,e.hJ)(this.firestore,"products");return(0,C.D)((0,e.ET)($,Y))}addProducts(Y){console.log("FirestoreService.addProducts()",Y);const $=(0,R.qs)(this.firestore);return Y.forEach(ne=>{const ae=(0,e.hJ)(this.firestore,"products"),Ye=(0,e.JU)(ae);$.set(Ye,ne)}),$.commit(),(0,E.of)(!0)}deleteProduct(Y){console.log("FirestoreService.deleteProduct()",Y);const $=(0,e.JU)(this.firestore,`products/${Y}`);return(0,C.D)((0,R.oe)($))}updateProduct(Y){console.log("FirestoreService.updateProduct()",Y);const $=(0,e.JU)(this.firestore,`products/${Y.id}`);return(0,C.D)((0,R.pl)($,Y))}getShopsProducts(){console.log("FirestoreService.getShopsProducts()");const Y=(0,e.hJ)(this.firestore,"shopsProducts");return(0,e.BS)(Y,{idField:"id"})}deleteShopProduct(Y){console.log("FirestoreService.deleteShopProduct()",Y);const $=(0,e.JU)(this.firestore,`shopsProducts/${Y.id}`);return console.log($),this.deleteShopProducts([Y])}deleteShopProducts(Y){console.log("FirestoreService.deleteShopProducts()",Y);const $=(0,R.qs)(this.firestore);return Y.forEach(ne=>{console.log(ne.id);const ae=(0,e.JU)(this.firestore,`shopsProducts/${ne.id}`);$.delete(ae)}),$.commit(),(0,E.of)(!0)}addShopProduct(Y){console.log("FirestoreService.addShopProduct()",Y);const $=(0,e.hJ)(this.firestore,"shopsProducts");return(0,C.D)((0,e.ET)($,Y))}addShopProducts(Y){console.log("FirestoreService.addShopProducts()",Y);const $=(0,R.qs)(this.firestore);return Y.forEach(ne=>{const ae=(0,e.hJ)(this.firestore,"shopsProducts"),Ye=(0,e.JU)(ae);$.set(Ye,ne)}),$.commit(),(0,E.of)(!0)}}return q.\u0275fac=function(Y){return new(Y||q)(P.LFG(e.gg))},q.\u0275prov=P.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},4120:(tt,A,O)=>{"use strict";O.d(A,{r:()=>R});var e=O(7579),C=O(3701),E=O(5e3);let R=(()=>{class P{constructor(){this.user=new e.x}login(q){q.lastLogin=(new Date).getTime(),this.user.next(q),localStorage.setItem(C.M.PS_LOGGED_USER,JSON.stringify(q))}logout(){localStorage.removeItem(C.M.PS_LOGGED_USER),this.user.next(void 0)}checkIsAdmin(q){return(null==q?void 0:q.email.startsWith("jollmat@"))||(null==q?void 0:q.email.startsWith("joan.lloria@"))||(null==q?void 0:q.email.startsWith("joanlloria@"))}getLoggedUser(){let q=JSON.parse(localStorage.getItem(C.M.PS_LOGGED_USER));if(q)return q=q,q.admin=this.checkIsAdmin(q),q}isLoggedUser(){return null!=this.getLoggedUser()}}return P.\u0275fac=function(q){return new(q||P)},P.\u0275prov=E.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},6082:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8686),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3709),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3701),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_login_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4120),_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1343);let ProductService=(()=>{class ProductService{constructor(loginService,firestoreService){this.loginService=loginService,this.firestoreService=firestoreService,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._products=[],this._favouriteProductsBarcodes=[];const favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS);this._favouriteProductsBarcodes=favouriteProductsBarcodes?eval(favouriteProductsBarcodes):[],this.setFavourites(this._favouriteProductsBarcodes),this.products.subscribe(tt=>{this._products=tt})}loadProducts(){return console.log("ProductService.loadProducts()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.getProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(tt=>{(!tt||0===tt.length)&&this.firestoreService.addProducts(tt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(tt),this.checkFavourites(tt),this.products.next(tt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(tt=>{(!tt||0===tt.length)&&this.firestoreService.addProducts(tt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(tt),this.checkFavourites(tt),this.products.next(tt)}))}getProducts(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this._products)}toggleFavourite(tt){let A=this.getFavourites();return tt.favourite?A.push(tt.barcode):A=A.filter(O=>O!==tt.barcode),this.setFavourites(A),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(tt){tt.map(A=>(A.imageUrl||(A.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),A))}updateProduct(tt,A){return console.log("ProductService.updateProduct()",tt),A||this.toggleFavourite(tt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.updateProduct(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createProduct(tt){return console.log("ProductService.createProduct()",tt),tt.createdBy=this.loginService.getLoggedUser(),tt.createdOn=(new Date).getTime(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.addProduct(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products.push(tt),this.products.next(this._products)})):(this._products.push(tt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeProduct(tt){return console.log("ProductService.removeProduct()",tt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.deleteProduct(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products=this._products.filter(A=>A.id!==tt),this.products.next(this._products)})):(this._products=this._products.filter(A=>A.id!==tt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(tt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS,JSON.stringify(tt))}getFavourites(){const _favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS),favouriteProductsBarcodes=_favouriteProductsBarcodes?eval(_favouriteProductsBarcodes):[];return favouriteProductsBarcodes}checkFavourites(tt){const A=this.getFavourites();tt.map(O=>{O.favourite=A.indexOf(O.barcode)>-1})}}return ProductService.\u0275fac=function tt(A){return new(A||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_3__.r),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()},635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ShopService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3701),_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7296),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8686),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_firestore_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1343),_login_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4120);let ShopService=(()=>{class ShopService{constructor(firestoreService,loginService){this.firestoreService=firestoreService,this.loginService=loginService,this.shops=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._shops=[],this._favouriteShopsIds=[];const favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS);this._favouriteShopsIds=favouriteShopsIds?eval(favouriteShopsIds):[],this.setFavourites(this._favouriteShopsIds),this.shops.subscribe(tt=>{this._shops=tt}),this.loadShops().subscribe()}loadShops(){return console.log("ShopService.loadShops()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.getShops().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(tt=>{(!tt||0===tt.length)&&this.firestoreService.addShops(tt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(tt),this.checkFavourites(tt),this.shops.next(tt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(tt=>{(!tt||0===tt.length)&&this.firestoreService.addShops(tt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(tt),this.checkFavourites(tt),this.shops.next(tt)}))}toggleFavourite(tt){let A=this.getFavourites();return tt.favourite?A.push(tt.id):A=A.filter(O=>O!==tt.id),this.setFavourites(A),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(tt){tt.map(A=>(A.imageUrl||(A.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),A))}updateShop(tt){return console.log("ShopService.updateShop()",tt),this.toggleFavourite(tt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.updateShop(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createShop(tt){return console.log("ShopService.createShop()",tt),tt.createdBy=this.loginService.getLoggedUser(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.addShop(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops.push(tt),this.shops.next(this._shops)})):(this._shops.push(tt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeShop(tt){return console.log("ShopService.removeShop()",tt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.deleteShop(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops=this._shops.filter(A=>A.id!==tt),this.shops.next(this._shops)})):(this._shops=this._shops.filter(A=>A.id!==tt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(tt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS,JSON.stringify(tt))}getFavourites(){const _favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS),favouriteShopsIds=_favouriteShopsIds?eval(_favouriteShopsIds):[];return favouriteShopsIds}checkFavourites(tt){const A=this.getFavourites();tt.map(O=>{O.favourite=A.indexOf(O.id)>-1})}}return ShopService.\u0275fac=function tt(A){return new(A||ShopService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_4__.r))},ShopService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ShopService,factory:ShopService.\u0275fac,providedIn:"root"}),ShopService})()},8686:(tt,A,O)=>{"use strict";O.d(A,{q:()=>e});const e={defaultLanguage:"ca",cloudMode:!0}},6064:(tt,A,O)=>{"use strict";var e=O(5e3);let C=null;function E(){return C}const q=new e.OlP("DocumentToken");let W=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:function(){return function Y(){return(0,e.LFG)(ne)}()},providedIn:"platform"}),n})();const $=new e.OlP("Location Initialized");let ne=(()=>{class n extends W{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(t){const o=E().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=E().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,u){ae()?this._history.pushState(t,o,u):this.location.hash=u}replaceState(t,o,u){ae()?this._history.replaceState(t,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q))},n.\u0275prov=e.Yz7({token:n,factory:function(){return function Ye(){return new ne((0,e.LFG)(q))}()},providedIn:"platform"}),n})();function ae(){return!!window.history.pushState}function qe(n,r){if(0==n.length)return r;if(0==r.length)return n;let t=0;return n.endsWith("/")&&t++,r.startsWith("/")&&t++,2==t?n+r.substring(1):1==t?n+r:n+"/"+r}function Ge(n){const r=n.match(/#|\?|$/),t=r&&r.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:function(){return function Oe(n){const r=(0,e.LFG)(q).location;return new rt((0,e.LFG)(W),r&&r.origin||"")}()},providedIn:"root"}),n})();const De=new e.OlP("appBaseHref");let rt=(()=>{class n extends le{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qe(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+lt(this._platformLocation.search),u=this._platformLocation.hash;return u&&t?`${o}${u}`:o}pushState(t,o,u,p){const b=this.prepareExternalUrl(u+lt(p));this._platformLocation.pushState(t,o,b)}replaceState(t,o,u,p){const b=this.prepareExternalUrl(u+lt(p));this._platformLocation.replaceState(t,o,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(W),e.LFG(De,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n extends le{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=qe(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,u,p){let b=this.prepareExternalUrl(u+lt(p));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.pushState(t,o,b)}replaceState(t,o,u,p){let b=this.prepareExternalUrl(u+lt(p));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(W),e.LFG(De,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ze=(()=>{class n{constructor(t,o){this._subject=new e.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ge(Ie(u)),this._platformStrategy.onPopState(p=>{this._subject.emit({url:this.path(!0),pop:!0,state:p.state,type:p.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+lt(o))}normalize(t){return n.stripTrailingSlash(function He(n,r){return n&&r.startsWith(n)?r.substring(n.length):r}(this._baseHref,Ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,o="",u=null){this._platformStrategy.pushState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lt(o)),u)}replaceState(t,o="",u=null){this._platformStrategy.replaceState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lt(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(u=>u(t,o))}subscribe(t,o,u){return this._subject.subscribe({next:t,error:o,complete:u})}}return n.normalizeQueryParams=lt,n.joinWithSlash=qe,n.stripTrailingSlash=Ge,n.\u0275fac=function(t){return new(t||n)(e.LFG(le),e.LFG(W))},n.\u0275prov=e.Yz7({token:n,factory:function(){return function Ce(){return new Ze((0,e.LFG)(le),(0,e.LFG)(W))}()},providedIn:"root"}),n})();function Ie(n){return n.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Percent=1]="Percent",se[se.Currency=2]="Currency",se[se.Scientific=3]="Scientific",se))(),Q=(()=>((Q=Q||{})[Q.Format=0]="Format",Q[Q.Standalone=1]="Standalone",Q))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),Pe=(()=>((Pe=Pe||{})[Pe.Short=0]="Short",Pe[Pe.Medium=1]="Medium",Pe[Pe.Long=2]="Long",Pe[Pe.Full=3]="Full",Pe))(),de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Group=1]="Group",de[de.List=2]="List",de[de.PercentSign=3]="PercentSign",de[de.PlusSign=4]="PlusSign",de[de.MinusSign=5]="MinusSign",de[de.Exponential=6]="Exponential",de[de.SuperscriptingExponent=7]="SuperscriptingExponent",de[de.PerMille=8]="PerMille",de[de.Infinity=9]="Infinity",de[de.NaN=10]="NaN",de[de.TimeSeparator=11]="TimeSeparator",de[de.CurrencyDecimal=12]="CurrencyDecimal",de[de.CurrencyGroup=13]="CurrencyGroup",de))();function Ln(n,r){return Vr((0,e.cg1)(n)[e.wAp.DateFormat],r)}function vr(n,r){return Vr((0,e.cg1)(n)[e.wAp.TimeFormat],r)}function ir(n,r){return Vr((0,e.cg1)(n)[e.wAp.DateTimeFormat],r)}function Yn(n,r){const t=(0,e.cg1)(n),o=t[e.wAp.NumberSymbols][r];if(void 0===o){if(r===de.CurrencyDecimal)return t[e.wAp.NumberSymbols][de.Decimal];if(r===de.CurrencyGroup)return t[e.wAp.NumberSymbols][de.Group]}return o}function jr(n){if(!n[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vr(n,r){for(let t=r;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Zr(n){const[r,t]=n.split(":");return{hours:+r,minutes:+t}}const Xe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vt={},kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pt=(()=>((Pt=Pt||{})[Pt.Short=0]="Short",Pt[Pt.ShortGMT=1]="ShortGMT",Pt[Pt.Long=2]="Long",Pt[Pt.Extended=3]="Extended",Pt))(),Ct=(()=>((Ct=Ct||{})[Ct.FullYear=0]="FullYear",Ct[Ct.Month=1]="Month",Ct[Ct.Date=2]="Date",Ct[Ct.Hours=3]="Hours",Ct[Ct.Minutes=4]="Minutes",Ct[Ct.Seconds=5]="Seconds",Ct[Ct.FractionalSeconds=6]="FractionalSeconds",Ct[Ct.Day=7]="Day",Ct))(),Ft=(()=>((Ft=Ft||{})[Ft.DayPeriods=0]="DayPeriods",Ft[Ft.Days=1]="Days",Ft[Ft.Months=2]="Months",Ft[Ft.Eras=3]="Eras",Ft))();function mn(n,r,t,o){let u=function On(n){if(Gn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[u,p=1,b=1]=n.split("-").map(x=>+x);return en(u,p-1,b)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let o;if(o=n.match(Xe))return function or(n){const r=new Date(0);let t=0,o=0;const u=n[8]?r.setUTCFullYear:r.setFullYear,p=n[8]?r.setUTCHours:r.setHours;n[9]&&(t=Number(n[9]+n[10]),o=Number(n[9]+n[11])),u.call(r,Number(n[1]),Number(n[2])-1,Number(n[3]));const b=Number(n[4]||0)-t,x=Number(n[5]||0)-o,N=Number(n[6]||0),K=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return p.call(r,b,x,N,K),r}(o)}const r=new Date(n);if(!Gn(r))throw new Error(`Unable to convert "${n}" into a date`);return r}(n);r=Qt(t,r)||r;let x,b=[];for(;r;){if(x=kt.exec(r),!x){b.push(r);break}{b=b.concat(x.slice(1));const he=b.pop();if(!he)break;r=he}}let N=u.getTimezoneOffset();o&&(N=Le(o,N),u=function wn(n,r,t){const o=t?-1:1,u=n.getTimezoneOffset();return function Rt(n,r){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+r),n}(n,o*(Le(r,u)-u))}(u,o,!0));let K="";return b.forEach(he=>{const Ne=function ze(n){if(me[n])return me[n];let r;switch(n){case"G":case"GG":case"GGG":r=En(Ft.Eras,ge.Abbreviated);break;case"GGGG":r=En(Ft.Eras,ge.Wide);break;case"GGGGG":r=En(Ft.Eras,ge.Narrow);break;case"y":r=Ht(Ct.FullYear,1,0,!1,!0);break;case"yy":r=Ht(Ct.FullYear,2,0,!0,!0);break;case"yyy":r=Ht(Ct.FullYear,3,0,!1,!0);break;case"yyyy":r=Ht(Ct.FullYear,4,0,!1,!0);break;case"Y":r=pe(1);break;case"YY":r=pe(2,!0);break;case"YYY":r=pe(3);break;case"YYYY":r=pe(4);break;case"M":case"L":r=Ht(Ct.Month,1,1);break;case"MM":case"LL":r=Ht(Ct.Month,2,1);break;case"MMM":r=En(Ft.Months,ge.Abbreviated);break;case"MMMM":r=En(Ft.Months,ge.Wide);break;case"MMMMM":r=En(Ft.Months,ge.Narrow);break;case"LLL":r=En(Ft.Months,ge.Abbreviated,Q.Standalone);break;case"LLLL":r=En(Ft.Months,ge.Wide,Q.Standalone);break;case"LLLLL":r=En(Ft.Months,ge.Narrow,Q.Standalone);break;case"w":r=ye(1);break;case"ww":r=ye(2);break;case"W":r=ye(1,!0);break;case"d":r=Ht(Ct.Date,1);break;case"dd":r=Ht(Ct.Date,2);break;case"c":case"cc":r=Ht(Ct.Day,1);break;case"ccc":r=En(Ft.Days,ge.Abbreviated,Q.Standalone);break;case"cccc":r=En(Ft.Days,ge.Wide,Q.Standalone);break;case"ccccc":r=En(Ft.Days,ge.Narrow,Q.Standalone);break;case"cccccc":r=En(Ft.Days,ge.Short,Q.Standalone);break;case"E":case"EE":case"EEE":r=En(Ft.Days,ge.Abbreviated);break;case"EEEE":r=En(Ft.Days,ge.Wide);break;case"EEEEE":r=En(Ft.Days,ge.Narrow);break;case"EEEEEE":r=En(Ft.Days,ge.Short);break;case"a":case"aa":case"aaa":r=En(Ft.DayPeriods,ge.Abbreviated);break;case"aaaa":r=En(Ft.DayPeriods,ge.Wide);break;case"aaaaa":r=En(Ft.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":r=En(Ft.DayPeriods,ge.Abbreviated,Q.Standalone,!0);break;case"bbbb":r=En(Ft.DayPeriods,ge.Wide,Q.Standalone,!0);break;case"bbbbb":r=En(Ft.DayPeriods,ge.Narrow,Q.Standalone,!0);break;case"B":case"BB":case"BBB":r=En(Ft.DayPeriods,ge.Abbreviated,Q.Format,!0);break;case"BBBB":r=En(Ft.DayPeriods,ge.Wide,Q.Format,!0);break;case"BBBBB":r=En(Ft.DayPeriods,ge.Narrow,Q.Format,!0);break;case"h":r=Ht(Ct.Hours,1,-12);break;case"hh":r=Ht(Ct.Hours,2,-12);break;case"H":r=Ht(Ct.Hours,1);break;case"HH":r=Ht(Ct.Hours,2);break;case"m":r=Ht(Ct.Minutes,1);break;case"mm":r=Ht(Ct.Minutes,2);break;case"s":r=Ht(Ct.Seconds,1);break;case"ss":r=Ht(Ct.Seconds,2);break;case"S":r=Ht(Ct.FractionalSeconds,1);break;case"SS":r=Ht(Ct.FractionalSeconds,2);break;case"SSS":r=Ht(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=et(Pt.Short);break;case"ZZZZZ":r=et(Pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=et(Pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=et(Pt.Long);break;default:return null}return me[n]=r,r}(he);K+=Ne?Ne(u,t,N):"''"===he?"'":he.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),K}function en(n,r,t){const o=new Date(0);return o.setFullYear(n,r,t),o.setHours(0,0,0),o}function Qt(n,r){const t=function Dt(n){return(0,e.cg1)(n)[e.wAp.LocaleId]}(n);if(vt[t]=vt[t]||{},vt[t][r])return vt[t][r];let o="";switch(r){case"shortDate":o=Ln(n,Pe.Short);break;case"mediumDate":o=Ln(n,Pe.Medium);break;case"longDate":o=Ln(n,Pe.Long);break;case"fullDate":o=Ln(n,Pe.Full);break;case"shortTime":o=vr(n,Pe.Short);break;case"mediumTime":o=vr(n,Pe.Medium);break;case"longTime":o=vr(n,Pe.Long);break;case"fullTime":o=vr(n,Pe.Full);break;case"short":const u=Qt(n,"shortTime"),p=Qt(n,"shortDate");o=Pn(ir(n,Pe.Short),[u,p]);break;case"medium":const b=Qt(n,"mediumTime"),x=Qt(n,"mediumDate");o=Pn(ir(n,Pe.Medium),[b,x]);break;case"long":const N=Qt(n,"longTime"),K=Qt(n,"longDate");o=Pn(ir(n,Pe.Long),[N,K]);break;case"full":const he=Qt(n,"fullTime"),Ne=Qt(n,"fullDate");o=Pn(ir(n,Pe.Full),[he,Ne])}return o&&(vt[t][r]=o),o}function Pn(n,r){return r&&(n=n.replace(/\{([^}]+)}/g,function(t,o){return null!=r&&o in r?r[o]:t})),n}function Cn(n,r,t="-",o,u){let p="";(n<0||u&&n<=0)&&(u?n=1-n:(n=-n,p=t));let b=String(n);for(;b.length<r;)b="0"+b;return o&&(b=b.substr(b.length-r)),p+b}function Ht(n,r,t=0,o=!1,u=!1){return function(p,b){let x=function br(n,r){switch(n){case Ct.FullYear:return r.getFullYear();case Ct.Month:return r.getMonth();case Ct.Date:return r.getDate();case Ct.Hours:return r.getHours();case Ct.Minutes:return r.getMinutes();case Ct.Seconds:return r.getSeconds();case Ct.FractionalSeconds:return r.getMilliseconds();case Ct.Day:return r.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,p);if((t>0||x>-t)&&(x+=t),n===Ct.Hours)0===x&&-12===t&&(x=12);else if(n===Ct.FractionalSeconds)return function Wn(n,r){return Cn(n,3).substr(0,r)}(x,r);const N=Yn(b,de.MinusSign);return Cn(x,r,N,o,u)}}function En(n,r,t=Q.Format,o=!1){return function(u,p){return function Tt(n,r,t,o,u,p){switch(t){case Ft.Months:return function mt(n,r,t){const o=(0,e.cg1)(n),p=Vr([o[e.wAp.MonthsFormat],o[e.wAp.MonthsStandalone]],r);return Vr(p,t)}(r,u,o)[n.getMonth()];case Ft.Days:return function wt(n,r,t){const o=(0,e.cg1)(n),p=Vr([o[e.wAp.DaysFormat],o[e.wAp.DaysStandalone]],r);return Vr(p,t)}(r,u,o)[n.getDay()];case Ft.DayPeriods:const b=n.getHours(),x=n.getMinutes();if(p){const K=function Di(n){const r=(0,e.cg1)(n);return jr(r),(r[e.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?Zr(o):[Zr(o[0]),Zr(o[1])])}(r),he=function gn(n,r,t){const o=(0,e.cg1)(n);jr(o);const p=Vr([o[e.wAp.ExtraData][0],o[e.wAp.ExtraData][1]],r)||[];return Vr(p,t)||[]}(r,u,o),Ne=K.findIndex(Je=>{if(Array.isArray(Je)){const[We,ft]=Je,yt=b>=We.hours&&x>=We.minutes,$t=b<ft.hours||b===ft.hours&&x<ft.minutes;if(We.hours<ft.hours){if(yt&&$t)return!0}else if(yt||$t)return!0}else if(Je.hours===b&&Je.minutes===x)return!0;return!1});if(-1!==Ne)return he[Ne]}return function pn(n,r,t){const o=(0,e.cg1)(n),p=Vr([o[e.wAp.DayPeriodsFormat],o[e.wAp.DayPeriodsStandalone]],r);return Vr(p,t)}(r,u,o)[b<12?0:1];case Ft.Eras:return function At(n,r){return Vr((0,e.cg1)(n)[e.wAp.Eras],r)}(r,o)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(u,p,n,r,t,o)}}function et(n){return function(r,t,o){const u=-1*o,p=Yn(t,de.MinusSign),b=u>0?Math.floor(u/60):Math.ceil(u/60);switch(n){case Pt.Short:return(u>=0?"+":"")+Cn(b,2,p)+Cn(Math.abs(u%60),2,p);case Pt.ShortGMT:return"GMT"+(u>=0?"+":"")+Cn(b,1,p);case Pt.Long:return"GMT"+(u>=0?"+":"")+Cn(b,2,p)+":"+Cn(Math.abs(u%60),2,p);case Pt.Extended:return 0===o?"Z":(u>=0?"+":"")+Cn(b,2,p)+":"+Cn(Math.abs(u%60),2,p);default:throw new Error(`Unknown zone width "${n}"`)}}}function vn(n){return en(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function ye(n,r=!1){return function(t,o){let u;if(r){const p=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,b=t.getDate();u=1+Math.floor((b+p)/7)}else{const p=vn(t),b=function An(n){const r=en(n,0,1).getDay();return en(n,0,1+(r<=4?4:11)-r)}(p.getFullYear()),x=p.getTime()-b.getTime();u=1+Math.round(x/6048e5)}return Cn(u,n,Yn(o,de.MinusSign))}}function pe(n,r=!1){return function(t,o){return Cn(vn(t).getFullYear(),n,Yn(o,de.MinusSign),r)}}const me={};function Le(n,r){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?r:t}function Gn(n){return n instanceof Date&&!isNaN(n.valueOf())}const tr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function jn(n){const r=parseInt(n);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+n);return r}function Pr(n,r){r=encodeURIComponent(r);for(const t of n.split(";")){const o=t.indexOf("="),[u,p]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(u.trim()===r)return decodeURIComponent(p)}return null}let Tr=(()=>{class n{constructor(t,o,u,p){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=u,this._renderer=p,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(u=>{o?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ui{constructor(r,t,o,u){this.$implicit=r,this.ngForOf=t,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nr=(()=>{class n{constructor(t,o,u){this._viewContainer=t,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((u,p,b)=>{if(null==u.previousIndex)o.createEmbeddedView(this._template,new Ui(u.item,this._ngForOf,-1,-1),null===b?void 0:b);else if(null==b)o.remove(null===p?void 0:p);else if(null!==p){const x=o.get(p);o.move(x,b),Xi(x,u)}});for(let u=0,p=o.length;u<p;u++){const x=o.get(u).context;x.index=u,x.count=p,x.ngForOf=this._ngForOf}t.forEachIdentityChange(u=>{Xi(o.get(u.currentIndex),u)})}static ngTemplateContextGuard(t,o){return!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},n.\u0275dir=e.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Xi(n,r){n.context.$implicit=r.item}let ke=(()=>{class n{constructor(t,o){this._viewContainer=t,this._context=new Me,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ot("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ot("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Me{constructor(){this.$implicit=null,this.ngIf=null}}function ot(n,r){if(r&&!r.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,e.AaK)(r)}'.`)}let Gr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const o=this._viewContainerRef;this._viewRef&&o.remove(o.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?o.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[e.TTD]}),n})();function ji(n,r){return new e.vHH(2100,"")}const Fs=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Co=(()=>{class n{constructor(t,o){this.locale=t,this.defaultTimezone=o}transform(t,o="mediumDate",u,p){var b;if(null==t||""===t||t!=t)return null;try{return mn(t,o,p||this.locale,null!==(b=null!=u?u:this.defaultTimezone)&&void 0!==b?b:void 0)}catch(x){throw ji()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.soG,16),e.Y36(Fs,24))},n.\u0275pipe=e.Yjl({name:"date",type:n,pure:!0}),n})(),Ho=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"json",type:n,pure:!1}),n})(),M=(()=>{class n{constructor(t){this._locale=t}transform(t,o,u){if(!function z(n){return!(null==n||""===n||n!=n)}(t))return null;u=u||this._locale;try{return function bt(n,r,t){return function Vt(n,r,t,o,u,p,b=!1){let x="",N=!1;if(isFinite(n)){let K=function on(n){let o,u,p,b,x,r=Math.abs(n)+"",t=0;for((u=r.indexOf("."))>-1&&(r=r.replace(".","")),(p=r.search(/e/i))>0?(u<0&&(u=p),u+=+r.slice(p+1),r=r.substring(0,p)):u<0&&(u=r.length),p=0;"0"===r.charAt(p);p++);if(p===(x=r.length))o=[0],u=1;else{for(x--;"0"===r.charAt(x);)x--;for(u-=p,o=[],b=0;p<=x;p++,b++)o[b]=Number(r.charAt(p))}return u>22&&(o=o.splice(0,21),t=u-1,u=1),{digits:o,exponent:t,integerLen:u}}(n);b&&(K=function Xt(n){if(0===n.digits[0])return n;const r=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===r?n.digits.push(0,0):1===r&&n.digits.push(0),n.integerLen+=2),n}(K));let he=r.minInt,Ne=r.minFrac,Je=r.maxFrac;if(p){const bn=p.match(tr);if(null===bn)throw new Error(`${p} is not a valid digit info`);const lr=bn[1],Sn=bn[3],fr=bn[5];null!=lr&&(he=jn(lr)),null!=Sn&&(Ne=jn(Sn)),null!=fr?Je=jn(fr):null!=Sn&&Ne>Je&&(Je=Ne)}!function Tn(n,r,t){if(r>t)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${t}).`);let o=n.digits,u=o.length-n.integerLen;const p=Math.min(Math.max(r,u),t);let b=p+n.integerLen,x=o[b];if(b>0){o.splice(Math.max(n.integerLen,b));for(let Ne=b;Ne<o.length;Ne++)o[Ne]=0}else{u=Math.max(0,u),n.integerLen=1,o.length=Math.max(1,b=p+1),o[0]=0;for(let Ne=1;Ne<b;Ne++)o[Ne]=0}if(x>=5)if(b-1<0){for(let Ne=0;Ne>b;Ne--)o.unshift(0),n.integerLen++;o.unshift(1),n.integerLen++}else o[b-1]++;for(;u<Math.max(0,p);u++)o.push(0);let N=0!==p;const K=r+n.integerLen,he=o.reduceRight(function(Ne,Je,We,ft){return ft[We]=(Je+=Ne)<10?Je:Je-10,N&&(0===ft[We]&&We>=K?ft.pop():N=!1),Je>=10?1:0},0);he&&(o.unshift(he),n.integerLen++)}(K,Ne,Je);let We=K.digits,ft=K.integerLen;const yt=K.exponent;let $t=[];for(N=We.every(bn=>!bn);ft<he;ft++)We.unshift(0);for(;ft<0;ft++)We.unshift(0);ft>0?$t=We.splice(ft,We.length):($t=We,We=[0]);const un=[];for(We.length>=r.lgSize&&un.unshift(We.splice(-r.lgSize,We.length).join(""));We.length>r.gSize;)un.unshift(We.splice(-r.gSize,We.length).join(""));We.length&&un.unshift(We.join("")),x=un.join(Yn(t,o)),$t.length&&(x+=Yn(t,u)+$t.join("")),yt&&(x+=Yn(t,de.Exponential)+"+"+yt)}else x=Yn(t,de.Infinity);return x=n<0&&!N?r.negPre+x+r.negSuf:r.posPre+x+r.posSuf,x}(n,function qt(n,r="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=n.split(";"),u=o[0],p=o[1],b=-1!==u.indexOf(".")?u.split("."):[u.substring(0,u.lastIndexOf("0")+1),u.substring(u.lastIndexOf("0")+1)],x=b[0],N=b[1]||"";t.posPre=x.substr(0,x.indexOf("#"));for(let he=0;he<N.length;he++){const Ne=N.charAt(he);"0"===Ne?t.minFrac=t.maxFrac=he+1:"#"===Ne?t.maxFrac=he+1:t.posSuf+=Ne}const K=x.split(",");if(t.gSize=K[1]?K[1].length:0,t.lgSize=K[2]||K[1]?(K[2]||K[1]).length:0,p){const he=u.length-t.posPre.length-t.posSuf.length,Ne=p.indexOf("#");t.negPre=p.substr(0,Ne).replace(/'/g,""),t.negSuf=p.substr(Ne+he).replace(/'/g,"")}else t.negPre=r+t.posPre,t.negSuf=t.posSuf;return t}(function qr(n,r){return(0,e.cg1)(n)[e.wAp.NumberFormats][r]}(r,se.Decimal),Yn(r,de.MinusSign)),r,de.Group,de.Decimal,t)}(function ue(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),u,o)}catch(p){throw ji()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"number",type:n,pure:!0}),n})();let Te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const $e="browser";let Kn=(()=>{class n{}return n.\u0275prov=(0,e.Yz7)({token:n,providedIn:"root",factory:()=>new zr((0,e.LFG)(q),window)}),n})();class zr{constructor(r,t){this.document=r,this.window=t,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const t=function eo(n,r){const t=n.getElementById(r)||n.getElementsByName(r)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const o=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const p=u.shadowRoot;if(p){const b=p.getElementById(r)||p.querySelector(`[name="${r}"]`);if(b)return b}u=o.nextNode()}}return null}(this.document,r);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=r)}}scrollToElement(r){const t=r.getBoundingClientRect(),o=t.left+this.window.pageXOffset,u=t.top+this.window.pageYOffset,p=this.offset();this.window.scrollTo(o-p[0],u-p[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Fr(this.window.history)||Fr(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Fr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xr{}class Ma extends class sc extends class V{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function P(n){C||(C=n)}(new Ma)}onAndCancel(r,t,o){return r.addEventListener(t,o,!1),()=>{r.removeEventListener(t,o,!1)}}dispatchEvent(r,t){r.dispatchEvent(t)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,t){return(t=t||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,t){return"window"===t?window:"document"===t?r:"body"===t?r.body:null}getBaseHref(r){const t=function Na(){return Kr=Kr||document.querySelector("base"),Kr?Kr.getAttribute("href"):null}();return null==t?null:function ka(n){Ra=Ra||document.createElement("a"),Ra.setAttribute("href",n);const r=Ra.pathname;return"/"===r.charAt(0)?r:`/${r}`}(t)}resetBaseElement(){Kr=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Pr(document.cookie,r)}}let Ra,Kr=null;const Ro=new e.OlP("TRANSITION_ID"),gl=[{provide:e.ip1,useFactory:function Vi(n,r,t){return()=>{t.get(e.CZH).donePromise.then(()=>{const o=E(),u=r.querySelectorAll(`style[ng-transition="${n}"]`);for(let p=0;p<u.length;p++)o.remove(u[p])})}},deps:[Ro,q,e.zs3],multi:!0}];class cs{static init(){(0,e.VLi)(new cs)}addToWindow(r){e.dqk.getAngularTestability=(o,u=!0)=>{const p=r.findTestabilityInTree(o,u);if(null==p)throw new Error("Could not find testability for element.");return p},e.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(o=>{const u=e.dqk.getAllAngularTestabilities();let p=u.length,b=!1;const x=function(N){b=b||N,p--,0==p&&o(b)};u.forEach(function(N){N.whenStable(x)})})}findTestabilityInTree(r,t,o){if(null==t)return null;const u=r.getTestability(t);return null!=u?u:o?E().isShadowRoot(t)?this.findTestabilityInTree(r,t.host,!0):this.findTestabilityInTree(r,t.parentElement,!0):null}}let co=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const ws=new e.OlP("EventManagerPlugins");let La=(()=>{class n{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(u=>u.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,u){return this._findPluginFor(o).addEventListener(t,o,u)}addGlobalEventListener(t,o,u){return this._findPluginFor(o).addGlobalEventListener(t,o,u)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const u=this._plugins;for(let p=0;p<u.length;p++){const b=u[p];if(b.supports(t))return this._eventNameToPlugin.set(t,b),b}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ws),e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class ac{constructor(r){this._doc=r}addGlobalEventListener(r,t,o){const u=E().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${t}`);return this.addEventListener(u,t,o)}}let ls=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Us=(()=>{class n extends ls{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,u){t.forEach(p=>{const b=this._doc.createElement("style");b.textContent=p,u.push(o.appendChild(b))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(Sc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(t,u,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Sc))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Sc(n){E().remove(n)}const $n={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ru=/%COMP%/g;function Mt(n,r,t){for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?Mt(n,u,t):(u=u.replace(ru,n),t.push(u))}return t}function Vn(n){return r=>{if("__ngUnwrap__"===r)return n;!1===n(r)&&(r.preventDefault(),r.returnValue=!1)}}let ci=(()=>{class n{constructor(t,o,u){this.eventManager=t,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new ou(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case e.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new Ac(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(t),u}case 1:case e.ifc.ShadowDom:return new Qu(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const u=Mt(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(La),e.LFG(Us),e.LFG(e.AFp))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class ou{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,t){return t?document.createElementNS($n[t]||t,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,t){r.appendChild(t)}insertBefore(r,t,o){r&&r.insertBefore(t,o)}removeChild(r,t){r&&r.removeChild(t)}selectRootElement(r,t){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return t||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,t,o,u){if(u){t=u+":"+t;const p=$n[u];p?r.setAttributeNS(p,t,o):r.setAttribute(t,o)}else r.setAttribute(t,o)}removeAttribute(r,t,o){if(o){const u=$n[o];u?r.removeAttributeNS(u,t):r.removeAttribute(`${o}:${t}`)}else r.removeAttribute(t)}addClass(r,t){r.classList.add(t)}removeClass(r,t){r.classList.remove(t)}setStyle(r,t,o,u){u&(e.JOm.DashCase|e.JOm.Important)?r.style.setProperty(t,o,u&e.JOm.Important?"important":""):r.style[t]=o}removeStyle(r,t,o){o&e.JOm.DashCase?r.style.removeProperty(t):r.style[t]=""}setProperty(r,t,o){r[t]=o}setValue(r,t){r.nodeValue=t}listen(r,t,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,t,Vn(o)):this.eventManager.addEventListener(r,t,Vn(o))}}class Ac extends ou{constructor(r,t,o,u){super(r),this.component=o;const p=Mt(u+"-"+o.id,o.styles,[]);t.addStyles(p),this.contentAttr=function iu(n){return"_ngcontent-%COMP%".replace(ru,n)}(u+"-"+o.id),this.hostAttr=function la(n){return"_nghost-%COMP%".replace(ru,n)}(u+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,t){const o=super.createElement(r,t);return super.setAttribute(o,this.contentAttr,""),o}}class Qu extends ou{constructor(r,t,o,u){super(r),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=Mt(u.id,u.styles,[]);for(let b=0;b<p.length;b++){const x=document.createElement("style");x.textContent=p[b],this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,t){return super.appendChild(this.nodeOrShadowRoot(r),t)}insertBefore(r,t,o){return super.insertBefore(this.nodeOrShadowRoot(r),t,o)}removeChild(r,t){return super.removeChild(this.nodeOrShadowRoot(r),t)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Xu=(()=>{class n extends ac{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,u){return t.addEventListener(o,u,!1),()=>this.removeEventListener(t,o,u)}removeEventListener(t,o,u){return t.removeEventListener(o,u)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const ml=["alt","control","meta","shift"],wo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},To={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ua={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ja=(()=>{class n extends ac{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,o,u){const p=n.parseEventName(o),b=n.eventCallback(p.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>E().onAndCancel(t,p.domEventName,b))}static parseEventName(t){const o=t.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const p=n._normalizeKey(o.pop());let b="";if(ml.forEach(N=>{const K=o.indexOf(N);K>-1&&(o.splice(K,1),b+=N+".")}),b+=p,0!=o.length||0===p.length)return null;const x={};return x.domEventName=u,x.fullKey=b,x}static getEventFullKey(t){let o="",u=function Vs(n){let r=n.key;if(null==r){if(r=n.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===n.location&&To.hasOwnProperty(r)&&(r=To[r]))}return wo[r]||r}(t);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),ml.forEach(p=>{p!=u&&ua[p](t)&&(o+=p+".")}),o+=u,o}static eventCallback(t,o,u){return p=>{n.getEventFullKey(p)===t&&u.runGuarded(()=>o(p))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const cc=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:$e},{provide:e.g9A,useValue:function qo(){Ma.makeCurrent(),cs.init()},multi:!0},{provide:q,useFactory:function da(){return(0,e.RDi)(document),document},deps:[]}]),_l=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Qd(){return new e.qLn},deps:[]},{provide:ws,useClass:Xu,multi:!0,deps:[q,e.R0b,e.Lbi]},{provide:ws,useClass:ja,multi:!0,deps:[q]},{provide:ci,useClass:ci,deps:[La,Us,e.AFp]},{provide:e.FYo,useExisting:ci},{provide:ls,useExisting:Us},{provide:Us,useClass:Us,deps:[q]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b]},{provide:La,useClass:La,deps:[ws,e.R0b]},{provide:xr,useClass:co,deps:[]}];let Va=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:e.AFp,useValue:t.appId},{provide:Ro,useExisting:e.AFp},gl]}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(n,12))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:_l,imports:[Te,e.hGG]}),n})();"undefined"!=typeof window&&window;let ko=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:function(t){let o=null;return o=t?new(t||n):e.LFG(bl),o},providedIn:"root"}),n})(),bl=(()=>{class n extends ko{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case e.q3G.NONE:return o;case e.q3G.HTML:return(0,e.qzn)(o,"HTML")?(0,e.z3N)(o):(0,e.EiD)(this._doc,String(o)).toString();case e.q3G.STYLE:return(0,e.qzn)(o,"Style")?(0,e.z3N)(o):o;case e.q3G.SCRIPT:if((0,e.qzn)(o,"Script"))return(0,e.z3N)(o);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.yhl)(o),(0,e.qzn)(o,"URL")?(0,e.z3N)(o):(0,e.mCW)(String(o));case e.q3G.RESOURCE_URL:if((0,e.qzn)(o,"ResourceURL"))return(0,e.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,e.JVY)(t)}bypassSecurityTrustStyle(t){return(0,e.L6k)(t)}bypassSecurityTrustScript(t){return(0,e.eBb)(t)}bypassSecurityTrustUrl(t){return(0,e.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,e.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q))},n.\u0275prov=e.Yz7({token:n,factory:function(t){let o=null;return o=t?new t:function fa(n){return new bl(n.get(q))}(e.LFG(e.zs3)),o},providedIn:"root"}),n})();O(8955);var cr=O(8996),xi=O(8306);const{isArray:rd}=Array,{getPrototypeOf:Rn,prototype:Jn,keys:rh}=Object;function rn(n){if(1===n.length){const r=n[0];if(rd(r))return{args:r,keys:null};if(function pt(n){return n&&"object"==typeof n&&Rn(n)===Jn}(r)){const t=rh(r);return{args:t.map(o=>r[o]),keys:t}}}return{args:n,keys:null}}var It=O(8421),Wr=O(3269),_r=O(5403),Qn=O(4004);const{isArray:cf}=Array;function Mc(n){return(0,Qn.U)(r=>function lf(n,r){return cf(r)?n(...r):n(r)}(n,r))}function uf(n,r){return n.reduce((t,o,u)=>(t[o]=r[u],t),{})}function pu(...n){const r=(0,Wr.jO)(n),{args:t,keys:o}=rn(n),u=new xi.y(p=>{const{length:b}=t;if(!b)return void p.complete();const x=new Array(b);let N=b,K=b;for(let he=0;he<b;he++){let Ne=!1;(0,It.Xf)(t[he]).subscribe((0,_r.x)(p,Je=>{Ne||(Ne=!0,K--),x[he]=Je},()=>N--,void 0,()=>{(!N||!Ne)&&(K||p.next(o?uf(o,x):x),p.complete())}))}});return r?u.pipe(Mc(r)):u}let lc=(()=>{class n{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n}),n})(),zs=(()=>{class n extends lc{}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n})();const Jr=new e.OlP("NgValueAccessor"),ds={provide:Jr,useExisting:(0,e.Gpc)(()=>Do),multi:!0};let Do=(()=>{class n extends zs{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(p){return o.onChange(p.target.checked)})("blur",function(){return o.onTouched()})},features:[e._Bn([ds]),e.qOj]}),n})();const wr={provide:Jr,useExisting:(0,e.Gpc)(()=>Yr),multi:!0},gu=new e.OlP("CompositionEventMode");let Yr=(()=>{class n extends lc{constructor(t,o,u){super(t,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ws(){const n=E()?E().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(gu,8))},n.\u0275dir=e.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(p){return o._handleInput(p.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(p){return o._compositionEnd(p.target.value)})},features:[e._Bn([wr]),e.qOj]}),n})();const bi=new e.OlP("NgValidators"),Ts=new e.OlP("NgAsyncValidators");function no(n){return null}function vu(n){return null!=n}function Cl(n){const r=(0,e.QGY)(n)?(0,cr.D)(n):n;return(0,e.CqO)(r),r}function zo(n){let r={};return n.forEach(t=>{r=null!=t?Object.assign(Object.assign({},r),t):r}),0===Object.keys(r).length?null:r}function id(n,r){return r.map(t=>t(n))}function oi(n){return n.map(r=>function uc(n){return!n.validate}(r)?r:t=>r.validate(t))}function oh(n){return null!=n?function dc(n){if(!n)return null;const r=n.filter(vu);return 0==r.length?null:function(t){return zo(id(t,r))}}(oi(n)):null}function yu(n){return null!=n?function hn(n){if(!n)return null;const r=n.filter(vu);return 0==r.length?null:function(t){return pu(id(t,r).map(Cl)).pipe((0,Qn.U)(zo))}}(oi(n)):null}function od(n,r){return null===n?[r]:Array.isArray(n)?[...n,r]:[n,r]}function Ds(n){return n?Array.isArray(n)?n:[n]:[]}function pa(n,r){return Array.isArray(n)?n.includes(r):n===r}function Ai(n,r){const t=Ds(r);return Ds(n).forEach(u=>{pa(t,u)||t.push(u)}),t}function Ss(n,r){return Ds(r).filter(t=>!pa(n,t))}class Rc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=oh(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=yu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,t){return!!this.control&&this.control.hasError(r,t)}getError(r,t){return this.control?this.control.getError(r,t):null}}class Wo extends Rc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lo extends Rc{get formDirective(){return null}get path(){return null}}let Ii=(()=>{class n extends class Hi{constructor(r){this._cd=r}is(r){var t,o,u;return"submitted"===r?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[r])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Wo,2))},n.\u0275dir=e.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[e.qOj]}),n})();function ro(n,r){(function Dl(n,r){const t=function hc(n){return n._rawValidators}(n);null!==r.validator?n.setValidators(od(t,r.validator)):"function"==typeof t&&n.setValidators([t]);const o=function Es(n){return n._rawAsyncValidators}(n);null!==r.asyncValidator?n.setAsyncValidators(od(o,r.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const u=()=>n.updateValueAndValidity();Pi(r._rawValidators,u),Pi(r._rawAsyncValidators,u)})(n,r),r.valueAccessor.writeValue(n.value),function Cu(n,r){r.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&j(n,r)})}(n,r),function ee(n,r){const t=(o,u)=>{r.valueAccessor.writeValue(o),u&&r.viewToModelUpdate(o)};n.registerOnChange(t),r._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,r),function B(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&j(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function Fc(n,r){if(r.valueAccessor.setDisabledState){const t=o=>{r.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(t),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,r)}function Pi(n,r){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(r)})}function j(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Oi(n,r){const t=n.indexOf(r);t>-1&&n.splice(t,1)}const uo="VALID",ho="INVALID",ni="PENDING",pc="DISABLED";function Sl(n){return(Eu(n)?n.validators:n)||null}function Bc(n){return Array.isArray(n)?oh(n):n||null}function Tu(n,r){return(Eu(r)?r.asyncValidators:n)||null}function ff(n){return Array.isArray(n)?yu(n):n||null}function Eu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const jc=n=>n instanceof Ks;function Du(n){return(n=>n instanceof xl)(n)?n.value:n.getRawValue()}function pf(n,r){const t=jc(n),o=n.controls;if(!(t?Object.keys(o):o).length)throw new e.vHH(1e3,"");if(!o[r])throw new e.vHH(1001,"")}function Ep(n,r){jc(n),n._forEachChild((o,u)=>{if(void 0===r[u])throw new e.vHH(1002,"")})}class sh{constructor(r,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=t,this._composedValidatorFn=Bc(this._rawValidators),this._composedAsyncValidatorFn=ff(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===uo}get invalid(){return this.status===ho}get pending(){return this.status==ni}get disabled(){return this.status===pc}get enabled(){return this.status!==pc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=Bc(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=ff(r)}addValidators(r){this.setValidators(Ai(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Ai(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Ss(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Ss(r,this._rawAsyncValidators))}hasValidator(r){return pa(this._rawValidators,r)}hasAsyncValidator(r){return pa(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=ni,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const t=this._parentMarkedDirty(r.onlySelf);this.status=pc,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const t=this._parentMarkedDirty(r.onlySelf);this.status=uo,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uo||this.status===ni)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pc:uo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=ni,this._hasOwnPendingAsyncValidator=!0;const t=Cl(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,t={}){this.errors=r,this._updateControlsErrors(!1!==t.emitEvent)}get(r){return function wu(n,r,t){if(null==r||(Array.isArray(r)||(r=r.split(t)),Array.isArray(r)&&0===r.length))return null;let o=n;return r.forEach(u=>{o=jc(o)?o.controls.hasOwnProperty(u)?o.controls[u]:null:(n=>n instanceof Dp)(o)&&o.at(u)||null}),o}(this,r,".")}getError(r,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[r]:null}hasError(r,t){return!!this.getError(r,t)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?pc:this.errors?ho:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ni)?ni:this._anyControlsHaveStatus(ho)?ho:uo}_anyControlsHaveStatus(r){return this._anyControls(t=>t.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){Eu(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xl extends sh{constructor(r=null,t,o){super(Sl(t),Tu(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eu(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(r)?r.value:r)}setValue(r,t={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(r,t={}){this.setValue(r,t)}reset(r=this.defaultValue,t={}){this._applyFormState(r),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Oi(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Oi(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class Ks extends sh{constructor(r,t,o){super(Sl(t),Tu(o,t)),this.controls=r,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,t){return this.controls[r]?this.controls[r]:(this.controls[r]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(r,t,o={}){this.registerControl(r,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,t={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(r,t,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],t&&this.registerControl(r,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,t={}){Ep(this,r),Object.keys(r).forEach(o=>{pf(this,o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(r,t={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(r={},t={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(r,t,o)=>(r[o]=Du(t),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&r(o,t)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const t of Object.keys(this.controls)){const o=this.controls[t];if(this.contains(t)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,t,o)=>((t.enabled||this.disabled)&&(r[o]=t.value),r))}_reduceChildren(r,t){let o=r;return this._forEachChild((u,p)=>{o=t(o,u,p)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Dp extends sh{constructor(r,t,o){super(Sl(t),Tu(o,t)),this.controls=r,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,t={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(r,t,o={}){this.controls.splice(r,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,t={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(r,t,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,t={}){Ep(this,r),r.forEach((o,u)=>{pf(this,u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(r,t={}){null!=r&&(r.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(r=[],t={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(r=>Du(r))}clear(r={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){this.controls.forEach((t,o)=>{r(t,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(t=>t.enabled&&r(t))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const cd={provide:Wo,useExisting:(0,e.Gpc)(()=>Ko)},Gc=(()=>Promise.resolve(null))();let Ko=(()=>{class n extends Wo{constructor(t,o,u,p,b){super(),this._changeDetectorRef=b,this.control=new xl,this._registered=!1,this.update=new e.vpe,this._parent=t,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function qi(n,r){if(!r)return null;let t,o,u;return Array.isArray(r),r.forEach(p=>{p.constructor===Yr?t=p:function Nr(n){return Object.getPrototypeOf(n.constructor)===zs}(p)?o=p:u=p}),u||o||t||null}(0,p)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const o=t.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Hn(n,r){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(r,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ro(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Gc.then(()=>{var o;this.control.setValue(t,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(t){const o=t.isDisabled.currentValue,u=""===o||o&&"false"!==o;Gc.then(()=>{var p;u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable(),null===(p=this._changeDetectorRef)||void 0===p||p.markForCheck()})}_getPath(t){return this._parent?function As(n,r){return[...r.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(lo,9),e.Y36(bi,10),e.Y36(Ts,10),e.Y36(Jr,10),e.Y36(e.sBO,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([cd]),e.qOj,e.TTD]}),n})();const xp={provide:Jr,useExisting:(0,e.Gpc)(()=>ld),multi:!0};let ld=(()=>{class n extends zs{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=o=>{t(""==o?null:parseFloat(o))}}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},features:[e._Bn([xp]),e.qOj]}),n})(),gc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const uh={provide:Jr,useExisting:(0,e.Gpc)(()=>qc),multi:!0};function Jo(n,r){return null==n?`${r}`:(r&&"object"==typeof r&&(r="Object"),`${n}: ${r}`.slice(0,50))}let qc=(()=>{class n extends zs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const u=Jo(this._getOptionId(t),t);this.setProperty("value",u)}registerOnChange(t){this.onChange=o=>{this.value=this._getOptionValue(o),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),t))return o;return null}_getOptionValue(t){const o=function Ap(n){return n.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o):t}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([uh]),e.qOj]}),n})(),pd=(()=>{class n{constructor(t,o,u){this._element=t,this._renderer=o,this._select=u,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Jo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(qc,9))},n.\u0275dir=e.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const vv={provide:Jr,useExisting:(0,e.Gpc)(()=>Al),multi:!0};function Qg(n,r){return null==n?`${r}`:("string"==typeof r&&(r=`'${r}'`),r&&"object"==typeof r&&(r="Object"),`${n}: ${r}`.slice(0,50))}let Al=(()=>{class n extends zs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let o;if(this.value=t,Array.isArray(t)){const u=t.map(p=>this._getOptionId(p));o=(p,b)=>{p._setSelected(u.indexOf(b.toString())>-1)}}else o=(u,p)=>{u._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(t){this.onChange=o=>{const u=[],p=o.selectedOptions;if(void 0!==p){const b=p;for(let x=0;x<b.length;x++){const K=this._getOptionValue(b[x].value);u.push(K)}}else{const b=o.options;for(let x=0;x<b.length;x++){const N=b[x];if(N.selected){const K=this._getOptionValue(N.value);u.push(K)}}}this.value=u,t(u)}}_registerOption(t){const o=(this._idCounter++).toString();return this._optionMap.set(o,t),o}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,t))return o;return null}_getOptionValue(t){const o=function Xr(n){return n.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o)._value:t}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(p){return o.onChange(p.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([vv]),e.qOj]}),n})(),gd=(()=>{class n{constructor(t,o,u){this._element=t,this._renderer=o,this._select=u,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Qg(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Qg(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Al,9))},n.\u0275dir=e.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Il=(()=>{class n{constructor(){this._validator=no}ngOnChanges(t){if(this.inputName in t){const o=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):no,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,features:[e.TTD]}),n})();const im={provide:bi,useExisting:(0,e.Gpc)(()=>Pl),multi:!0};let Pl=(()=>{class n extends Il{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function dh(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function So(n){return r=>function mu(n){return null!=n&&"number"==typeof n.length}(r.value)&&r.value.length>n?{maxlength:{requiredLength:n,actualLength:r.value.length}}:null}(t)}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&e.uIk("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([im]),e.qOj]}),n})(),_d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[gc]]}),n})(),Yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_d]}),n})(),Tf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var Za=O(8686),Ni=O(3701),In=O(9646),si=O(7579);class po extends si.x{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const t=super._subscribe(r);return!t.closed&&r.next(this._value),t}getValue(){const{hasError:r,thrownError:t,_value:o}=this;if(r)throw t;return this._throwIfClosed(),o}next(r){super.next(this._value=r)}}var vd=O(4671),xu=O(9672);function Ol(...n){const r=(0,Wr.yG)(n),t=(0,Wr.jO)(n),{args:o,keys:u}=rn(n);if(0===o.length)return(0,cr.D)([],r);const p=new xi.y(function j_(n,r,t=vd.y){return o=>{Ef(r,()=>{const{length:u}=n,p=new Array(u);let b=u,x=u;for(let N=0;N<u;N++)Ef(r,()=>{const K=(0,cr.D)(n[N],r);let he=!1;K.subscribe((0,_r.x)(o,Ne=>{p[N]=Ne,he||(he=!0,x--),x||o.next(t(p.slice()))},()=>{--b||o.complete()}))},o)},o)}}(o,r,u?b=>uf(u,b):vd.y));return t?p.pipe(Mc(t)):p}function Ef(n,r,t){n?(0,xu.f)(t,n,r):r()}var ya=O(576);function gh(n,r){const t=(0,ya.m)(n)?n:()=>n,o=u=>u.error(t());return new xi.y(r?u=>r.schedule(o,0,u):o)}const Df=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var mh=O(8189);function Ml(...n){return function Os(){return(0,mh.J)(1)}()((0,cr.D)(n,(0,Wr.yG)(n)))}function Au(n){return new xi.y(r=>{(0,It.Xf)(n()).subscribe(r)})}var Zc=O(515),kp=O(727),io=O(4482);function Sf(){return(0,io.e)((n,r)=>{let t=null;n._refCount++;const o=(0,_r.x)(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const u=n._connection,p=t;t=null,u&&(!p||u===p)&&u.unsubscribe(),r.unsubscribe()});n.subscribe(o),o.closed||(t=n.connect())})}class Lp extends xi.y{constructor(r,t){super(),this.source=r,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,io.A)(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:r}=this;this._subject=this._connection=null,null==r||r.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new kp.w0;const t=this.getSubject();r.add(this.source.subscribe((0,_r.x)(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),r.closed&&(this._connection=null,r=kp.w0.EMPTY)}return r}refCount(){return Sf()(this)}}function mo(n,r){return(0,io.e)((t,o)=>{let u=null,p=0,b=!1;const x=()=>b&&!u&&o.complete();t.subscribe((0,_r.x)(o,N=>{null==u||u.unsubscribe();let K=0;const he=p++;(0,It.Xf)(n(N,he)).subscribe(u=(0,_r.x)(o,Ne=>o.next(r?r(N,Ne,he,K++):Ne),()=>{u=null,x()}))},()=>{b=!0,x()}))})}var Wi=O(5698);function _h(...n){const r=(0,Wr.yG)(n);return(0,io.e)((t,o)=>{(r?Ml(n,t,r):Ml(n,t)).subscribe(o)})}function V_(n,r,t,o,u){return(p,b)=>{let x=t,N=r,K=0;p.subscribe((0,_r.x)(b,he=>{const Ne=K++;N=x?n(N,he,Ne):(x=!0,he),o&&b.next(N)},u&&(()=>{x&&b.next(N),b.complete()})))}}function vh(n,r){return(0,io.e)(V_(n,r,arguments.length>=2,!0))}function pi(n,r){return(0,io.e)((t,o)=>{let u=0;t.subscribe((0,_r.x)(o,p=>n.call(r,p,u++)&&o.next(p)))})}function zc(n){return(0,io.e)((r,t)=>{let p,o=null,u=!1;o=r.subscribe((0,_r.x)(t,void 0,void 0,b=>{p=(0,It.Xf)(n(b,zc(n)(r))),o?(o.unsubscribe(),o=null,p.subscribe(t)):u=!0})),u&&(o.unsubscribe(),o=null,p.subscribe(t))})}var wi=O(5577);function Xo(n,r){return(0,ya.m)(r)?(0,wi.z)(n,r,1):(0,wi.z)(n,1)}function xf(n){return n<=0?()=>Zc.E:(0,io.e)((r,t)=>{let o=[];r.subscribe((0,_r.x)(t,u=>{o.push(u),n<o.length&&o.shift()},()=>{for(const u of o)t.next(u);t.complete()},void 0,()=>{o=null}))})}function Af(n=yh){return(0,io.e)((r,t)=>{let o=!1;r.subscribe((0,_r.x)(t,u=>{o=!0,t.next(u)},()=>o?t.complete():t.error(n())))})}function yh(){return new Df}function Fp(n){return(0,io.e)((r,t)=>{let o=!1;r.subscribe((0,_r.x)(t,u=>{o=!0,t.next(u)},()=>{o||t.next(n),t.complete()}))})}function _t(n,r){const t=arguments.length>=2;return o=>o.pipe(n?pi((u,p)=>n(u,p,o)):vd.y,(0,Wi.q)(1),t?Fp(r):Af(()=>new Df))}var ei=O(8505);class Wa{constructor(r,t){this.id=r,this.url=t}}class gs extends Wa{constructor(r,t,o="imperative",u=null){super(r,t),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ms extends Wa{constructor(r,t,o){super(r,t),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class If extends Wa{constructor(r,t,o){super(r,t),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wc extends Wa{constructor(r,t,o){super(r,t),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Iu extends Wa{constructor(r,t,o,u){super(r,t),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bh extends Wa{constructor(r,t,o,u){super(r,t),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sm extends Wa{constructor(r,t,o,u,p){super(r,t),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=p}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ri extends Wa{constructor(r,t,o,u){super(r,t),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yd extends Wa{constructor(r,t,o,u){super(r,t),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bd{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ch{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _c{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class am{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cm{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lm{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wh{constructor(r,t,o){this.routerEvent=r,this.position=t,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Er="primary";class Pu{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const t=this.params[r];return Array.isArray(t)?t[0]:t}return null}getAll(r){if(this.has(r)){const t=this.params[r];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Js(n){return new Pu(n)}const $c="ngNavigationCancelingError";function Kc(n){const r=Error("NavigationCancelingError: "+n);return r[$c]=!0,r}function Bp(n,r,t){const o=t.path.split("/");if(o.length>n.length||"full"===t.pathMatch&&(r.hasChildren()||o.length<n.length))return null;const u={};for(let p=0;p<o.length;p++){const b=o[p],x=n[p];if(b.startsWith(":"))u[b.substring(1)]=x;else if(b!==x.path)return null}return{consumed:n.slice(0,o.length),posParams:u}}function Ys(n,r){const t=n?Object.keys(n):void 0,o=r?Object.keys(r):void 0;if(!t||!o||t.length!=o.length)return!1;let u;for(let p=0;p<t.length;p++)if(u=t[p],!jp(n[u],r[u]))return!1;return!0}function jp(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;const t=[...n].sort(),o=[...r].sort();return t.every((u,p)=>o[p]===u)}return n===r}function Jc(n){return Array.prototype.concat.apply([],n)}function Of(n){return n.length>0?n[n.length-1]:null}function oo(n,r){for(const t in n)n.hasOwnProperty(t)&&r(n[t],t)}function Ao(n){return(0,e.CqO)(n)?n:(0,e.QGY)(n)?(0,cr.D)(Promise.resolve(n)):(0,In.of)(n)}const Gp={exact:function Cd(n,r,t){if(!Yc(n.segments,r.segments)||!wd(n.segments,r.segments,t)||n.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!n.children[o]||!Cd(n.children[o],r.children[o],t))return!1;return!0},subset:Ka},Hp={exact:function Zp(n,r){return Ys(n,r)},subset:function $a(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(t=>jp(n[t],r[t]))},ignored:()=>!0};function qp(n,r,t){return Gp[t.paths](n.root,r.root,t.matrixParams)&&Hp[t.queryParams](n.queryParams,r.queryParams)&&!("exact"===t.fragment&&n.fragment!==r.fragment)}function Ka(n,r,t){return Mf(n,r,r.segments,t)}function Mf(n,r,t,o){if(n.segments.length>t.length){const u=n.segments.slice(0,t.length);return!(!Yc(u,t)||r.hasChildren()||!wd(u,t,o))}if(n.segments.length===t.length){if(!Yc(n.segments,t)||!wd(n.segments,t,o))return!1;for(const u in r.children)if(!n.children[u]||!Ka(n.children[u],r.children[u],o))return!1;return!0}{const u=t.slice(0,n.segments.length),p=t.slice(n.segments.length);return!!(Yc(n.segments,u)&&wd(n.segments,u,o)&&n.children[Er])&&Mf(n.children[Er],r,p,o)}}function wd(n,r,t){return r.every((o,u)=>Hp[t](n[u].parameters,o.parameters))}class Nl{constructor(r,t,o){this.root=r,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Js(this.queryParams)),this._queryParamMap}toString(){return Nf.serialize(this)}}class Dr{constructor(r,t){this.segments=r,this.children=t,this.parent=null,oo(t,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fo(this)}}class Qs{constructor(r,t){this.path=r,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Js(this.parameters)),this._parameterMap}toString(){return Rl(this)}}function Yc(n,r){return n.length===r.length&&n.every((t,o)=>t.path===r[o].path)}class Eh{}class Td{parse(r){const t=new Z_(r);return new Nl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(r){const t=`/${Dh(r.root,!0)}`,o=function Sd(n){const r=Object.keys(n).map(t=>{const o=n[t];return Array.isArray(o)?o.map(u=>`${Dd(t)}=${Dd(u)}`).join("&"):`${Dd(t)}=${Dd(o)}`}).filter(t=>!!t);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${t}${o}${"string"==typeof r.fragment?`#${function zp(n){return encodeURI(n)}(r.fragment)}`:""}`}}const Nf=new Td;function Fo(n){return n.segments.map(r=>Rl(r)).join("/")}function Dh(n,r){if(!n.hasChildren())return Fo(n);if(r){const t=n.children[Er]?Dh(n.children[Er],!1):"",o=[];return oo(n.children,(u,p)=>{p!==Er&&o.push(`${p}:${Dh(u,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function Th(n,r){let t=[];return oo(n.children,(o,u)=>{u===Er&&(t=t.concat(r(o,u)))}),oo(n.children,(o,u)=>{u!==Er&&(t=t.concat(r(o,u)))}),t}(n,(o,u)=>u===Er?[Dh(n.children[Er],!1)]:[`${u}:${Dh(o,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Er]?`${Fo(n)}/${t[0]}`:`${Fo(n)}/(${t.join("//")})`}}function Ed(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dd(n){return Ed(n).replace(/%3B/gi,";")}function vc(n){return Ed(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qc(n){return decodeURIComponent(n)}function Xs(n){return Qc(n.replace(/\+/g,"%20"))}function Rl(n){return`${vc(n.path)}${function um(n){return Object.keys(n).map(r=>`;${vc(r)}=${vc(n[r])}`).join("")}(n.parameters)}`}const dm=/^[^\/()?;=#]+/;function Ja(n){const r=n.match(dm);return r?r[0]:""}const Ou=/^[^=?&#]+/,hm=/^[^&#]+/;class Z_{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dr([],{}):new Dr([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(t).length>0)&&(o[Er]=new Dr(r,t)),o}parseSegment(){const r=Ja(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Qs(Qc(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const t=Ja(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const u=Ja(this.remaining);u&&(o=u,this.capture(o))}r[Qc(t)]=Qc(o)}parseQueryParam(r){const t=function Rf(n){const r=n.match(Ou);return r?r[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const b=function q_(n){const r=n.match(hm);return r?r[0]:""}(this.remaining);b&&(o=b,this.capture(o))}const u=Xs(t),p=Xs(o);if(r.hasOwnProperty(u)){let b=r[u];Array.isArray(b)||(b=[b],r[u]=b),b.push(p)}else r[u]=p}parseParens(r){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Ja(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let p;o.indexOf(":")>-1?(p=o.substr(0,o.indexOf(":")),this.capture(p),this.capture(":")):r&&(p=Er);const b=this.parseChildren();t[p]=1===Object.keys(b).length?b[Er]:new Dr([],b),this.consumeOptional("//")}return t}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class S{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const t=this.pathFromRoot(r);return t.length>1?t[t.length-2]:null}children(r){const t=_(r,this._root);return t?t.children.map(o=>o.value):[]}firstChild(r){const t=_(r,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(r){const t=w(r,this._root);return t.length<2?[]:t[t.length-2].children.map(u=>u.value).filter(u=>u!==r)}pathFromRoot(r){return w(r,this._root).map(t=>t.value)}}function _(n,r){if(n===r.value)return r;for(const t of r.children){const o=_(n,t);if(o)return o}return null}function w(n,r){if(n===r.value)return[r];for(const t of r.children){const o=w(n,t);if(o.length)return o.unshift(r),o}return[]}class k{constructor(r,t){this.value=r,this.children=t}toString(){return`TreeNode(${this.value})`}}function ie(n){const r={};return n&&n.children.forEach(t=>r[t.value.outlet]=t),r}class ve extends S{constructor(r,t){super(r),this.snapshot=t,Ms(this,r)}toString(){return this.snapshot.toString()}}function ut(n,r){const t=function Lt(n,r){const b=new ai([],{},{},"",{},Er,r,null,n.root,-1,{});return new _s("",new k(b,[]))}(n,r),o=new po([new Qs("",{})]),u=new po({}),p=new po({}),b=new po({}),x=new po(""),N=new yn(o,u,b,x,p,Er,r,t.root);return N.snapshot=t.root,new ve(new k(N,[]),t)}class yn{constructor(r,t,o,u,p,b,x,N){this.url=r,this.params=t,this.queryParams=o,this.fragment=u,this.data=p,this.outlet=b,this.component=x,this._futureSnapshot=N}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qn.U)(r=>Js(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qn.U)(r=>Js(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bn(n,r="emptyOnly"){const t=n.pathFromRoot;let o=0;if("always"!==r)for(o=t.length-1;o>=1;){const u=t[o],p=t[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(p.component)break;o--}}return function hr(n){return n.reduce((r,t)=>({params:Object.assign(Object.assign({},r.params),t.params),data:Object.assign(Object.assign({},r.data),t.data),resolve:Object.assign(Object.assign({},r.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(o))}class ai{constructor(r,t,o,u,p,b,x,N,K,he,Ne){this.url=r,this.params=t,this.queryParams=o,this.fragment=u,this.data=p,this.outlet=b,this.component=x,this.routeConfig=N,this._urlSegment=K,this._lastPathIndex=he,this._resolve=Ne}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Js(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Js(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _s extends S{constructor(r,t){super(t),this.url=r,Ms(this,t)}toString(){return yc(this._root)}}function Ms(n,r){r.value._routerState=n,r.children.forEach(t=>Ms(n,t))}function yc(n){const r=n.children.length>0?` { ${n.children.map(yc).join(", ")} } `:"";return`${n.value}${r}`}function xd(n){if(n.snapshot){const r=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ys(r.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),r.fragment!==t.fragment&&n.fragment.next(t.fragment),Ys(r.params,t.params)||n.params.next(t.params),function Up(n,r){if(n.length!==r.length)return!1;for(let t=0;t<n.length;++t)if(!Ys(n[t],r[t]))return!1;return!0}(r.url,t.url)||n.url.next(t.url),Ys(r.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Xc(n,r){const t=Ys(n.params,r.params)&&function H_(n,r){return Yc(n,r)&&n.every((t,o)=>Ys(t.parameters,r[o].parameters))}(n.url,r.url);return t&&!(!n.parent!=!r.parent)&&(!n.parent||Xc(n.parent,r.parent))}function Ya(n,r,t){if(t&&n.shouldReuseRoute(r.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=r.value;const u=function Mu(n,r,t){return r.children.map(o=>{for(const u of t.children)if(n.shouldReuseRoute(o.value,u.value.snapshot))return Ya(n,o,u);return Ya(n,o)})}(n,r,t);return new k(o,u)}{if(n.shouldAttach(r.value)){const p=n.retrieve(r.value);if(null!==p){const b=p.route;return b.value._futureSnapshot=r.value,b.children=r.children.map(x=>Ya(n,x)),b}}const o=function Sh(n){return new yn(new po(n.url),new po(n.params),new po(n.queryParams),new po(n.fragment),new po(n.data),n.outlet,n.component,n)}(r.value),u=r.children.map(p=>Ya(n,p));return new k(o,u)}}function kl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function el(n){return"object"==typeof n&&null!=n&&n.outlets}function kf(n,r,t,o,u){let p={};if(o&&oo(o,(x,N)=>{p[N]=Array.isArray(x)?x.map(K=>`${K}`):`${x}`}),n===r)return new Nl(t,p,u);const b=Id(n,r,t);return new Nl(b,p,u)}function Id(n,r,t){const o={};return oo(n.children,(u,p)=>{o[p]=u===r?t:Id(u,r,t)}),new Dr(n.segments,o)}class Lf{constructor(r,t,o){if(this.isAbsolute=r,this.numberOfDoubleDots=t,this.commands=o,r&&o.length>0&&kl(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(el);if(u&&u!==Of(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fm{constructor(r,t,o){this.segmentGroup=r,this.processChildren=t,this.index=o}}function Bf(n,r,t){if(n||(n=new Dr([],{})),0===n.segments.length&&n.hasChildren())return Od(n,r,t);const o=function Cv(n,r,t){let o=0,u=r;const p={match:!1,pathIndex:0,commandIndex:0};for(;u<n.segments.length;){if(o>=t.length)return p;const b=n.segments[u],x=t[o];if(el(x))break;const N=`${x}`,K=o<t.length-1?t[o+1]:null;if(u>0&&void 0===N)break;if(N&&K&&"object"==typeof K&&void 0===K.outlets){if(!pm(N,K,b))return p;o+=2}else{if(!pm(N,{},b))return p;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(n,r,t),u=t.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){const p=new Dr(n.segments.slice(0,o.pathIndex),{});return p.children[Er]=new Dr(n.segments.slice(o.pathIndex),n.children),Od(p,0,u)}return o.match&&0===u.length?new Dr(n.segments,{}):o.match&&!n.hasChildren()?z_(n,r,t):o.match?Od(n,0,u):z_(n,r,t)}function Od(n,r,t){if(0===t.length)return new Dr(n.segments,{});{const o=function $p(n){return el(n[0])?n[0].outlets:{[Er]:n}}(t),u={};return oo(o,(p,b)=>{"string"==typeof p&&(p=[p]),null!==p&&(u[b]=Bf(n.children[b],r,p))}),oo(n.children,(p,b)=>{void 0===o[b]&&(u[b]=p)}),new Dr(n.segments,u)}}function z_(n,r,t){const o=n.segments.slice(0,r);let u=0;for(;u<t.length;){const p=t[u];if(el(p)){const N=W_(p.outlets);return new Dr(o,N)}if(0===u&&kl(t[0])){o.push(new Qs(n.segments[r].path,wv(t[0]))),u++;continue}const b=el(p)?p.outlets[Er]:`${p}`,x=u<t.length-1?t[u+1]:null;b&&x&&kl(x)?(o.push(new Qs(b,wv(x))),u+=2):(o.push(new Qs(b,{})),u++)}return new Dr(o,{})}function W_(n){const r={};return oo(n,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(r[o]=z_(new Dr([],{}),0,t))}),r}function wv(n){const r={};return oo(n,(t,o)=>r[o]=`${t}`),r}function pm(n,r,t){return n==t.path&&Ys(r,t.parameters)}class $_{constructor(r,t,o,u){this.routeReuseStrategy=r,this.futureState=t,this.currState=o,this.forwardEvent=u}activate(r){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,r),xd(this.futureState.root),this.activateChildRoutes(t,o,r)}deactivateChildRoutes(r,t,o){const u=ie(t);r.children.forEach(p=>{const b=p.value.outlet;this.deactivateRoutes(p,u[b],o),delete u[b]}),oo(u,(p,b)=>{this.deactivateRouteAndItsChildren(p,o)})}deactivateRoutes(r,t,o){const u=r.value,p=t?t.value:null;if(u===p)if(u.component){const b=o.getContext(u.outlet);b&&this.deactivateChildRoutes(r,t,b.children)}else this.deactivateChildRoutes(r,t,o);else p&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(r,t){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,t):this.deactivateRouteAndOutlet(r,t)}detachAndStoreRouteSubtree(r,t){const o=t.getContext(r.value.outlet),u=o&&r.value.component?o.children:t,p=ie(r);for(const b of Object.keys(p))this.deactivateRouteAndItsChildren(p[b],u);if(o&&o.outlet){const b=o.outlet.detach(),x=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:b,route:r,contexts:x})}}deactivateRouteAndOutlet(r,t){const o=t.getContext(r.value.outlet),u=o&&r.value.component?o.children:t,p=ie(r);for(const b of Object.keys(p))this.deactivateRouteAndItsChildren(p[b],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,t,o){const u=ie(t);r.children.forEach(p=>{this.activateRoutes(p,u[p.value.outlet],o),this.forwardEvent(new lm(p.value.snapshot))}),r.children.length&&this.forwardEvent(new am(r.value.snapshot))}activateRoutes(r,t,o){const u=r.value,p=t?t.value:null;if(xd(u),u===p)if(u.component){const b=o.getOrCreateContext(u.outlet);this.activateChildRoutes(r,t,b.children)}else this.activateChildRoutes(r,t,o);else if(u.component){const b=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const x=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),b.children.onOutletReAttached(x.contexts),b.attachRef=x.componentRef,b.route=x.route.value,b.outlet&&b.outlet.attach(x.componentRef,x.route.value),xd(x.route.value),this.activateChildRoutes(r,null,b.children)}else{const x=function Ry(n){for(let r=n.parent;r;r=r.parent){const t=r.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(u.snapshot),N=x?x.module.componentFactoryResolver:null;b.attachRef=null,b.route=u,b.resolver=N,b.outlet&&b.outlet.activateWith(u,N),this.activateChildRoutes(r,null,b.children)}}else this.activateChildRoutes(r,null,o)}}class K_{constructor(r,t){this.routes=r,this.module=t}}function Ll(n){return"function"==typeof n}function Fl(n){return n instanceof Nl}const Md=Symbol("INITIAL_VALUE");function Nd(){return mo(n=>Ol(n.map(r=>r.pipe((0,Wi.q)(1),_h(Md)))).pipe(vh((r,t)=>{let o=!1;return t.reduce((u,p,b)=>u!==Md?u:(p===Md&&(o=!0),o||!1!==p&&b!==t.length-1&&!Fl(p)?u:p),r)},Md),pi(r=>r!==Md),(0,Qn.U)(r=>Fl(r)?r:!0===r),(0,Wi.q)(1)))}class Bl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rd,this.attachRef=null}}class Rd{constructor(){this.contexts=new Map}onChildOutletCreated(r,t){const o=this.getOrCreateContext(r);o.outlet=t,this.contexts.set(r,o)}onChildOutletDestroyed(r){const t=this.getContext(r);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let t=this.getContext(r);return t||(t=new Bl,this.contexts.set(r,t)),t}getContext(r){return this.contexts.get(r)||null}}let Uf=(()=>{class n{constructor(t,o,u,p,b){this.parentContexts=t,this.location=o,this.resolver=u,this.changeDetector=b,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=p||Er,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const b=(o=o||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),x=this.parentContexts.getOrCreateContext(this.name).children,N=new xh(t,x,this.location.injector);this.activated=this.location.createComponent(b,this.location.length,N),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Rd),e.Y36(e.s_b),e.Y36(e._Vd),e.$8M("name"),e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class xh{constructor(r,t,o){this.route=r,this.childContexts=t,this.parent=o}get(r,t){return r===yn?this.route:r===Rd?this.childContexts:this.parent.get(r,t)}}let Ah=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[Uf],encapsulation:2}),n})();function Ih(n,r=""){for(let t=0;t<n.length;t++){const o=n[t];mm(o,_m(r,o))}}function mm(n,r){n.children&&Ih(n.children,r)}function _m(n,r){return r?n||r.path?n&&!r.path?`${n}/`:!n&&r.path?r.path:`${n}/${r.path}`:"":n}function Ul(n){const r=n.children&&n.children.map(Ul),t=r?Object.assign(Object.assign({},n),{children:r}):Object.assign({},n);return!t.component&&(r||t.loadChildren)&&t.outlet&&t.outlet!==Er&&(t.component=Ah),t}function es(n){return n.outlet||Er}function Kp(n,r){const t=n.filter(o=>es(o)===r);return t.push(...n.filter(o=>es(o)!==r)),t}const Nu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ru(n,r,t){var o;if(""===r.path)return"full"===r.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Nu):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const p=(r.matcher||Bp)(t,n,r);if(!p)return Object.assign({},Nu);const b={};oo(p.posParams,(N,K)=>{b[K]=N.path});const x=p.consumed.length>0?Object.assign(Object.assign({},b),p.consumed[p.consumed.length-1].parameters):b;return{matched:!0,consumedSegments:p.consumed,remainingSegments:t.slice(p.consumed.length),parameters:x,positionalParamSegments:null!==(o=p.posParams)&&void 0!==o?o:{}}}function jl(n,r,t,o,u="corrected"){if(t.length>0&&function jf(n,r,t){return t.some(o=>ku(n,r,o)&&es(o)!==Er)}(n,t,o)){const b=new Dr(r,function vm(n,r,t,o){const u={};u[Er]=o,o._sourceSegment=n,o._segmentIndexShift=r.length;for(const p of t)if(""===p.path&&es(p)!==Er){const b=new Dr([],{});b._sourceSegment=n,b._segmentIndexShift=r.length,u[es(p)]=b}return u}(n,r,o,new Dr(t,n.children)));return b._sourceSegment=n,b._segmentIndexShift=r.length,{segmentGroup:b,slicedSegments:[]}}if(0===t.length&&function kd(n,r,t){return t.some(o=>ku(n,r,o))}(n,t,o)){const b=new Dr(n.segments,function Ev(n,r,t,o,u,p){const b={};for(const x of o)if(ku(n,t,x)&&!u[es(x)]){const N=new Dr([],{});N._sourceSegment=n,N._segmentIndexShift="legacy"===p?n.segments.length:r.length,b[es(x)]=N}return Object.assign(Object.assign({},u),b)}(n,r,t,o,n.children,u));return b._sourceSegment=n,b._segmentIndexShift=r.length,{segmentGroup:b,slicedSegments:t}}const p=new Dr(n.segments,n.children);return p._sourceSegment=n,p._segmentIndexShift=r.length,{segmentGroup:p,slicedSegments:t}}function ku(n,r,t){return(!(n.hasChildren()||r.length>0)||"full"!==t.pathMatch)&&""===t.path}function Jp(n,r,t,o){return!!(es(n)===o||o!==Er&&ku(r,t,n))&&("**"===n.path||Ru(r,n,t).matched)}function Vf(n,r,t){return 0===r.length&&!n.children[t]}class Yp{constructor(r){this.segmentGroup=r||null}}class ym{constructor(r){this.urlTree=r}}function Qp(n){return gh(new Yp(n))}function bm(n){return gh(new ym(n))}class wm{constructor(r,t,o,u,p){this.configLoader=t,this.urlSerializer=o,this.urlTree=u,this.config=p,this.allowRedirects=!0,this.ngModule=r.get(e.h0i)}apply(){const r=jl(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dr(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Er).pipe((0,Qn.U)(p=>this.createUrlTree(Bo(p),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zc(p=>{if(p instanceof ym)return this.allowRedirects=!1,this.match(p.urlTree);throw p instanceof Yp?this.noMatchError(p):p}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Er).pipe((0,Qn.U)(u=>this.createUrlTree(Bo(u),r.queryParams,r.fragment))).pipe(zc(u=>{throw u instanceof Yp?this.noMatchError(u):u}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,t,o){const u=r.segments.length>0?new Dr([],{[Er]:r}):r;return new Nl(u,t,o)}expandSegmentGroup(r,t,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,t,o).pipe((0,Qn.U)(p=>new Dr([],p))):this.expandSegment(r,o,t,o.segments,u,!0)}expandChildren(r,t,o){const u=[];for(const p of Object.keys(o.children))"primary"===p?u.unshift(p):u.push(p);return(0,cr.D)(u).pipe(Xo(p=>{const b=o.children[p],x=Kp(t,p);return this.expandSegmentGroup(r,x,b,p).pipe((0,Qn.U)(N=>({segment:N,outlet:p})))}),vh((p,b)=>(p[b.outlet]=b.segment,p),{}),function ba(n,r){const t=arguments.length>=2;return o=>o.pipe(n?pi((u,p)=>n(u,p,o)):vd.y,xf(1),t?Fp(r):Af(()=>new Df))}())}expandSegment(r,t,o,u,p,b){return(0,cr.D)(o).pipe(Xo(x=>this.expandSegmentAgainstRoute(r,t,o,x,u,p,b).pipe(zc(K=>{if(K instanceof Yp)return(0,In.of)(null);throw K}))),_t(x=>!!x),zc((x,N)=>{if(x instanceof Df||"EmptyError"===x.name)return Vf(t,u,p)?(0,In.of)(new Dr([],{})):Qp(t);throw x}))}expandSegmentAgainstRoute(r,t,o,u,p,b,x){return Jp(u,t,p,b)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(r,t,u,p,b):x&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,t,o,u,p,b):Qp(t):Qp(t)}expandSegmentAgainstRouteUsingRedirect(r,t,o,u,p,b){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,u,b):this.expandRegularSegmentAgainstRouteUsingRedirect(r,t,o,u,p,b)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,t,o,u){const p=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?bm(p):this.lineralizeSegments(o,p).pipe((0,wi.z)(b=>{const x=new Dr(b,{});return this.expandSegment(r,x,t,b,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,t,o,u,p,b){const{matched:x,consumedSegments:N,remainingSegments:K,positionalParamSegments:he}=Ru(t,u,p);if(!x)return Qp(t);const Ne=this.applyRedirectCommands(N,u.redirectTo,he);return u.redirectTo.startsWith("/")?bm(Ne):this.lineralizeSegments(u,Ne).pipe((0,wi.z)(Je=>this.expandSegment(r,t,o,Je.concat(K),b,!1)))}matchSegmentAgainstRoute(r,t,o,u,p){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,In.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,Qn.U)(Ne=>(o._loadedConfig=Ne,new Dr(u,{})))):(0,In.of)(new Dr(u,{}));const{matched:b,consumedSegments:x,remainingSegments:N}=Ru(t,o,u);return b?this.getChildConfig(r,o,u).pipe((0,wi.z)(he=>{const Ne=he.module,Je=he.routes,{segmentGroup:We,slicedSegments:ft}=jl(t,x,N,Je),yt=new Dr(We.segments,We.children);if(0===ft.length&&yt.hasChildren())return this.expandChildren(Ne,Je,yt).pipe((0,Qn.U)(lr=>new Dr(x,lr)));if(0===Je.length&&0===ft.length)return(0,In.of)(new Dr(x,{}));const $t=es(o)===p;return this.expandSegment(Ne,yt,Je,ft,$t?Er:p,!0).pipe((0,Qn.U)(bn=>new Dr(x.concat(bn.segments),bn.children)))})):Qp(t)}getChildConfig(r,t,o){return t.children?(0,In.of)(new K_(t.children,r)):t.loadChildren?void 0!==t._loadedConfig?(0,In.of)(t._loadedConfig):this.runCanLoadGuards(r.injector,t,o).pipe((0,wi.z)(u=>u?this.configLoader.load(r.injector,t).pipe((0,Qn.U)(p=>(t._loadedConfig=p,p))):function Cm(n){return gh(Kc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):(0,In.of)(new K_([],r))}runCanLoadGuards(r,t,o){const u=t.canLoad;if(!u||0===u.length)return(0,In.of)(!0);const p=u.map(b=>{const x=r.get(b);let N;if(function Tv(n){return n&&Ll(n.canLoad)}(x))N=x.canLoad(t,o);else{if(!Ll(x))throw new Error("Invalid CanLoad guard");N=x(t,o)}return Ao(N)});return(0,In.of)(p).pipe(Nd(),(0,ei.b)(b=>{if(!Fl(b))return;const x=Kc(`Redirecting to "${this.urlSerializer.serialize(b)}"`);throw x.url=b,x}),(0,Qn.U)(b=>!0===b))}lineralizeSegments(r,t){let o=[],u=t.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,In.of)(o);if(u.numberOfChildren>1||!u.children[Er])return gh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r.redirectTo}'`));u=u.children[Er]}}applyRedirectCommands(r,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),r,o)}applyRedirectCreatreUrlTree(r,t,o,u){const p=this.createSegmentGroup(r,t.root,o,u);return new Nl(p,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(r,t){const o={};return oo(r,(u,p)=>{if("string"==typeof u&&u.startsWith(":")){const x=u.substring(1);o[p]=t[x]}else o[p]=u}),o}createSegmentGroup(r,t,o,u){const p=this.createSegments(r,t.segments,o,u);let b={};return oo(t.children,(x,N)=>{b[N]=this.createSegmentGroup(r,x,o,u)}),new Dr(p,b)}createSegments(r,t,o,u){return t.map(p=>p.path.startsWith(":")?this.findPosParam(r,p,u):this.findOrReturn(p,o))}findPosParam(r,t,o){const u=o[t.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${r}'. Cannot find '${t.path}'.`);return u}findOrReturn(r,t){let o=0;for(const u of t){if(u.path===r.path)return t.splice(o),u;o++}return r}}function Bo(n){const r={};for(const o of Object.keys(n.children)){const p=Bo(n.children[o]);(p.segments.length>0||p.hasChildren())&&(r[o]=p)}return function Xp(n){if(1===n.numberOfChildren&&n.children[Er]){const r=n.children[Er];return new Dr(n.segments.concat(r.segments),r.children)}return n}(new Dr(n.segments,r))}class Em{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Gf{constructor(r,t){this.component=r,this.route=t}}function Q_(n,r,t){const o=n._root;return Gl(o,r?r._root:null,t,[o.value])}function eg(n,r,t){const o=function Dv(n){if(!n)return null;for(let r=n.parent;r;r=r.parent){const t=r.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(r);return(o?o.module.injector:t).get(n)}function Gl(n,r,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const p=ie(r);return n.children.forEach(b=>{(function X_(n,r,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const p=n.value,b=r?r.value:null,x=t?t.getContext(n.value.outlet):null;if(b&&p.routeConfig===b.routeConfig){const N=function Dm(n,r,t){if("function"==typeof t)return t(n,r);switch(t){case"pathParamsChange":return!Yc(n.url,r.url);case"pathParamsOrQueryParamsChange":return!Yc(n.url,r.url)||!Ys(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xc(n,r)||!Ys(n.queryParams,r.queryParams);default:return!Xc(n,r)}}(b,p,p.routeConfig.runGuardsAndResolvers);N?u.canActivateChecks.push(new Em(o)):(p.data=b.data,p._resolvedData=b._resolvedData),Gl(n,r,p.component?x?x.children:null:t,o,u),N&&x&&x.outlet&&x.outlet.isActivated&&u.canDeactivateChecks.push(new Gf(x.outlet.component,b))}else b&&Hf(r,x,u),u.canActivateChecks.push(new Em(o)),Gl(n,null,p.component?x?x.children:null:t,o,u)})(b,p[b.value.outlet],t,o.concat([b.value]),u),delete p[b.value.outlet]}),oo(p,(b,x)=>Hf(b,t.getContext(x),u)),u}function Hf(n,r,t){const o=ie(n),u=n.value;oo(o,(p,b)=>{Hf(p,u.component?r?r.children.getContext(b):null:r,t)}),t.canDeactivateChecks.push(new Gf(u.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,u))}class n0{}function Qa(n){return new xi.y(r=>r.error(n))}class Om{constructor(r,t,o,u,p,b){this.rootComponentType=r,this.config=t,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=p,this.relativeLinkResolution=b}recognize(){const r=jl(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,r,Er);if(null===t)return null;const o=new ai([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Er,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new k(o,t),p=new _s(this.url,u);return this.inheritParamsAndData(p._root),p}inheritParamsAndData(r){const t=r.value,o=Bn(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),r.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(r,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(r,t):this.processSegment(r,t,t.segments,o)}processChildren(r,t){const o=[];for(const p of Object.keys(t.children)){const b=t.children[p],x=Kp(r,p),N=this.processSegmentGroup(x,b,p);if(null===N)return null;o.push(...N)}const u=tg(o);return function Sv(n){n.sort((r,t)=>r.value.outlet===Er?-1:t.value.outlet===Er?1:r.value.outlet.localeCompare(t.value.outlet))}(u),u}processSegment(r,t,o,u){for(const p of r){const b=this.processSegmentAgainstRoute(p,t,o,u);if(null!==b)return b}return Vf(t,o,u)?[]:null}processSegmentAgainstRoute(r,t,o,u){if(r.redirectTo||!Jp(r,t,o,u))return null;let p,b=[],x=[];if("**"===r.path){const We=o.length>0?Of(o).parameters:{};p=new ai(o,We,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rg(r),es(r),r.component,r,ng(t),Zf(t)+o.length,ig(r))}else{const We=Ru(t,r,o);if(!We.matched)return null;b=We.consumedSegments,x=We.remainingSegments,p=new ai(b,We.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rg(r),es(r),r.component,r,ng(t),Zf(t)+b.length,ig(r))}const N=function r0(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(r),{segmentGroup:K,slicedSegments:he}=jl(t,b,x,N.filter(We=>void 0===We.redirectTo),this.relativeLinkResolution);if(0===he.length&&K.hasChildren()){const We=this.processChildren(N,K);return null===We?null:[new k(p,We)]}if(0===N.length&&0===he.length)return[new k(p,[])];const Ne=es(r)===u,Je=this.processSegment(N,K,he,Ne?Er:u);return null===Je?null:[new k(p,Je)]}}function o0(n){const r=n.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function tg(n){const r=[],t=new Set;for(const o of n){if(!o0(o)){r.push(o);continue}const u=r.find(p=>o.value.routeConfig===p.value.routeConfig);void 0!==u?(u.children.push(...o.children),t.add(u)):r.push(o)}for(const o of t){const u=tg(o.children);r.push(new k(o.value,u))}return r.filter(o=>!t.has(o))}function ng(n){let r=n;for(;r._sourceSegment;)r=r._sourceSegment;return r}function Zf(n){let r=n,t=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,t+=r._segmentIndexShift?r._segmentIndexShift:0;return t-1}function rg(n){return n.data||{}}function ig(n){return n.resolve||{}}function Hl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function og(n){return mo(r=>{const t=n(r);return t?(0,cr.D)(t).pipe((0,Qn.U)(()=>r)):(0,In.of)(r)})}class Ly extends class Mm{shouldDetach(r){return!1}store(r,t){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,t){return r.routeConfig===t.routeConfig}}{}const Wf=new e.OlP("ROUTES");class $f{constructor(r,t,o,u){this.injector=r,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=u}load(r,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const u=this.loadModuleFactory(t.loadChildren).pipe((0,Qn.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(t);const b=p.create(r);return new K_(Jc(b.injector.get(Wf,void 0,e.XFs.Self|e.XFs.Optional)).map(Ul),b)}),zc(p=>{throw t._loader$=void 0,p}));return t._loader$=new Lp(u,()=>new si.x).pipe(Sf()),t._loader$}loadModuleFactory(r){return Ao(r()).pipe((0,wi.z)(t=>t instanceof e.YKP?(0,In.of)(t):(0,cr.D)(this.compiler.compileModuleAsync(t))))}}class ag{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,t){return r}}function s0(n){throw n}function a0(n,r,t){return r.parse("/")}function Xa(n,r){return(0,In.of)(null)}const Rh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class n{constructor(t,o,u,p,b,x,N){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=u,this.location=p,this.config=N,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new si.x,this.errorHandler=s0,this.malformedUriErrorHandler=a0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xa,afterPreactivation:Xa},this.urlHandlingStrategy=new ag,this.routeReuseStrategy=new Ly,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=b.get(e.h0i),this.console=b.get(e.c2e);const Ne=b.get(e.R0b);this.isNgZoneEnabled=Ne instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(N),this.currentUrlTree=function G_(){return new Nl(new Dr([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $f(b,x,Je=>this.triggerEvent(new bd(Je)),Je=>this.triggerEvent(new Ch(Je))),this.routerState=ut(this.currentUrlTree,this.rootComponentType),this.transitions=new po({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(pi(u=>0!==u.id),(0,Qn.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),mo(u=>{let p=!1,b=!1;return(0,In.of)(u).pipe((0,ei.b)(x=>{this.currentNavigation={id:x.id,initialUrl:x.currentRawUrl,extractedUrl:x.extractedUrl,trigger:x.source,extras:x.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),mo(x=>{const N=this.browserUrlTree.toString(),K=!this.navigated||x.extractedUrl.toString()!==N||N!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||K)&&this.urlHandlingStrategy.shouldProcessUrl(x.rawUrl))return Kf(x.source)&&(this.browserUrlTree=x.extractedUrl),(0,In.of)(x).pipe(mo(Ne=>{const Je=this.transitions.getValue();return o.next(new gs(Ne.id,this.serializeUrl(Ne.extractedUrl),Ne.source,Ne.restoredState)),Je!==this.transitions.getValue()?Zc.E:Promise.resolve(Ne)}),function Tm(n,r,t,o){return mo(u=>function Ld(n,r,t,o,u){return new wm(n,r,t,o,u).apply()}(n,r,t,u.extractedUrl,o).pipe((0,Qn.U)(p=>Object.assign(Object.assign({},u),{urlAfterRedirects:p}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ei.b)(Ne=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ne.urlAfterRedirects})}),function Mh(n,r,t,o,u){return(0,wi.z)(p=>function Pm(n,r,t,o,u="emptyOnly",p="legacy"){try{const b=new Om(n,r,t,o,u,p).recognize();return null===b?Qa(new n0):(0,In.of)(b)}catch(b){return Qa(b)}}(n,r,p.urlAfterRedirects,t(p.urlAfterRedirects),o,u).pipe((0,Qn.U)(b=>Object.assign(Object.assign({},p),{targetSnapshot:b}))))}(this.rootComponentType,this.config,Ne=>this.serializeUrl(Ne),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ei.b)(Ne=>{if("eager"===this.urlUpdateStrategy){if(!Ne.extras.skipLocationChange){const We=this.urlHandlingStrategy.merge(Ne.urlAfterRedirects,Ne.rawUrl);this.setBrowserUrl(We,Ne)}this.browserUrlTree=Ne.urlAfterRedirects}const Je=new Iu(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot);o.next(Je)}));if(K&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Je,extractedUrl:We,source:ft,restoredState:yt,extras:$t}=x,un=new gs(Je,this.serializeUrl(We),ft,yt);o.next(un);const bn=ut(We,this.rootComponentType).snapshot;return(0,In.of)(Object.assign(Object.assign({},x),{targetSnapshot:bn,urlAfterRedirects:We,extras:Object.assign(Object.assign({},$t),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=x.rawUrl,x.resolve(null),Zc.E}),og(x=>{const{targetSnapshot:N,id:K,extractedUrl:he,rawUrl:Ne,extras:{skipLocationChange:Je,replaceUrl:We}}=x;return this.hooks.beforePreactivation(N,{navigationId:K,appliedUrlTree:he,rawUrlTree:Ne,skipLocationChange:!!Je,replaceUrl:!!We})}),(0,ei.b)(x=>{const N=new bh(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);this.triggerEvent(N)}),(0,Qn.U)(x=>Object.assign(Object.assign({},x),{guards:Q_(x.targetSnapshot,x.currentSnapshot,this.rootContexts)})),function Sm(n,r){return(0,wi.z)(t=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:p,canDeactivateChecks:b}}=t;return 0===b.length&&0===p.length?(0,In.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function qf(n,r,t,o){return(0,cr.D)(n).pipe((0,wi.z)(u=>function t0(n,r,t,o,u){const p=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!p||0===p.length)return(0,In.of)(!0);const b=p.map(x=>{const N=eg(x,r,u);let K;if(function Y_(n){return n&&Ll(n.canDeactivate)}(N))K=Ao(N.canDeactivate(n,r,t,o));else{if(!Ll(N))throw new Error("Invalid CanDeactivate guard");K=Ao(N(n,r,t,o))}return K.pipe(_t())});return(0,In.of)(b).pipe(Nd())}(u.component,u.route,t,r,o)),_t(u=>!0!==u,!0))}(b,o,u,n).pipe((0,wi.z)(x=>x&&function ki(n){return"boolean"==typeof n}(x)?function xm(n,r,t,o){return(0,cr.D)(r).pipe(Xo(u=>Ml(function Oh(n,r){return null!==n&&r&&r(new _c(n)),(0,In.of)(!0)}(u.route.parent,o),function Am(n,r){return null!==n&&r&&r(new cm(n)),(0,In.of)(!0)}(u.route,o),function e0(n,r,t){const o=r[r.length-1],p=r.slice(0,r.length-1).reverse().map(b=>function Vl(n){const r=n.routeConfig?n.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:n,guards:r}:null}(b)).filter(b=>null!==b).map(b=>Au(()=>{const x=b.guards.map(N=>{const K=eg(N,b.node,t);let he;if(function gm(n){return n&&Ll(n.canActivateChild)}(K))he=Ao(K.canActivateChild(o,n));else{if(!Ll(K))throw new Error("Invalid CanActivateChild guard");he=Ao(K(o,n))}return he.pipe(_t())});return(0,In.of)(x).pipe(Nd())}));return(0,In.of)(p).pipe(Nd())}(n,u.path,t),function Im(n,r,t){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,In.of)(!0);const u=o.map(p=>Au(()=>{const b=eg(p,r,t);let x;if(function J_(n){return n&&Ll(n.canActivate)}(b))x=Ao(b.canActivate(r,n));else{if(!Ll(b))throw new Error("Invalid CanActivate guard");x=Ao(b(r,n))}return x.pipe(_t())}));return(0,In.of)(u).pipe(Nd())}(n,u.route,t))),_t(u=>!0!==u,!0))}(o,p,n,r):(0,In.of)(x)),(0,Qn.U)(x=>Object.assign(Object.assign({},t),{guardsResult:x})))})}(this.ngModule.injector,x=>this.triggerEvent(x)),(0,ei.b)(x=>{if(Fl(x.guardsResult)){const K=Kc(`Redirecting to "${this.serializeUrl(x.guardsResult)}"`);throw K.url=x.guardsResult,K}const N=new sm(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot,!!x.guardsResult);this.triggerEvent(N)}),pi(x=>!!x.guardsResult||(this.restoreHistory(x),this.cancelNavigationTransition(x,""),!1)),og(x=>{if(x.guards.canActivateChecks.length)return(0,In.of)(x).pipe((0,ei.b)(N=>{const K=new Ri(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);this.triggerEvent(K)}),mo(N=>{let K=!1;return(0,In.of)(N).pipe(function Lu(n,r){return(0,wi.z)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=t;if(!u.length)return(0,In.of)(t);let p=0;return(0,cr.D)(u).pipe(Xo(b=>function Fu(n,r,t,o){return function zf(n,r,t,o){const u=Hl(n);if(0===u.length)return(0,In.of)({});const p={};return(0,cr.D)(u).pipe((0,wi.z)(b=>function Fd(n,r,t,o){const u=eg(n,r,o);return Ao(u.resolve?u.resolve(r,t):u(r,t))}(n[b],r,t,o).pipe((0,ei.b)(x=>{p[b]=x}))),xf(1),(0,wi.z)(()=>Hl(p).length===u.length?(0,In.of)(p):Zc.E))}(n._resolve,n,r,o).pipe((0,Qn.U)(p=>(n._resolvedData=p,n.data=Object.assign(Object.assign({},n.data),Bn(n,t).resolve),null)))}(b.route,o,n,r)),(0,ei.b)(()=>p++),xf(1),(0,wi.z)(b=>p===u.length?(0,In.of)(t):Zc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ei.b)({next:()=>K=!0,complete:()=>{K||(this.restoreHistory(N),this.cancelNavigationTransition(N,"At least one route resolver didn't emit any value."))}}))}),(0,ei.b)(N=>{const K=new yd(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);this.triggerEvent(K)}))}),og(x=>{const{targetSnapshot:N,id:K,extractedUrl:he,rawUrl:Ne,extras:{skipLocationChange:Je,replaceUrl:We}}=x;return this.hooks.afterPreactivation(N,{navigationId:K,appliedUrlTree:he,rawUrlTree:Ne,skipLocationChange:!!Je,replaceUrl:!!We})}),(0,Qn.U)(x=>{const N=function Ad(n,r,t){const o=Ya(n,r._root,t?t._root:void 0);return new ve(o,r)}(this.routeReuseStrategy,x.targetSnapshot,x.currentRouterState);return Object.assign(Object.assign({},x),{targetRouterState:N})}),(0,ei.b)(x=>{this.currentUrlTree=x.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl),this.routerState=x.targetRouterState,"deferred"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,x),this.browserUrlTree=x.urlAfterRedirects)}),((n,r,t)=>(0,Qn.U)(o=>(new $_(r,o.targetRouterState,o.currentRouterState,t).activate(n),o)))(this.rootContexts,this.routeReuseStrategy,x=>this.triggerEvent(x)),(0,ei.b)({next(){p=!0},complete(){p=!0}}),function za(n){return(0,io.e)((r,t)=>{try{r.subscribe(t)}finally{t.add(n)}})}(()=>{var x;p||b||this.cancelNavigationTransition(u,`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`),(null===(x=this.currentNavigation)||void 0===x?void 0:x.id)===u.id&&(this.currentNavigation=null)}),zc(x=>{if(b=!0,function Pf(n){return n&&n[$c]}(x)){const N=Fl(x.url);N||(this.navigated=!0,this.restoreHistory(u,!0));const K=new If(u.id,this.serializeUrl(u.extractedUrl),x.message);o.next(K),N?setTimeout(()=>{const he=this.urlHandlingStrategy.merge(x.url,this.rawUrlTree),Ne={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Kf(u.source)};this.scheduleNavigation(he,"imperative",null,Ne,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const N=new Wc(u.id,this.serializeUrl(u.extractedUrl),x);o.next(N);try{u.resolve(this.errorHandler(x))}catch(K){u.reject(K)}}return Zc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var u;const p={replaceUrl:!0},b=(null===(u=t.state)||void 0===u?void 0:u.navigationId)?t.state:null;if(b){const N=Object.assign({},b);delete N.navigationId,delete N.\u0275routerPageId,0!==Object.keys(N).length&&(p.state=N)}const x=this.parseUrl(t.url);this.scheduleNavigation(x,o,b,p)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ih(t),this.config=t.map(Ul),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:u,queryParams:p,fragment:b,queryParamsHandling:x,preserveFragment:N}=o,K=u||this.routerState.root,he=N?this.currentUrlTree.fragment:b;let Ne=null;switch(x){case"merge":Ne=Object.assign(Object.assign({},this.currentUrlTree.queryParams),p);break;case"preserve":Ne=this.currentUrlTree.queryParams;break;default:Ne=p||null}return null!==Ne&&(Ne=this.removeEmptyProps(Ne)),function Wp(n,r,t,o,u){if(0===t.length)return kf(r.root,r.root,r.root,o,u);const p=function bv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Lf(!0,0,n);let r=0,t=!1;const o=n.reduce((u,p,b)=>{if("object"==typeof p&&null!=p){if(p.outlets){const x={};return oo(p.outlets,(N,K)=>{x[K]="string"==typeof N?N.split("/"):N}),[...u,{outlets:x}]}if(p.segmentPath)return[...u,p.segmentPath]}return"string"!=typeof p?[...u,p]:0===b?(p.split("/").forEach((x,N)=>{0==N&&"."===x||(0==N&&""===x?t=!0:".."===x?r++:""!=x&&u.push(x))}),u):[...u,p]},[]);return new Lf(t,r,o)}(t);if(p.toRoot())return kf(r.root,r.root,new Dr([],{}),o,u);const b=function Ff(n,r,t){if(n.isAbsolute)return new fm(r.root,!0,0);if(-1===t.snapshot._lastPathIndex){const p=t.snapshot._urlSegment;return new fm(p,p===r.root,0)}const o=kl(n.commands[0])?0:1;return function Pd(n,r,t){let o=n,u=r,p=t;for(;p>u;){if(p-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new fm(o,!1,u-p)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+o,n.numberOfDoubleDots)}(p,r,n),x=b.processChildren?Od(b.segmentGroup,b.index,p.commands):Bf(b.segmentGroup,b.index,p.commands);return kf(r.root,b.segmentGroup,x,o,u)}(K,this.currentUrlTree,t,Ne,null!=he?he:null)}navigateByUrl(t,o={skipLocationChange:!1}){const u=Fl(t)?t:this.parseUrl(t),p=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(p,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function Fy(n){for(let r=0;r<n.length;r++){const t=n[r];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${r}`)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,t)}return o}isActive(t,o){let u;if(u=!0===o?Object.assign({},Rh):!1===o?Object.assign({},xv):o,Fl(t))return qp(this.currentUrlTree,t,u);const p=this.parseUrl(t);return qp(this.currentUrlTree,p,u)}removeEmptyProps(t){return Object.keys(t).reduce((o,u)=>{const p=t[u];return null!=p&&(o[u]=p),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ms(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,u,p,b){var x,N;if(this.disposed)return Promise.resolve(!1);let K,he,Ne;b?(K=b.resolve,he=b.reject,Ne=b.promise):Ne=new Promise((ft,yt)=>{K=ft,he=yt});const Je=++this.navigationId;let We;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),We=u&&u.\u0275routerPageId?u.\u0275routerPageId:p.replaceUrl||p.skipLocationChange?null!==(x=this.browserPageId)&&void 0!==x?x:0:(null!==(N=this.browserPageId)&&void 0!==N?N:0)+1):We=0,this.setTransition({id:Je,targetPageId:We,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:p,resolve:K,reject:he,promise:Ne,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ne.catch(ft=>Promise.reject(ft))}setBrowserUrl(t,o){const u=this.urlSerializer.serialize(t),p=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",p):this.location.go(u,"",p)}restoreHistory(t,o=!1){var u,p;if("computed"===this.canceledNavigationResolution){const b=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===b?this.currentUrlTree===(null===(p=this.currentNavigation)||void 0===p?void 0:p.finalUrl)&&0===b&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(b)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o){const u=new If(t.id,this.serializeUrl(t.extractedUrl),o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return n.\u0275fac=function(t){e.$Z()},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Kf(n){return"imperative"!==n}let bc=(()=>{class n{constructor(t,o,u,p,b){this.router=t,this.route=o,this.tabIndexAttribute=u,this.renderer=p,this.el=b,this.commands=null,this.onChanges=new si.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const o=this.renderer,u=this.el.nativeElement;null!==t?o.setAttribute(u,"tabindex",t):o.removeAttribute(u,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Cc(this.skipLocationChange),replaceUrl:Cc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(yn),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,o){1&t&&e.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[e.TTD]}),n})(),ec=(()=>{class n{constructor(t,o,u){this.router=t,this.route=o,this.locationStrategy=u,this.commands=null,this.href=null,this.onChanges=new si.x,this.subscription=t.events.subscribe(p=>{p instanceof ms&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,o,u,p,b){if(0!==t||o||u||p||b||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const x={skipLocationChange:Cc(this.skipLocationChange),replaceUrl:Cc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,x),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(yn),e.Y36(le))},n.\u0275dir=e.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,o){1&t&&e.NdJ("click",function(p){return o.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),2&t&&e.uIk("target",o.target)("href",o.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[e.TTD]}),n})();function Cc(n){return""===n||!!n}class Rm{}class Jf{preload(r,t){return(0,In.of)(null)}}let cg=(()=>{class n{constructor(t,o,u,p){this.router=t,this.injector=u,this.preloadingStrategy=p,this.loader=new $f(u,o,N=>t.triggerEvent(new bd(N)),N=>t.triggerEvent(new Ch(N)))}setUpPreloading(){this.subscription=this.router.events.pipe(pi(t=>t instanceof ms),Xo(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(e.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const u=[];for(const p of o)if(p.loadChildren&&!p.canLoad&&p._loadedConfig){const b=p._loadedConfig;u.push(this.processRoutes(b.module,b.routes))}else p.loadChildren&&!p.canLoad?u.push(this.preloadConfig(t,p)):p.children&&u.push(this.processRoutes(t,p.children));return(0,cr.D)(u).pipe((0,mh.J)(),(0,Qn.U)(p=>{}))}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,In.of)(o._loadedConfig):this.loader.load(t.injector,o)).pipe((0,wi.z)(p=>(o._loadedConfig=p,this.processRoutes(p.module,p.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(li),e.LFG(e.Sil),e.LFG(e.zs3),e.LFG(Rm))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Bd=(()=>{class n{constructor(t,o,u={}){this.router=t,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ms&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new wh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){e.$Z()},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const ql=new e.OlP("ROUTER_CONFIGURATION"),km=new e.OlP("ROUTER_FORROOT_GUARD"),Bu=[Ze,{provide:Eh,useClass:Td},{provide:li,useFactory:function Um(n,r,t,o,u,p,b={},x,N){const K=new li(null,n,r,t,o,u,Jc(p));return x&&(K.urlHandlingStrategy=x),N&&(K.routeReuseStrategy=N),function Iv(n,r){n.errorHandler&&(r.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(r.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(r.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(r.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(r.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(r.canceledNavigationResolution=n.canceledNavigationResolution)}(b,K),b.enableTracing&&K.events.subscribe(he=>{var Ne,Je;null===(Ne=console.group)||void 0===Ne||Ne.call(console,`Router Event: ${he.constructor.name}`),console.log(he.toString()),console.log(he),null===(Je=console.groupEnd)||void 0===Je||Je.call(console)}),K},deps:[Eh,Rd,Ze,e.zs3,e.Sil,Wf,ql,[class sg{},new e.FiY],[class Nh{},new e.FiY]]},Rd,{provide:yn,useFactory:function Ca(n){return n.routerState.root},deps:[li]},cg,Jf,class c0{preload(r,t){return t().pipe(zc(()=>(0,In.of)(null)))}},{provide:ql,useValue:{enableTracing:!1}}];function Lm(){return new e.PXZ("Router",li)}let Fm=(()=>{class n{constructor(t,o){}static forRoot(t,o){return{ngModule:n,providers:[Bu,u0(t),{provide:km,useFactory:Bm,deps:[[li,new e.FiY,new e.tp0]]},{provide:ql,useValue:o||{}},{provide:le,useFactory:kh,deps:[W,[new e.tBr(De),new e.FiY],ql]},{provide:Bd,useFactory:l0,deps:[li,Kn,ql]},{provide:Rm,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Jf},{provide:e.PXZ,multi:!0,useFactory:Lm},[Yf,{provide:e.ip1,multi:!0,useFactory:lg,deps:[Yf]},{provide:Qf,useFactory:ug,deps:[Yf]},{provide:e.tb,multi:!0,useExisting:Qf}]]}}static forChild(t){return{ngModule:n,providers:[u0(t)]}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(km,8),e.LFG(li,8))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();function l0(n,r,t){return t.scrollOffset&&r.setOffset(t.scrollOffset),new Bd(n,r,t)}function kh(n,r,t={}){return t.useHash?new Ue(n,r):new rt(n,r)}function Bm(n){return"guarded"}function u0(n){return[{provide:e.deG,multi:!0,useValue:n},{provide:Wf,multi:!0,useValue:n}]}let Yf=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new si.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(x=>o=x),p=this.injector.get(li),b=this.injector.get(ql);return"disabled"===b.initialNavigation?(p.setUpLocationChangeListener(),o(!0)):"enabled"===b.initialNavigation||"enabledBlocking"===b.initialNavigation?(p.hooks.afterPreactivation=()=>this.initNavigation?(0,In.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),p.initialNavigation()):o(!0),u})}bootstrapListener(t){const o=this.injector.get(ql),u=this.injector.get(cg),p=this.injector.get(Bd),b=this.injector.get(li),x=this.injector.get(e.z2F);t===x.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&b.initialNavigation(),u.setUpPreloading(),p.init(),b.resetRootComponentType(x.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.zs3))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function lg(n){return n.appInitializer.bind(n)}function ug(n){return n.bootstrapListener.bind(n)}const Qf=new e.OlP("Router Initializer");var Lh,Ns=O(635),ea=O(6082),tl=new Uint8Array(16);function d0(){if(!Lh&&!(Lh="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lh(tl)}const h0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ov=function jm(n){return"string"==typeof n&&h0.test(n)};for(var vs=[],dg=0;dg<256;++dg)vs.push((dg+256).toString(16).substr(1));const nl=function f0(n,r,t){var o=(n=n||{}).random||(n.rng||d0)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,r){t=t||0;for(var u=0;u<16;++u)r[t+u]=o[u];return r}return function Vm(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(vs[n[r+0]]+vs[n[r+1]]+vs[n[r+2]]+vs[n[r+3]]+"-"+vs[n[r+4]]+vs[n[r+5]]+"-"+vs[n[r+6]]+vs[n[r+7]]+"-"+vs[n[r+8]]+vs[n[r+9]]+"-"+vs[n[r+10]]+vs[n[r+11]]+vs[n[r+12]]+vs[n[r+13]]+vs[n[r+14]]+vs[n[r+15]]).toLowerCase();if(!Ov(t))throw TypeError("Stringified UUID is invalid");return t}(o)},p0=[{productBarcode:"8480000136343",updateDate:1649525102028,id:"yTedpnDD2O8sBPZwSK3U",shopId:"mercadona",createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904},price:3.5},{id:"602smPkf29S2QFB7XMsD",price:4.89,shopId:"mercadona",productBarcode:"7613036862295",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0,username:"Joan Llori\xe0"},updateDate:1649525061319},{updateDate:1649525021629,price:2.15,id:"WlA822FqYmbsdK0UGl6Y",shopId:"mercadona",productBarcode:"8480000049056",createdBy:{lastLogin:1649187527904,admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com"}},{productBarcode:"8480000163141",updateDate:1649524995119,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0,username:"Joan Llori\xe0"},id:"YdlJM0dJ5oeNYB1XVEfI",price:1.25,shopId:"mercadona"},{id:"a0JHdq2rUBTp9t1h3LMP",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0,email:"joanlloria@gmail.com"},shopId:"mercadona",price:2.75,productBarcode:"8480000644916",updateDate:1649524928832},{shopId:"ametller",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0},price:1.39,updateDate:1649443336162,productBarcode:"8436554520985",id:"ftpgydKRipdueQnPpg5E"},{price:4.29,createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1649187527904,admin:!0},updateDate:1649443254744,id:"BwhIKICv0Jk5eFscKgUt",shopId:"ametller",productBarcode:"8436551862040"},{productBarcode:"8436583954577",id:"1juMRrbdbfFKtl4dDFsQ",createdBy:{admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,username:"Joan Llori\xe0"},shopId:"ametller",updateDate:1649443221984,price:2.19},{shopId:"ametller",createdBy:{admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1649187527904},price:.99,productBarcode:"8437011969439",updateDate:1649443161878,id:"iJqpRlCkh57jnAevi2ju"},{updateDate:1649394034715,productBarcode:"8412480245307",price:3.69,createdBy:{lastLogin:1649187527904,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com"},id:"jz4gnUQ0MPbIcD3zQ3Xu",shopId:"ametller"},{price:3.49,updateDate:1649394005242,productBarcode:"8436551861951",createdBy:{username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1649187527904,admin:!0,email:"joanlloria@gmail.com"},id:"9KPYWVyqeyOgHbvZuoKV",shopId:"ametller"},{price:2.99,createdBy:{username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0},id:"pc2J6SuGJcNNMc2DHqb1",productBarcode:"8421660006010",updateDate:1649393984630,shopId:"ametller"},{shopId:"ametller",updateDate:1649393940747,id:"e3ye1ns3IqQ7KLySvXeW",price:1.09,productBarcode:"8436551865355",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com"}},{updateDate:1649162654256,productBarcode:"5050083560262",price:3.55,shopId:"carrefour",createdBy:{lastLogin:1648889388379,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},id:"hDK5SFlMbMZegFDt87nj"},{shopId:"carrefour",price:2.45,createdBy:{admin:!0,lastLogin:1648889388379,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},productBarcode:"8431707094290",updateDate:1649162626090,id:"s6yCDWr0rkqRS04ZgE6f"},{createdBy:{email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379},price:1.43,id:"cH62hgvVWjJQFx9NDbgZ",updateDate:1649162593179,shopId:"carrefour",productBarcode:"7613035314016"},{createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648889388379,admin:!0},shopId:"carrefour",productBarcode:"8410055501131",updateDate:1649162564145,id:"A4M2NAWaWTLVnabXx3HH",price:1.53},{id:"qiwOo0zSVhq5SvAKuDQ9",updateDate:1649099098759,productBarcode:"8436551865355",price:1.09,createdBy:{email:"joanlloria@gmail.com",lastLogin:1648889388379,username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},shopId:"ametller"},{productBarcode:"8436551864709",updateDate:1649099077361,price:4.99,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,username:"Joan Llori\xe0",lastLogin:1648889388379,email:"joanlloria@gmail.com"},id:"vWH1tGNyO16kS4ZHPgJ1"},{updateDate:1649099052678,id:"KPuoy0bX1yOVEet8z8Mg",shopId:"ametller",productBarcode:"8436554529629",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0,lastLogin:1648889388379},price:5.79},{updateDate:1649099020087,id:"wFjvmFJyP6Md3gmaUY9b",price:2.19,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379,admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com"},productBarcode:"8413475312615"},{id:"hpRuqPSjOfNvBNzipfS7",createdBy:{lastLogin:1648889388379,admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},price:2.69,updateDate:1649098993302,productBarcode:"8421660006010",shopId:"ametller"},{productBarcode:"8436551861951",id:"j0NsoodQy2Vb1IMd1okA",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648889388379,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0},shopId:"ametller",updateDate:1649098960998,price:3.49},{updateDate:1649098912031,price:1.49,createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379,email:"joanlloria@gmail.com"},id:"Gufa8XRwRND525GcEtn0",shopId:"ametller",productBarcode:"8436551867502"},{productBarcode:"8436583954577",updateDate:1648885577543,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com",lastLogin:1648740479491,admin:!0},price:2.19,id:"8jThMVeEIflQbGZF9wr5"},{price:2.19,id:"S3TZPsq38o9g4LpELCfh",createdBy:{username:"Joan Llori\xe0",admin:!0,email:"joanlloria@gmail.com",lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648885533910,shopId:"ametller",productBarcode:"8413475312615"},{createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648740479491},id:"DwlO6GL6lL5itNlLolwF",shopId:"ametller",productBarcode:"8436583952054",price:1.29,updateDate:1648885489976},{createdBy:{admin:!0,lastLogin:1648740479491,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648885463368,price:1.09,shopId:"ametller",productBarcode:"8436551865355",id:"4qszEZQ89bpNTHd1CPbe"},{productBarcode:"8436554520985",updateDate:1648885443017,price:1.39,shopId:"ametller",id:"JqerXtq6dRvQ0BRbXJTm",createdBy:{email:"joanlloria@gmail.com",admin:!0,lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"}},{id:"xF43k9NANcaIsFLBAx1u",price:1.39,updateDate:1648885413130,shopId:"ametller",productBarcode:"8436554520992",createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,lastLogin:1648740479491}},{shopId:"carrefour",price:2.45,productBarcode:"8431707020053",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648740479491,username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648840758092,id:"ADP6a8RxZ9dLshcs18Ev"},{createdBy:{username:"Joan Llori\xe0",lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0},productBarcode:"8431707094290",price:2.45,updateDate:1648840707062,id:"x3MuOSHybJKHvoLkbjLc",shopId:"carrefour"},{shopId:"carrefour",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0,lastLogin:1648740479491},price:1.39,productBarcode:"3560071048341",id:"3BIxaJNrT8RgTDEnCQwi",updateDate:1648840676820},{id:"2KFNfE6hz0GRzStLLmJs",updateDate:1648840615431,shopId:"carrefour",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0,lastLogin:1648740479491,username:"Joan Llori\xe0"},price:1.51,productBarcode:"3045320052244"},{createdBy:{admin:!0,username:"Joan Llori\xe0",lastLogin:1648551165934,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com"},price:3.39,productBarcode:"8718951388826",updateDate:1648644547478,shopId:"bonpreu",id:"psRiojmRasFmyfeUTNPK"},{id:"fVlQBhiO5jn3VsBlI1rd",updateDate:1648644448599,createdBy:{email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648551165934,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},price:1.69,shopId:"bonpreu",productBarcode:"5410126716016"},{productBarcode:"4008400203829",createdBy:{admin:!0,lastLogin:1648551165934,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com"},shopId:"bonpreu",price:1.99,id:"crnggBBMaLF9BzHyQaJc",updateDate:1648644422922},{productBarcode:"8431707094290",price:2.29,updateDate:1648644396292,shopId:"bonpreu",id:"S2IsVKVLDR1UMi5STc9m",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648551165934,admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"}},{createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,email:"joanlloria@gmail.com",admin:!0},price:1.55,id:"qP6xF0cLDy9MmOB3kRIG",shopId:"bonpreu",updateDate:1648644364274,productBarcode:"8414516082313"},{updateDate:1648579007042,productBarcode:"8436554523979",price:1.99,id:"ukxHmyxg65BYShC1twoc",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,admin:!0,email:"joanlloria@gmail.com"},shopId:"ametller"},{shopId:"ametller",createdBy:{lastLogin:1648551165934,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},productBarcode:"8436583950440",price:1.99,updateDate:1648578928773,id:"hJBDYoK3GpQnAixKBJvZ"},{price:3.49,id:"HNhRtuJV1nlJbXzEJiRK",shopId:"ametller",createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648551165934,email:"joanlloria@gmail.com"},productBarcode:"8436551861951",updateDate:1648578873705},{shopId:"ametller",productBarcode:"8436583954577",id:"qysur0oB7OEpKbQne6ba",updateDate:1648578846218,price:2.19,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1648551165934,username:"Joan Llori\xe0",admin:!0}},{id:"Lw7yoGjjZ7ufGASgs9mm",createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},shopId:"ametller",productBarcode:"8436540566942",updateDate:1648460729550,price:1.99},{shopId:"ametller",id:"jL1o5c0k3fOTpF6NB6oQ",createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},updateDate:1648460651689,productBarcode:"8436551864709",price:4.99},{createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},id:"w8tSJH2fSyDDBUDzLGOy",productBarcode:"8436554529629",price:5.79,shopId:"ametller",updateDate:1648460619918},{price:1.29,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648418567804},shopId:"ametller",productBarcode:"8436583952054",updateDate:1648460581682,id:"QsyRdZwGQ1UQ0ARa27nT"},{id:"knlBdKG5QS5AHqsiRtwK",updateDate:1648460520247,createdBy:{email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648418567804,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},productBarcode:"8436551861951",price:3.49,shopId:"ametller"},{shopId:"ametller",price:3.89,productBarcode:"8436551862880",updateDate:1648041984132,id:"9H4mrFcxHosM1fn2MPk6"},{updateDate:1648041964676,shopId:"ametller",price:4.99,productBarcode:"8436551864709",id:"1oDN2rZCcA3GVAmXGm5w"},{updateDate:1648041940941,shopId:"ametller",productBarcode:"8436551865355",price:1.09,id:"h5TBADuIrerldKiWYwXZ"},{shopId:"ametller",price:2.19,productBarcode:"8436583954577",updateDate:1648041898298,id:"myStqGeGG00zwWUHEDHi"},{updateDate:1647961453747,price:2.7,productBarcode:"8410055133394",shopId:"bonpreu",id:"ItWZST2zFIdX8NPBrLZt"},{shopId:"bonpreu",updateDate:1647961415096,productBarcode:"8431707094290",price:2.29,id:"FiZC9HEGC9lxj5JqhXbl"},{price:2.65,updateDate:1647961386453,shopId:"bonpreu",productBarcode:"8411135005037",id:"ddH84u3FlrQhQbF83ajS"},{productBarcode:"8422410040872",updateDate:1647961357748,shopId:"bonpreu",price:3.15,id:"wTUPPUPtRMcOa1c7AqND"},{price:1.99,productBarcode:"4008400203829",updateDate:1647961332394,shopId:"bonpreu",id:"UQLlkfbZZG1puLmjd31X"},{updateDate:1647961299091,price:.79,productBarcode:"8422410473878",shopId:"bonpreu",id:"knPA6RUoXMI7Hyyw8sHf"},{updateDate:1647961197826,shopId:"bonpreu",productBarcode:"3574661648019",price:5,id:"W36wbh6PkCgembLHZLDw"},{price:1.25,shopId:"bonpreu",productBarcode:"8410505512267",updateDate:1647547513223,id:"kCX7yTcHeh28hlvwT4Du"},{updateDate:1647547483555,productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,id:"pX5OxugSJV08VN6IQnEp"},{productBarcode:"8422410473878",price:.79,shopId:"bonpreu",updateDate:1647547448250,id:"tZOmOTffTGahd88bxg9i"},{price:4.29,productBarcode:"8436551862040",updateDate:1647449138590,shopId:"ametller",id:"2QetLyJ3AM6Ut9RPdpTm"},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1647449111704,id:"potwYzxaZV4tylvCRJGG"},{updateDate:1647449093641,shopId:"ametller",price:5.79,productBarcode:"8436554529629",id:"BD17DCs2z32BXJYZdQeD"},{updateDate:1647449073312,productBarcode:"8436540566942",shopId:"ametller",price:1.99,id:"ARIKQ71vQwU1uvUijb2m"},{shopId:"ametller",price:1.09,updateDate:1647449047440,productBarcode:"8436551865355",id:"Xe6NimlR5A1104gjPDXk"},{shopId:"bonpreu",price:2.99,productBarcode:"5029053036151",updateDate:1647365959812,id:"V932wV4BbRvh8IFJ146M"},{shopId:"bonpreu",price:4.89,productBarcode:"7613035260924",updateDate:1647365744646,id:"j8rxgz4owazMMMgK3CzF"},{productBarcode:"8431707094290",price:2.29,updateDate:1647365593154,shopId:"bonpreu",id:"kREXYcgP8CdjSSvQRsOL"},{price:1.19,updateDate:1647365517833,productBarcode:"8410135001322",shopId:"bonpreu",id:"CNKGzBzWeirP7M6Md8Wa"},{shopId:"bonpreu",productBarcode:"8410184800150",price:1.1,updateDate:1647365491009,id:"2jPSBJKLJ4xvf8MJYVdb"},{productBarcode:"5410126716016",updateDate:1647365453382,shopId:"bonpreu",price:1.73,id:"yarXNS6SQXbBo897QJGH"},{updateDate:1647365405368,price:.99,productBarcode:"8410184013086",shopId:"bonpreu",id:"jhxauesGgQ9AFPFdpUKJ"},{price:4.99,shopId:"ametller",productBarcode:"8436551864709",updateDate:1647288183532,id:"XcWmacikAoTRnE84e3eB"},{updateDate:1647288160477,productBarcode:"8436551861951",shopId:"ametller",price:3.49,id:"FCqAnNno6XfjnY0WTFZA"},{updateDate:1647288114011,productBarcode:"8436583954577",shopId:"ametller",price:2.19,id:"oyHFXKwoIAwwHPhniPxU"},{price:1.99,updateDate:1647288063635,productBarcode:"8436554523979",shopId:"ametller",id:"kxhrqdtb7OPZLoL9USF9"},{price:1.49,productBarcode:"8436551867502",updateDate:1647009885888,shopId:"ametller",id:"zGG5dh4WKcVEiKQMPxbq"},{shopId:"ametller",productBarcode:"8436583950449",updateDate:1647009840835,price:1.99,id:"iZpylr9gNMD660rkjqKB"},{updateDate:1647009813003,price:5.99,shopId:"ametller",productBarcode:"8436551860251",id:"v8XOk83kLKMtSEm89kd8"},{productBarcode:"8436583954577",price:2.19,shopId:"ametller",updateDate:1647009785979,id:"vTbMz59gclUr1NC8Hvrb"},{updateDate:1647009736789,shopId:"ametller",productBarcode:"8437011969217",price:1.79,id:"Ie2aG836OKVx6LNBMPwv"},{shopId:"ametller",price:6.49,updateDate:1647009673830,productBarcode:"8436583957110",id:"kV1dshwwna3WGT2igmd6"},{price:6.49,updateDate:1647009576298,productBarcode:"8436583957134",shopId:"ametller",id:"xC8ip2VlIPU9XMVwkNZY"},{price:2.69,shopId:"ametller",updateDate:1647009535063,productBarcode:"8421660006010",id:"JFvXfMu9K4qb0DYQoxaN"},{updateDate:1647009507902,shopId:"ametller",productBarcode:"8436551865355",price:1.09,id:"ZuRvNxAulB11kESgkegF"},{shopId:"carrefour",updateDate:1647001030237,price:1.86,productBarcode:"8076802085981",id:"TYxP9sRUsGaPYCvKc61B"},{productBarcode:"8076808060654",updateDate:1647000997394,price:1.86,shopId:"carrefour",id:"otLTGyKhgvQnM817hWka"},{price:2.1,updateDate:1647000971290,productBarcode:"8410128160074",shopId:"carrefour",id:"jGVzDGSWsPJO8b8aV2di"},{shopId:"carrefour",price:1.51,productBarcode:"3045320052244",updateDate:1647000949431,id:"w2rJdYlzpegbeJ3APgOp"},{updateDate:1647000913572,price:1.49,shopId:"carrefour",productBarcode:"3560070119851",id:"E8RCfIkhUgDH71jDBGqX"},{productBarcode:"8431707094290",shopId:"carrefour",price:2.26,updateDate:1646942628295,id:"0ZbbmT7bjsFGWiTJw4U7"},{price:2.2,shopId:"carrefour",updateDate:1646942603389,productBarcode:"3560070347438",id:"Cf8K9uh0M2s8fcTqZ0Ja"},{shopId:"carrefour",productBarcode:"8436033878095",price:1,updateDate:1646942576971,id:"Of19VXA0MuIuWXm4x8yG"},{price:1.51,shopId:"carrefour",updateDate:1646942537870,productBarcode:"3045320052244",id:"D8iM9JSvkKxocBY0Yhvi"},{productBarcode:"8431876005912",price:1.08,updateDate:1646942494815,shopId:"carrefour",id:"8MiVzzxBg2ZtVAeO6U9c"},{updateDate:1646930250559,price:2.2,productBarcode:"8480000180926",shopId:"mercadona",id:"eTlRhJjfIzbWJ0HDZ3Md"},{shopId:"mercadona",price:3.3,updateDate:1646930214883,productBarcode:"8480000136343",id:"vBK7B8RI6jW2M8DcIIP9"},{updateDate:1646930191204,productBarcode:"8410086000856",price:1.2,shopId:"mercadona",id:"sFvga218at9GpgWtWMH4"},{updateDate:1646930166623,price:1.25,shopId:"mercadona",productBarcode:"8480000163141",id:"wdbjpAXq7VNvNZ6bYApE"},{updateDate:1646930137722,price:1.95,shopId:"mercadona",productBarcode:"8480000581518",id:"HFHiF3J0qNq2940uCeMG"},{productBarcode:"8480000644916",shopId:"mercadona",updateDate:1646930098641,price:2.65,id:"R61OmmkslEVXG73UOCB6"},{updateDate:1646930032462,productBarcode:"8480000610652",shopId:"mercadona",price:1.5,id:"CVyzu83FBt7rT80weApz"},{updateDate:1646929997724,productBarcode:"8420309210115",price:3.25,shopId:"mercadona",id:"qxn8KCzTB0wLzGrkGrFS"},{price:.9,shopId:"mercadona",updateDate:1646929946281,productBarcode:"8410148509327",id:"DQFx9W47a54rgao9Yzoh"},{updateDate:1646872443076,price:1.59,shopId:"dia",productBarcode:"80177616",id:"etvacdRcZ9u8rPOGyNoW"},{price:1.27,shopId:"dia",updateDate:1646856265172,productBarcode:"8480017574657",id:"pcMsPJRXcEgYR3sNN5qq"},{productBarcode:"8410448000913",price:2.89,shopId:"dia",updateDate:1646856219361,id:"WV4wezy7s5GIZRQdkygR"},{shopId:"dia",updateDate:1646856083841,price:4.95,productBarcode:"7613035260924",id:"MJhrODnuLMkRgRFhQcOH"},{price:4.89,productBarcode:"5054563099082",updateDate:1646856003573,shopId:"dia",id:"qsDRnBrSMhoLMiZk0kRA"},{shopId:"bonpreu",updateDate:1646486309719,price:4.09,productBarcode:"8714100635650",id:"Pd0a9ncegiMopagtQzuc"},{price:1.19,productBarcode:"8410135001322",updateDate:1646486174599,shopId:"bonpreu",id:"hPXf5GavsSqsBRxvZUFa"},{shopId:"bonpreu",productBarcode:"7613035260924",updateDate:1646486121079,price:4.89,id:"pCjJs2iWDFHVzrYekM63"},{productBarcode:"8436583954539",updateDate:1646415616777,shopId:"ametller",price:2.39,id:"V5kGdB1vz9zYszorXypV"},{productBarcode:"8413475312615",price:2.19,shopId:"ametller",updateDate:1646415576400,id:"bbjskJJH7O72xcVP70gZ"},{shopId:"ametller",productBarcode:"8436583952054",price:1.29,updateDate:1646415548935,id:"GJlFgjWMvQIWQouKIwih"},{updateDate:1646335181459,productBarcode:"8436551864709",price:4.99,shopId:"ametller",id:"LBqsSVYb5huvb6SGWOPp"},{price:3.89,productBarcode:"8436551862880",updateDate:1646335153243,shopId:"ametller",id:"o9TXNVvedjbQn96O1QQw"},{price:1.79,productBarcode:"8436554522279",shopId:"ametller",updateDate:1646335123846,id:"VgXFShnDQSdvqlSs7Skc"},{price:2.69,shopId:"ametller",productBarcode:"8421660006010",updateDate:1646335092609,id:"JzjtypjqkdZlNPAesUBP"},{productBarcode:"8436583954539",updateDate:1646335060270,price:2.39,shopId:"ametller",id:"MUEnqn7NerIS5eRHJHWQ"},{price:1.09,updateDate:1646335036086,shopId:"ametller",productBarcode:"8436551865355",id:"R5ZrwiV9EdORPR1pnYDw"},{productBarcode:"8410564002204",updateDate:1646250727985,shopId:"condis",price:1.25,id:"sGDZF3Cnugc5Ro6Pw65K"},{price:2.29,shopId:"condis",updateDate:1646250687325,productBarcode:"3073780902366",id:"8xHO6r91l7BPlGyAayHg"},{shopId:"condis",updateDate:1646250627653,productBarcode:"8431707094290",price:2.29,id:"dLgz0PQFavdQBlKnDCdc"},{updateDate:1646144325823,shopId:"bonpreu",price:.79,productBarcode:"8422410473878",id:"AJKNCmv7YodmSN0t09mA"},{updateDate:1646144272786,productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,id:"D8SovbXNYCBmJZzAWg95"},{updateDate:1646079281946,price:1.99,shopId:"ametller",productBarcode:"8435037550631",id:"NeCGh1CJkiAvpnDvCUaV"},{productBarcode:"8436583952054",updateDate:1646079230642,price:1.29,shopId:"ametller",id:"5Uw7MzY4gW8fyVxY7nx3"},{updateDate:1646079202513,price:3.89,shopId:"ametller",productBarcode:"8436551862880",id:"NiS5Ri3zzHprvJvztfvo"},{shopId:"ametller",updateDate:1646079180090,price:5.79,productBarcode:"8436554529629",id:"oJoPVLp0DYzeYV7oelyJ"},{updateDate:1646079152860,price:2.39,productBarcode:"8436583954539",shopId:"ametller",id:"8S0S2UwSmRyGollhLIlU"},{price:2.19,updateDate:1646071049954,shopId:"condis",productBarcode:"3269612045008",id:"jjyhx2Npd9EBzl004WVS"},{updateDate:1646071015575,shopId:"condis",price:2.59,productBarcode:"7613036569927",id:"rQmuOb4RPbsYEf7fPrKH"},{shopId:"condis",productBarcode:"8410022115255",updateDate:1645888125951,price:2.19,id:"uMJ8snfK4blFOT3NizDn"},{price:6.25,updateDate:1645888080319,productBarcode:"8410179012018",shopId:"condis",id:"tThN9M4JCgVMCXtBsSN2"},{price:1.52,updateDate:1645888034122,productBarcode:"8411002105006",shopId:"condis",id:"yUOJJXCWCZuC6y9N70tC"},{price:3.5,updateDate:1645887883610,productBarcode:"5054563101648",shopId:"condis",id:"N5O1c9DD8LqXekDWIdDM"},{updateDate:1645886201039,price:1.49,shopId:"condis",productBarcode:"8717700002402",id:"eZeckwHzsLrdGupK9GOx"},{shopId:"condis",productBarcode:"8431707094290",price:2.29,updateDate:1645886117451,id:"OiKkGlIYyWyDyjeJ0wv6"},{productBarcode:"8015100563067",price:1.91,updateDate:1645869460823,shopId:"carrefour",id:"Ca6otMJupmWkFeqXQvbw"},{price:3.15,productBarcode:"3560071152413",shopId:"carrefour",updateDate:1645869433791,id:"jVvPjWqRw03tKYJs7tWI"},{shopId:"carrefour",productBarcode:"5050083560262",price:3.39,updateDate:1645869280046,id:"Q1cwNx43wDQRaeri0wDj"},{shopId:"carrefour",productBarcode:"8006540576588",updateDate:1645869134793,price:2.95,id:"T7h77o0K3xaHLoLXBFSv"},{productBarcode:"5029053010052",shopId:"carrefour",updateDate:1645869027911,price:1.89,id:"f9yJjH9FTqqopOmHPdKd"},{price:1.75,updateDate:1645868918215,shopId:"carrefour",productBarcode:"80177616",id:"zWtGO6dGSiUvV6hIdWow"},{productBarcode:"8436551864709",updateDate:1645798155513,shopId:"ametller",price:4.99,id:"ZkcjUtBIwLRJHUu5Vm5U"},{productBarcode:"8437011969217",price:1.79,updateDate:1645798113906,shopId:"ametller",id:"Unw54WfNBTofW6nIfUcn"},{shopId:"ametller",updateDate:1645798090805,productBarcode:"8436583955093",price:3.15,id:"LVIuWjHSMRf45MPYnJFn"},{price:1.99,productBarcode:"8436540566942",updateDate:1645653239642,shopId:"ametller",id:"Mpi3bszGgRU65dg4bBKc"},{price:1.09,updateDate:1645653185581,productBarcode:"8436551865355",shopId:"ametller",id:"L4EXzvLM8A7e8kG4FtRs"},{productBarcode:"8436583954539",shopId:"ametller",updateDate:1645653012871,price:2.39,id:"knPLI6xxs0IDCaHKSyGB"},{price:1.99,shopId:"bonpreu",updateDate:1645552083100,productBarcode:"4008400203829",id:"QM5GgtVIUy51vbcMbIf9"},{productBarcode:"5410126716016",shopId:"bonpreu",price:1.69,updateDate:1645552048570,id:"jfnAmQnjB4zl3SunI0Sd"},{productBarcode:"8422410473878",price:.79,shopId:"bonpreu",updateDate:1645552013320,id:"jKVkWotGzrKjxmvRwLNR"},{shopId:"bonpreu",productBarcode:"8414516070167",updateDate:1645551958078,price:1.45,id:"W2TFB9h710ZvxZT8a2ck"},{updateDate:1645551919468,shopId:"bonpreu",price:1.43,productBarcode:"8413100612639",id:"t85CQn37ZTGkZDg2g7ye"},{shopId:"bonpreu",price:1.99,productBarcode:"8422410387915",updateDate:1645551879354,id:"DWMRG0P9BqBVBhR4shsT"},{productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,updateDate:1645551832691,id:"ddM9TFLaPa7mQ1K0fKnd"},{shopId:"bonpreu",productBarcode:"3045206312257",price:2.15,updateDate:1645452864525,id:"LkOF7yaDBwQ9I3SA85NF"},{price:.99,productBarcode:"7613035268388",updateDate:1645452256976,shopId:"bonpreu",id:"2MyEe35UgvDXVfpE5jww"},{productBarcode:"8422410040872",updateDate:1645452194587,price:3.15,shopId:"bonpreu",id:"WlW5WEMc2j86uzxwjd2o"}];var wa=O(1343),ta=O(4120);let Ta=(()=>{class n{constructor(t,o,u,p){this.productService=t,this.shopService=o,this.firestoreService=u,this.loginService=p,this.shopsProducts=new si.x,this._shopsProducts=[],this.shopsProducts.subscribe(b=>{this._shopsProducts=b})}loadShopsProducts(){return console.log("ShopProductService.loadShopsProducts()"),Za.q.cloudMode?this.firestoreService.getShopsProducts().pipe((0,ei.b)(t=>{(!t||0===t.length)&&this.firestoreService.addShopProducts(t=p0),this.shopsProducts.next(t)})):(0,In.of)(p0).pipe((0,ei.b)(t=>{(!t||0===t.length)&&this.firestoreService.addShopProducts(t=p0),this.shopsProducts.next(t)}))}addShopProduct(t){return t.id||(t.id=nl()),t.createdBy||(t.createdBy=this.loginService.getLoggedUser()),Za.q.cloudMode?this.firestoreService.addShopProduct(t).pipe((0,ei.b)(()=>{this._shopsProducts.push(t),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts.push(t),this.shopsProducts.next(this._shopsProducts),(0,In.of)(!0))}removeShopProduct(t){return console.log("ShopProductService.removeShopProduct()",t),Za.q.cloudMode?this.firestoreService.deleteShopProduct(t).pipe((0,ei.b)(()=>{this._shopsProducts=this._shopsProducts.filter(o=>o.productBarcode!==t.productBarcode||o.shopId!==t.shopId),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=this._shopsProducts.filter(o=>o.productBarcode!==t.productBarcode||o.shopId!==t.shopId),this.shopsProducts.next(this._shopsProducts),(0,In.of)(!0))}removeShopShopProducts(t){console.log("ShopProductService.removeShopShopProducts()",t);const o=[],u=[];return this._shopsProducts.forEach(p=>{p.shopId===t?o.push(p):u.push(p)}),Za.q.cloudMode?this.firestoreService.deleteShopProducts(o).pipe((0,ei.b)(()=>{this._shopsProducts=u,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=u,this.shopsProducts.next(this._shopsProducts),(0,In.of)(!0))}removeProductShopProducts(t){console.log("ShopProductService.removeProductShopProducts()",t);const o=[],u=[];return this._shopsProducts.forEach(p=>{p.productBarcode===t?o.push(p):u.push(p)}),Za.q.cloudMode?this.firestoreService.deleteShopProducts(o).pipe((0,ei.b)(()=>{this._shopsProducts=u,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=u,this.shopsProducts.next(this._shopsProducts),(0,In.of)(!0))}getShopProductHistory(t){return this._shopsProducts.filter(o=>o.productBarcode===t.productBarcode&&o.shopId===t.shopId).sort((o,u)=>o.updateDate>u.updateDate?1:-1)}getShopProduct(t,o){const u=this._shopsProducts.filter(p=>p.productBarcode===o&&p.shopId===t).sort((p,b)=>p.updateDate<b.updateDate?1:-1);return(0,In.of)(u.length>0?u[0]:void 0)}getShopProducts(t){const o=this._shopsProducts.filter(u=>u.shopId===t).map(u=>u.productBarcode);return(0,In.of)(this.productService._products.filter(u=>o.indexOf(u.barcode)>-1))}getProductShops(t){const o=this._shopsProducts.filter(u=>u.productBarcode===t).map(u=>u.shopId);return(0,In.of)(this.shopService._shops.filter(u=>o.indexOf(u.id)>-1))}getShopShopProducts(t){return(0,In.of)(this._shopsProducts.filter(o=>o.shopId===t))}getProductShopProducts(t){return(0,In.of)(this._shopsProducts.filter(o=>o.productBarcode===t))}getShopProductLast(t,o){const u=this._shopsProducts.filter(p=>p.shopId===t&&p.productBarcode===o).sort((p,b)=>p.updateDate<b.updateDate?1:-1);return u.length>0?u[0]:void 0}getProductCheaperShop(t){const o=[];if(!t)return[];if(this._shopsProducts.filter(b=>b.productBarcode===t.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length)return;let u=[...o.map(b=>this.getShopProductLast(b,t.barcode)).sort((b,x)=>b.price>x.price?1:-1)];const p=u[0].price;return u=u.filter(b=>b.price===p),u.map(b=>this.shopService._shops.find(x=>x.id===b.shopId))}getProductLowestPrice(t){const o=[];if(!t||(this._shopsProducts.filter(b=>b.productBarcode===t.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length))return;let u=[...o.map(b=>this.getShopProductLast(b,t.barcode)).sort((b,x)=>b.price<x.price?1:-1)];return u[0].price<=u[u.length-1].price?u[0].price:u[u.length-1].price}getProductHighestPrice(t){const o=[];if(!t||(this._shopsProducts.filter(b=>b.productBarcode===t.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length))return;let u=o.map(b=>this.getShopProductLast(b,t.barcode)).sort((b,x)=>b.price<x.price?1:-1);return u[0].price>=u[u.length-1].price?u[0].price:u[u.length-1].price}getProductPriceRange(t,o){const u=[];this._shopsProducts.filter(b=>b.productBarcode===t.barcode).forEach(b=>{u.indexOf(b.shopId)<0&&u.push(b.shopId)});const p=u.map(b=>this.getShopProductLast(b,t.barcode).price);return p.sort((b,x)=>b<x?1:-1),{max:p[0],min:p[p.length-1]}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ea.M),e.LFG(Ns.d),e.LFG(wa.C),e.LFG(ta.r))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xf=(()=>{class n{constructor(t,o){this.productService=t,this.shopProductService=o,this.cart=new si.x,this.cartConfig=new si.x,this.cart.subscribe(u=>{var p;u&&(null===(p=u.productsBarcodesUnits)||void 0===p?void 0:p.length)>0?(this._cart=u,localStorage.setItem(Ni.M.PS_SHOPPING_CART,JSON.stringify(u))):(this._cart=void 0,localStorage.removeItem(Ni.M.PS_SHOPPING_CART)),this.buildCartConfig()}),this.loadShoppingCart()}loadShoppingCart(){console.log("loadShoppingCart()");const t=localStorage.getItem(Ni.M.PS_SHOPPING_CART);if(t){const o=JSON.parse(t);this.cart.next(o)}else this.cart.next(void 0)}getShoppingCartConfig(){return console.log("getShoppingCartConfig()"),this._cartConfig}buildCartConfig(){this._cartConfig={items:[]},this.productService.getProducts().subscribe(t=>{var o,u;(null===(u=null===(o=this._cart)||void 0===o?void 0:o.productsBarcodesUnits)||void 0===u?void 0:u.length)>0&&this._cart.productsBarcodesUnits.forEach(p=>{const b=t.find(N=>N.barcode===p.barcode);b||console.error("Undefined product");const x=this.shopProductService.getProductCheaperShop(b);if(x){const N=this.shopProductService.getProductLowestPrice(b),K=this.shopProductService.getProductHighestPrice(b);x.forEach(he=>{const Ne=this._cartConfig.items.find(We=>{var ft;return(null===(ft=We.shop)||void 0===ft?void 0:ft.id)===(null==he?void 0:he.id)}),Je={product:b,units:p.units,minPrice:N,maxPrice:K,checked:p.checked};Ne?Ne.productsUnits.push(Je):this._cartConfig.items.push({shop:he,productsUnits:[Je]})})}else{const N=this._cartConfig.items.find(K=>!K.shop);N?N.productsUnits.push({product:b,units:p.units,checked:p.checked}):this._cartConfig.items.push({shop:void 0,productsUnits:[{product:b,units:p.units,checked:p.checked}]})}}),this.cartConfig.next(this._cartConfig)})}setCartProductUnits(t,o){console.log("setCartProductUnits()"),this._cart.productsBarcodesUnits.find(u=>u.barcode===t.barcode).units=o,this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}toggleCartProductMarked(t){this._cart.productsBarcodesUnits.find(o=>o.barcode===t.product.barcode).checked=!t.checked,this.cart.next(this._cart)}removeCartProduct(t){console.log("removeCartProduct()",t),this._cart.productsBarcodesUnits=this._cart.productsBarcodesUnits.filter(o=>o.barcode!==t.barcode),this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}removeCart(){console.log("removeCart()"),localStorage.removeItem(Ni.M.PS_SHOPPING_CART),this.loadShoppingCart()}addToCart(t){console.log("addToCart()",t);let o=this._cart;if(o){const u=o.productsBarcodesUnits.find(p=>p.barcode===t.barcode);u?u.units++:o.productsBarcodesUnits.push({barcode:t.barcode,units:1,checked:!1})}else o={productsBarcodesUnits:[{barcode:t.barcode,units:1,checked:!1}],createDate:(new Date).getTime()};o.updateDate=(new Date).getTime(),this.cart.next(o)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ea.M),e.LFG(Ta))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ep=O(5032);function so(n){return(0,io.e)((r,t)=>{(0,It.Xf)(n).subscribe((0,_r.x)(t,()=>t.complete(),ep.Z)),!t.closed&&r.subscribe(t)})}class hg{}const tc="*";function tp(n,r){return{type:7,name:n,definitions:r,options:{}}}function fg(n,r=null){return{type:4,styles:r,timings:n}}function m0(n,r=null){return{type:2,steps:n,options:r}}function np(n){return{type:6,styles:n,offset:null}}function Mv(n,r,t){return{type:0,name:n,styles:r,options:t}}function Hm(n,r,t=null){return{type:1,expr:n,animation:r,options:t}}function zm(n){Promise.resolve(null).then(n)}class jd{constructor(r=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const t="start"==r?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class ip{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let t=0,o=0,u=0;const p=this.players.length;0==p?zm(()=>this._onFinish()):this.players.forEach(b=>{b.onDone(()=>{++t==p&&this._onFinish()}),b.onDestroy(()=>{++o==p&&this._onDestroy()}),b.onStart(()=>{++u==p&&this._onStart()})}),this.totalTime=this.players.reduce((b,x)=>Math.max(b,x.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const t=r*this.totalTime;this.players.forEach(o=>{const u=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(u)})}getPosition(){const r=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const t="start"==r?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}const Vd=["overlay"];function ts(n,r){1&n&&e._UZ(0,"div")}function rl(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ts,1,0,"div",6),e.qZA()),2&n){const t=e.oxw(2);e.Tol(t.spinner.class),e.Udp("color",t.spinner.color),e.xp6(1),e.Q6J("ngForOf",t.spinner.divArray)}}function Fh(n,r){if(1&n&&(e._UZ(0,"div",7),e.ALo(1,"safeHtml")),2&n){const t=e.oxw(2);e.Q6J("innerHTML",e.lcZ(1,1,t.template),e.oJD)}}function Ea(n,r){if(1&n&&(e.TgZ(0,"div",1,2),e.YNc(2,rl,2,5,"div",3),e.YNc(3,Fh,2,3,"div",4),e.TgZ(4,"div",5),e.Hsn(5),e.qZA()()),2&n){const t=e.oxw();e.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),e.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),e.xp6(2),e.Q6J("ngIf",!t.template),e.xp6(1),e.Q6J("ngIf",t.template),e.xp6(1),e.Udp("z-index",t.spinner.zIndex)}}const op=["*"],Gd={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Da="primary";class ra{constructor(r){Object.assign(this,r)}static create(r){return(null==(null==r?void 0:r.type)||0===r.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new ra(r)}}let ia=(()=>{class n{constructor(){this.spinnerObservable=new po(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(pi(o=>o&&o.name===t))}show(t=Da,o){return new Promise((u,p)=>{setTimeout(()=>{o&&Object.keys(o).length?(o.name=t,this.spinnerObservable.next(new ra(Object.assign(Object.assign({},o),{show:!0}))),u(!0)):(this.spinnerObservable.next(new ra({name:t,show:!0})),u(!0))},10)})}hide(t=Da,o=10){return new Promise((u,p)=>{setTimeout(()=>{this.spinnerObservable.next(new ra({name:t,show:!1})),u(!0)},o)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bh=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ko,16))},n.\u0275pipe=e.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),Uh=(()=>{class n{constructor(t,o,u){this.spinnerService=t,this.changeDetector=o,this.elementRef=u,this.disableAnimation=!1,this.spinner=new ra,this.ngUnsubscribe=new si.x,this.setDefaultOptions=()=>{this.spinner=ra.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Da,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(so(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const o in t)if(o){const u=t[o];if(u.isFirstChange())return;void 0!==u.currentValue&&u.currentValue!==u.previousValue&&""!==u.currentValue&&(this.spinner[o]=u.currentValue,"showSpinner"===o&&(u.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===o&&this.initObservable())}}getClass(t,o){this.spinner.divCount=Gd[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((p,b)=>b);let u="";switch(o.toLowerCase()){case"small":u="la-sm";break;case"medium":u="la-2x";break;case"large":u="la-3x"}return"la-"+t+" "+u}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ia),e.Y36(e.sBO),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,o){if(1&t&&e.Gf(Vd,5),2&t){let u;e.iGM(u=e.CRH())&&(o.spinnerDOM=u.first)}},hostBindings:function(t,o){1&t&&e.NdJ("keydown",function(p){return o.handleKeyboardEvent(p)},!1,e.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[e.TTD],ngContentSelectors:op,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,o){1&t&&(e.F$t(),e.YNc(0,Ea,6,12,"div",0)),2&t&&e.Q6J("ngIf",o.spinner.show)},directives:[ke,nr],pipes:[Bh],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[tp("fadeIn",[Mv("in",np({opacity:1})),Hm(":enter",[np({opacity:0}),fg(300)]),Hm(":leave",fg(200,np({opacity:0})))])]},changeDetection:0}),n})(),Hd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})();function nc(n){return!!n&&(n instanceof xi.y||(0,ya.m)(n.lift)&&(0,ya.m)(n.subscribe))}var Wm=O(6063);class v0 extends si.x{constructor(r=1/0,t=1/0,o=Wm.l){super(),this._bufferSize=r,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,t)}next(r){const{isStopped:t,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:p,_windowTime:b}=this;t||(o.push(r),!u&&o.push(p.now()+b)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(r),{_infiniteTimeWindow:o,_buffer:u}=this,p=u.slice();for(let b=0;b<p.length&&!r.closed;b+=o?1:2)r.next(p[b]);return this._checkFinalizedStatuses(r),t}_trimBuffer(){const{_bufferSize:r,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:u}=this,p=(u?1:2)*r;if(r<1/0&&p<o.length&&o.splice(0,o.length-p),!u){const b=t.now();let x=0;for(let N=1;N<o.length&&o[N]<=b;N+=2)x=N;x&&o.splice(0,x+1)}}}var y0=O(3099);function sp(n,r,t){let o,u=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:r=1/0,refCount:u=!1,scheduler:t}=n):o=null!=n?n:1/0,(0,y0.B)({connector:()=>new v0(o,r,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}class ap{}let gg=(()=>{class n extends ap{getTranslation(t){return(0,In.of)({})}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class jh{}let $m=(()=>{class n{handle(t){return t.key}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Vh(n,r){if(n===r)return!0;if(null===n||null===r)return!1;if(n!=n&&r!=r)return!0;let u,p,b,t=typeof n;if(t==typeof r&&"object"==t){if(!Array.isArray(n)){if(Array.isArray(r))return!1;for(p in b=Object.create(null),n){if(!Vh(n[p],r[p]))return!1;b[p]=!0}for(p in r)if(!(p in b)&&void 0!==r[p])return!1;return!0}if(!Array.isArray(r))return!1;if((u=n.length)==r.length){for(p=0;p<u;p++)if(!Vh(n[p],r[p]))return!1;return!0}}return!1}function Zl(n){return null!=n}function qd(n){return n&&"object"==typeof n&&!Array.isArray(n)}function Hr(n,r){let t=Object.assign({},n);return qd(n)&&qd(r)&&Object.keys(r).forEach(o=>{qd(r[o])?o in n?t[o]=Hr(n[o],r[o]):Object.assign(t,{[o]:r[o]}):Object.assign(t,{[o]:r[o]})}),t}class Gh{}let mg=(()=>{class n extends Gh{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,o){let u;return u="string"==typeof t?this.interpolateString(t,o):"function"==typeof t?this.interpolateFunction(t,o):t,u}getValue(t,o){let u="string"==typeof o?o.split("."):[o];o="";do{o+=u.shift(),!Zl(t)||!Zl(t[o])||"object"!=typeof t[o]&&u.length?u.length?o+=".":t=void 0:(t=t[o],o="")}while(u.length);return t}interpolateFunction(t,o){return t(o)}interpolateString(t,o){return o?t.replace(this.templateMatcher,(u,p)=>{let b=this.getValue(o,p);return Zl(b)?b:u}):t}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class Uu{}let Nv=(()=>{class n extends Uu{compile(t,o){return t}compileTranslations(t,o){return t}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class $i{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new e.vpe,this.onLangChange=new e.vpe,this.onDefaultLangChange=new e.vpe}}const ns=new e.OlP("USE_STORE"),Sa=new e.OlP("USE_DEFAULT_LANG"),Km=new e.OlP("DEFAULT_LANGUAGE"),b0=new e.OlP("USE_EXTEND");let oa=(()=>{class n{constructor(t,o,u,p,b,x=!0,N=!1,K=!1,he){this.store=t,this.currentLoader=o,this.compiler=u,this.parser=p,this.missingTranslationHandler=b,this.useDefaultLang=x,this.isolate=N,this.extend=K,this.pending=!1,this._onTranslationChange=new e.vpe,this._onLangChange=new e.vpe,this._onDefaultLangChange=new e.vpe,this._langs=[],this._translations={},this._translationRequests={},he&&this.setDefaultLang(he)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let o=this.retrieveTranslations(t);void 0!==o?(null==this.defaultLang&&(this.defaultLang=t),o.pipe((0,Wi.q)(1)).subscribe(u=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return(0,In.of)(this.translations[t]);let o=this.retrieveTranslations(t);return void 0!==o?(this.currentLang||(this.currentLang=t),o.pipe((0,Wi.q)(1)).subscribe(u=>{this.changeLang(t)}),o):(this.changeLang(t),(0,In.of)(this.translations[t]))}retrieveTranslations(t){let o;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),o=this._translationRequests[t]),o}getTranslation(t){this.pending=!0;const o=this.currentLoader.getTranslation(t).pipe(sp(1),(0,Wi.q)(1));return this.loadingTranslations=o.pipe((0,Qn.U)(u=>this.compiler.compileTranslations(u,t)),sp(1),(0,Wi.q)(1)),this.loadingTranslations.subscribe({next:u=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},u),this.translations[t]):u,this.updateLangs(),this.pending=!1},error:u=>{this.pending=!1}}),o}setTranslation(t,o,u=!1){o=this.compiler.compileTranslations(o,t),this.translations[t]=(u||this.extend)&&this.translations[t]?Hr(this.translations[t],o):o,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(o=>{-1===this.langs.indexOf(o)&&this.langs.push(o)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,o,u){let p;if(o instanceof Array){let b={},x=!1;for(let N of o)b[N]=this.getParsedResult(t,N,u),nc(b[N])&&(x=!0);return x?pu(o.map(K=>nc(b[K])?b[K]:(0,In.of)(b[K]))).pipe((0,Qn.U)(K=>{let he={};return K.forEach((Ne,Je)=>{he[o[Je]]=Ne}),he})):b}if(t&&(p=this.parser.interpolate(this.parser.getValue(t,o),u)),void 0===p&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(p=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],o),u)),void 0===p){let b={key:o,translateService:this};void 0!==u&&(b.interpolateParams=u),p=this.missingTranslationHandler.handle(b)}return void 0!==p?p:o}get(t,o){if(!Zl(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Xo(u=>nc(u=this.getParsedResult(u,t,o))?u:(0,In.of)(u)));{let u=this.getParsedResult(this.translations[this.currentLang],t,o);return nc(u)?u:(0,In.of)(u)}}getStreamOnTranslationChange(t,o){if(!Zl(t)||!t.length)throw new Error('Parameter "key" required');return Ml(Au(()=>this.get(t,o)),this.onTranslationChange.pipe(mo(u=>{const p=this.getParsedResult(u.translations,t,o);return"function"==typeof p.subscribe?p:(0,In.of)(p)})))}stream(t,o){if(!Zl(t)||!t.length)throw new Error('Parameter "key" required');return Ml(Au(()=>this.get(t,o)),this.onLangChange.pipe(mo(u=>{const p=this.getParsedResult(u.translations,t,o);return nc(p)?p:(0,In.of)(p)})))}instant(t,o){if(!Zl(t)||!t.length)throw new Error('Parameter "key" required');let u=this.getParsedResult(this.translations[this.currentLang],t,o);if(nc(u)){if(t instanceof Array){let p={};return t.forEach((b,x)=>{p[t[x]]=t[x]}),p}return t}return u}set(t,o,u=this.currentLang){this.translations[u][t]=this.compiler.compile(o,u),this.updateLangs(),this.onTranslationChange.emit({lang:u,translations:this.translations[u]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG($i),e.LFG(ap),e.LFG(Uu),e.LFG(Gh),e.LFG(jh),e.LFG(Sa),e.LFG(ns),e.LFG(b0),e.LFG(Km))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Uo=(()=>{class n{constructor(t,o){this.translate=t,this._ref=o,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(t,o,u){let p=b=>{this.value=void 0!==b?b:t,this.lastKey=t,this._ref.markForCheck()};if(u){let b=this.translate.getParsedResult(u,t,o);nc(b.subscribe)?b.subscribe(p):p(b)}this.translate.get(t,o).subscribe(p)}transform(t,...o){if(!t||!t.length)return t;if(Vh(t,this.lastKey)&&Vh(o,this.lastParams))return this.value;let u;if(Zl(o[0])&&o.length)if("string"==typeof o[0]&&o[0].length){let p=o[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{u=JSON.parse(p)}catch(b){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${o[0]}`)}}else"object"==typeof o[0]&&!Array.isArray(o[0])&&(u=o[0]);return this.lastKey=t,this.lastParams=o,this.updateValue(t,u),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(p=>{this.lastKey&&p.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,u,p.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(p=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,u,p.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,u))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(oa,16),e.Y36(e.sBO,16))},n.\u0275pipe=e.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Jm=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:ap,useClass:gg},t.compiler||{provide:Uu,useClass:Nv},t.parser||{provide:Gh,useClass:mg},t.missingTranslationHandler||{provide:jh,useClass:$m},$i,{provide:ns,useValue:t.isolate},{provide:Sa,useValue:t.useDefaultLang},{provide:b0,useValue:t.extend},{provide:Km,useValue:t.defaultLanguage},oa]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:ap,useClass:gg},t.compiler||{provide:Uu,useClass:Nv},t.parser||{provide:Gh,useClass:mg},t.missingTranslationHandler||{provide:jh,useClass:$m},{provide:ns,useValue:t.isolate},{provide:Sa,useValue:t.useDefaultLang},{provide:b0,useValue:t.extend},{provide:Km,useValue:t.defaultLanguage},oa]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const Ym={login:{welcome:"Benvingut/da","welcome.subtitle":"Necessitem un m\xednim de dades per a poder moderar l'aplicaci\xf3.",username:"Nom d'usuari",email:"Correu electr\xf2nic",password:"Contrasenya",access:"Accedeix",accessGoogle:"Accedeix amb Google",notAccount:"Encara no tens compte?",register:"Registra't",registering:"Registre",doRegister:"Registrar-me",registerError:"Ja exiteix un compte amb aquest e-mail",error:"Usuari o contrasenya incorrectes",passwordRepeat:"Repeteix contrasenya",passwordsDifferentError:"La contrasenyes estan buides o no concideixen",passwordLengthError:"Les contrasenyes han de tenir un m\xednim de 6 car\xe0cters."},carousel:{step1:{title:"Administra",text:"Confecciona el teu llistat de productes i afegeix o actualitza en el moment que desitgis el preu que tingui a la botiga desitjada."},step2:{title:"Interactua",text:"Introdueix productes i preus de manera f\xe0cil i c\xf2moda mitjan\xe7ant la c\xe0mera del teu tel\xe8fon m\xf2bil i el ticket de compra."},step3:{title:"Analitza",text:"Visualitza i analitza les dades de botigues amb preus m\xe9s cars, m\xe9s barats i d'altres."},step4:{title:"Planifica i estalvia",text:"Configura i simula llistes de compra i l'aplicaci\xf3 et dir\xe0 on comprar cada producte."}},menu:{home:"Inici",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi",export:"Exportar",reset:"Reiniciar",exit:"Sortir"},home:{scan:"Escaneja",here:"Aqu\xed",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi"},user:{username:"Nom d'usuari",email:"Correu electr\xf2nic",role:"Rol",lastLogin:"\xdaltim login"},breadcrumb:{home:"Inici",shops:"Botigues",products:"Productes",analysis:"An\xe0lisi",shoppingCart:"Cistella de compra",alerts:"Alertes"},shops:{noShopAdded:"No hi ha botigues",noFavouriteShop:"No tens cap botiga preferida",onlyFavouriteShops:"Nom\xe9s favorites",searchPlaceholder:"Cerca per nom"},shop:{detail:"Detall",prices:"Preus",name:"Nom",favourite:"Favorita",createdBy:"Creada per",save:"Desa",close:"Tanca",productPrices:"Preus productes",noProductPrices:"Sense preus de productes"},products:{noProductAdded:"No hi ha productes",noFavouriteProduct:"No tens cap producte preferit",searchPlaceholder:"Cerca per nom, marca o codi de barres",onlyFavouriteProducts:"Nom\xe9s favorits",scan:"Escaneja"},product:{detail:"Detall",prices:"Preus",barcode:"Codi de barres / identificador",name:"Nom",brand:"Marca",favourite:"Favorit",createdBy:"Creat per",save:"Desa",close:"Tanca",pricesInShops:"Preus a botigues",noData:"Sense dades",characteristics:"Caracter\xedstiques",category:"Categoria",allergens:"Al\xb7l\xe8rgens",nutrientLevels:"Nivells nutrients",nutrients:{fat:"Greixos",salt:"Sal",saturedFat:"Greixos saturats",sugars:"Sucres"},nutriscore:{a:"Molt saludable",b:"Saludable",c:"Acceptable",d:"Poc saludable",e:"No saludable"},nova:{nova1:"Aliments naturals o m\xednimament processats",nova2:"Ingredients culinaris processats",nova3:"Aliments processats",nova4:"Aliments ultraprocessats"},ecoscore:{ecoscoreA:"Impacte ambiental molt baix",ecoscoreB:"Impacte ambiental baix",ecoscoreC:"Impacte ambiental moderat",ecoscoreD:"Impacte ambiental alt",ecoscoreE:"Impacte ambiental molt alt",ecoscoreUNKNOWN:"Impacte ambiental desconegut",ecoscoreNOTAPPLICABLE:"Impacte ambiental desconegut o no es pot calcular"}},shoppingCart:{title:"Cistella de compra optimitzada",description:"Aqui tens la teva cistella de la compra optimitzada per botigues i productes per aconseguir el m\xe0xim d'estalvi.",doEmpty:"Buidar la cistella",amountOptimized:"Total optimitzat",amountNoOptimized:"Total NO optimitzat",amountSaved:"Total estalviat",noProducts:"No hi ha productes a la cistella de la compra.",confirmEmpty:"Es buidar\xe0 tota la cistella de la compra. Continuar?",trick:{title:"Consell \xfatil",text:"Fes clic sobre qualsevol element de la llista per a marcar/desmarcar com a pendent de compra."}},shopStandings:{title:{cheap:"Preus m\xe9s barats",expensive:"Preus m\xe9s cars"},numProducts:"N\xba productes",shop:"Botiga",noDataEnough:"Encara no tens prou dades. Necessites preus d'un mateix producte en diferents botigues",noResults:"No hi ha resultats",possibleReasons:"Possibles causes",noProductsWithPrices:"No tens productes amb preus diferents segons la botiga",noFavouriteProducts:"No tens productes marcats com a favorits"},scanner:{init:"Inicialitzant l'esc\xe0ner",initError:"Hi ha hagut un error inicialitzant el l'esc\xe0ner",code:"Codi",name:"Nom",shop:"Botiga",product:"Producte",brand:"Marca",price:"Preu",productRegistered:"Producte ja enregistrat",productNotRegistered:"Producte no enregistrat",productUnknown:"Producte desconegut",productPriceSave:"Desa producte i preu",save:"Desa",instructions:"Posiciona el codi de barres del producte davant la c\xe0mera.",searchInstructions:"Cerca un producte mitjan\xe7ant l'escaneig del seu codi de barres per a poder registrar-li un preu en una botiga. En cas que el producte no existeixi, podr\xe0s f\xe0cilment registrar-lo al mateix temps que es desar\xe0 el preu desitjat.",productNotFound:"No s'ha trobat el producte.",searchingProduct:"Cercant producte...",scanner:"Esc\xe0ner",manual:"Manual",createUnknownProductConfirm:"Producte no registrat. Es crear\xe0 i es desar\xe0 el preu per a la botiga indicada.",addExistingShopProductConfirm:"Ja existeix el producte per a la botiga. Desitges actualitzar-lo amb data d'avui (el preu anterior s'afegir\xe0 a un historial)?"},alerts:{unreadInfoText:"Tens alertes sense llegir. Pots marcar-les com a llegides fent clic a la que desitgis."},commons:{back:"Torna",prices:"preus",price:"preu",noData:"No hi ha dades",loading:"Carregant...",onlyFavouriteProducts:"Nom\xe9s productes favorits",role:{admin:"Administrador",user:"Usuari"},alert:"Alerta",alerts:"Alertes",copiedToClipboard:"S'ha copiat al porta-retalls",levels:{high:"Alt",moderate:"Moderat",low:"Baix"}}},Vy={login:{welcome:"Welcome","welcome.subtitle":"We need a minimum of data to moderate the application.",username:"Username",email:"E-mail",password:"Password",access:"Access",accessGoogle:"Access with Google",notAccount:"Don't have an account yet?",register:"Sign up",registering:"Sign up",doRegister:"Register me",registerError:"An account already exists with this email",error:"Incorrect username or password.",passwordRepeat:"Password repeat",passwordsDifferentError:"Passwords are empty or do not match",passwordLengthError:"Passwords must be at least 6 characters long."},carousel:{step1:{title:"Administer",text:"Make your product list and add or update it at the time you want the price you have in the desired store."},step2:{title:"Interact",text:"Enter products and prices easily and conveniently with your mobile phone's camera and purchase ticket."},step3:{title:"Analyze",text:"View and analyze store data at more expensive, cheaper and other prices."},step4:{title:"Plan and save",text:"Set up and simulate shopping lists and the app will tell you where to buy each product."}},menu:{home:"Home",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis",export:"Export",reset:"Reset",exit:"Exit"},home:{scan:"Scan",here:"Here",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis"},user:{username:"Username",email:"E-mail",role:"Role",lastLogin:"Last login"},breadcrumb:{home:"Home",shops:"Shops",products:"Products",analysis:"Analysis",shoppingCart:"Shopping cart",alerts:"Alerts"},shops:{noShopAdded:"No shops available",noFavouriteShop:"No favourite shops",onlyFavouriteShops:"Only favourites",searchPlaceholder:"Search by name"},shop:{detail:"Detail",prices:"Prices",name:"Name",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",productPrices:"Product prices",noProductPrices:"There are no product prices"},products:{noProductAdded:"No products available",noFavouriteProduct:"No favourite products",searchPlaceholder:"Search by name, brand or barcode",onlyFavouriteProducts:"Only favourites",scan:"Scan"},product:{detail:"Detail",prices:"Prices",barcode:"Barcode / identifier",name:"Name",brand:"Branch",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",pricesInShops:"Prices in shops",noData:"No data",characteristics:"Characteristics",category:"Category",allergens:"Allergens",nutrientLevels:"Nutrient levels",nutrients:{fat:"Fat",salt:"Salt",saturedFat:"Satured fat",sugars:"Sugars"},nutriscore:{a:"Very healthy",b:"Healthy",c:"Acceptable",d:"Unhealthy",e:"Not healthy"},nova:{nova1:"Natural or minimally processed foods",nova2:"Processed culinary ingredients",nova3:"Processed foods",nova4:"Ultra-processed foods"},ecoscore:{ecoscoreA:"Very low environmental impact",ecoscoreB:"Low environmental impact",ecoscoreC:"Moderate environmental impact",ecoscoreD:"High environmental impact",ecoscoreE:"Very high environmental impact",ecoscoreUNKNOWN:"Unknown environmental impact",ecoscoreNOTAPPLICABLE:"Environmental impact unknown or cannot be calculated"}},shoppingCart:{title:"Optimized shopping cart",description:"Here is your shopping cart optimized for stores and products for maximum savings.",doEmpty:"Empty cart",amountOptimized:"Total optimized",amountNoOptimized:"Total NOT optimized",amountSaved:"Total saved",noProducts:"There are no products in the shopping cart.",confirmEmpty:"The entire shopping cart will be emptied. Continue?",trick:{title:"Useful tip",text:"Click on any item in the list to mark / unmark as pending purchase."}},shopStandings:{title:{cheap:"Cheaper prices",expensive:"More expensive prices"},numProducts:"Number of products",shop:"Shop",noDataEnough:"Not enough data yet. You need different prices of prducts in different shops.",noResults:"No results",possibleReasons:"Possible causes",noProductsWithPrices:"You do not have products with different prices depending on the store",noFavouriteProducts:"You have no products marked as favorites"},scanner:{init:"Initializing scanner",initError:"There was an error initializing the scanner",code:"Code",name:"Name",shop:"Shop",product:"Product",brand:"Brand",price:"Price",productRegistered:"Registered product",productNotRegistered:"Product not registered",productUnknown:"Unknown product",productPriceSave:"Save product and price",save:"Save",instructions:"Position the product barcode in front of the camera.",searchInstructions:"Search for a product by scanning its barcode so you can record a price in a store. If the product does not exist, you can easily register it at the same time as the desired price is saved.",productNotFound:"Product not found.",searchingProduct:"Searching product...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Unregistered product. The price for the indicated shop will be created and saved.",addExistingShopProductConfirm:"The product for the store already exists. Do you want to update it to today's date (the previous price will be added to a history)?"},alerts:{unreadInfoText:"You have unread alerts. You can mark them as read by clicking on the one you want."},commons:{back:"Back",prices:"prices",price:"price",noData:"No data",loading:"Loading...",onlyFavouriteProducts:"Favourite products only",role:{admin:"Administrator",user:"User"},alert:"Alert",alerts:"Alerts",copiedToClipboard:"Copied to clipboard",levels:{high:"High",moderate:"Moderate",low:"Low"}}},aC={login:{welcome:"Bienvenido/a","welcome.subtitle":"Necesitamos un m\xednimo de datos para poder moderar la aplicaci\xf3n.",username:"Nombre de usuario",email:"Correo electr\xf3nico",password:"Contrase\xf1a",access:"Accede",accessGoogle:"Accede con Google",notAccount:"\xbfA\xfan no tienes cuenta?",register:"Reg\xedstrate",registering:"Registro",doRegister:"Registrarme",registerError:"Ya exite una cuenta con el email indicado",error:"Usuario o contrase\xf1a incorrectos.",passwordRepeat:"Repetir contrase\xf1a",passwordsDifferentError:"La contrase\xf1as estan vac\xedas o no conciden",passwordLengthError:"Las contrase\xf1as deben tener un m\xednimo de 6 caracteres."},carousel:{step1:{title:"Administra",text:"Confecciona tu listado de productos y a\xf1ade o actualiza en el momento que desees el precio que tenga en la tienda deseada."},step2:{title:"Interact\xfaa",text:"Introduce productos y precios de forma f\xe1cil y c\xf3moda mediante la c\xe1mara de tu tel\xe9fono m\xf3vil y el ticket de compra."},step3:{title:"Analiza",text:"Visualiza y analiza los datos de tiendas con precios m\xe1s caros, m\xe1s baratos y otros."},step4:{title:"Planifica y ahorra",text:"Configura y simula listas de compra y la aplicaci\xf3n te dir\xe1 d\xf3nde comprar cada producto."}},menu:{home:"Inicio",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis",export:"Exportar",reset:"Reiniciar",exit:"Salir"},home:{scan:"Escanea",here:"Aqu\xed",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis"},user:{username:"Nombre de usuario",email:"Correo electr\xf3nico",role:"Rol",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Inicio",shops:"Tiendas",products:"Productos",analysis:"An\xe1lisis",shoppingCart:"Cesta de compra",alerts:"Alertas"},shops:{noShopAdded:"No hay tiendas",noFavouriteShop:"No tienes ninguna tienda favorita",onlyFavouriteShops:"Solamente favoritas",searchPlaceholder:"Busca por nombre"},shop:{detail:"Detalle",prices:"Precios",name:"Nombre",favourite:"Favorita",createdBy:"Creada por",save:"Guarda",close:"Cierra",productPrices:"Precios productos",noProductPrices:"No hay precios de productos"},products:{noProductAdded:"No hay productos",noFavouriteProduct:"No tienes ning\xfan producto favorito",searchPlaceholder:"Busca por nombre, marca o c\xf3digo de barras",onlyFavouriteProducts:"Solamente favoritos",scan:"Escanear"},product:{detail:"Detalle",prices:"Precios",barcode:"C\xf3digo de barras / identificador",name:"Nombre",brand:"Marca",favourite:"Favorito",createdBy:"Creado por",save:"Guarda",close:"Cierra",pricesInShops:"Precios en tiendas",noData:"Sin datos",characteristics:"Caracter\xedsticas",category:"Categor\xeda",allergens:"Al\xe9rgenos",nutrientLevels:"Niveles nutrientes",nutrients:{fat:"Grasas",salt:"Sal",saturedFat:"Grasas saturadas",sugars:"Az\xfacares"},nutriscore:{a:"Muy saludable",b:"Saludable",c:"Aceptable",d:"Poco saludable",e:"No saludable"},nova:{nova1:"Alimentos naturales o m\xednimamente procesados",nova2:"Ingredientes culinarios procesados",nova3:"Alimentos procesados",nova4:"Alimentos ultraprocesados"},ecoscore:{ecoscoreA:"Impacto ambiental muy bajo",ecoscoreB:"Impacto ambiental bajo",ecoscoreC:"Impacto ambiental moderado",ecoscoreD:"Impacto ambiental alto",ecoscoreE:"Impacto ambiental muy alto",ecoscoreUNKNOWN:"Impacto ambiental desconocido",ecoscoreNOTAPPLICABLE:"Impacto ambiental desconocido o no puede calcularse"}},shoppingCart:{title:"Cesta de compra optimizada",description:"Aqu\xed tienes tu cesta de la compra optimizada para tiendas y productos para conseguir el m\xe1ximo ahorro.",doEmpty:"Vaciar la cesta",amountOptimized:"Total optimizado",amountNoOptimized:"Total NO optimizado",amountSaved:"Total ahorrado",noProducts:"No hay productos en la cesta.",confirmEmpty:"Se vaciar\xe1 toda la cesta de la compra. \xbfContinuar?",trick:{title:"Consejo \xfatil",text:"Haz clic sobre cualquier elemento de la lista para marcar/desmarcar como pendiente de compra."}},shopStandings:{title:{cheap:"Precios m\xe1s baratos",expensive:"Precios m\xe1s caros"},numProducts:"N\xba productos",shop:"Tienda",noDataEnough:"Todav\xeda no hay suficientes datos. Necesitas precios de un mismo producto en diferentes tiendas",noResults:"No hay resultados",possibleReasons:"Posibles causas",noProductsWithPrices:"No tienes productos con precios diferentes seg\xfans la tienda",noFavouriteProducts:"No tienes productos marcados com a favoritos"},scanner:{init:"Inicializando scanner",initError:"Ha habido un error inicializando el scanner",code:"C\xf3digo",name:"Nombre",shop:"Tienda",product:"Producto",brand:"Marca",price:"Precio",productRegistered:"Producto ya registrado",productNotRegistered:"Producto no registrado",productUnknown:"Producto desconocido",productPriceSave:"Guarda producto y precio",save:"Guarda",instructions:"Sit\xfaa el c\xf3digo de barras del producto delante de la c\xe1mara.",searchInstructions:"Busca un producto mediante el escaneo de su c\xf3digo de barras para poder registrarle un precio en una tienda. En caso de que el producto no exista, podr\xe1s f\xe1cilmente registrarlo a la vez que se guardar\xe1 el precio deseado.",productNotFound:"No se ha encontrado el producto.",searchingProduct:"Buscando producto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producto no registrado. Se crear\xe1 y se guardar\xe1 el precio para la tienda indicada.",addExistingShopProductConfirm:"Ya existe el producto para la tienda. Deseas actualizarlo con fecha de hoy (el precio anterior se a\xf1adir\xe1 a un historial)?"},alerts:{unreadInfoText:"Tienes alertas sin leer. Puedes marcarlas como le\xeddas haciendo clic en la que desees."},commons:{back:"Volver",prices:"precios",price:"precio",noData:"No hay datos",loading:"Cargando...",onlyFavouriteProducts:"Solamente productos favoritos",role:{admin:"Administrador",user:"Usuario"},alert:"Alerta",alerts:"Alertas",copiedToClipboard:"Se ha copiado al portapapeles",levels:{high:"Alto",moderate:"Moderado",low:"Bajo"}}},Ki={login:{welcome:"Bem vindo","welcome.subtitle":"Precisamos de um m\xednimo de dados para moderar o aplicativo.",username:"Nome do usu\xe1rio",email:"O email",password:"Senha",access:"Acesso",accessGoogle:"Acesse com Google",notAccount:"N\xe3o tem uma conta ainda?",register:"Inscrever-se",registering:"Registro",doRegister:"Registre-me",registerError:"J\xe1 existe uma conta com este e-mail",error:"Usu\xe1rio ou senha incorretos.",passwordRepeat:"Repita a senha",passwordsDifferentError:"As senhas est\xe3o vazias ou n\xe3o correspondem.",passwordLengthError:"As senhas devem ter pelo menos 6 caracteres."},carousel:{step1:{title:"Administra",text:"Fa\xe7a a sua lista de produtos e adicione-a ou atualize-a na hora que desejar o pre\xe7o que tem na loja pretendida."},step2:{title:"Interagir",text:"Insira produtos e pre\xe7os de forma f\xe1cil e conveniente com a c\xe2mera do seu celular e compre o ticket."},step3:{title:"Analisar",text:"Visualize e analise os dados da loja a pre\xe7os mais caros, mais baratos e outros."},step4:{title:"Planeje e economize",text:"Configure e simule listas de compras e o aplicativo informar\xe1 onde comprar cada produto."}},menu:{home:"Lar",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise",export:"Exportar",reset:"Reiniciar",exit:"Sair"},home:{scan:"Varredura",here:"Aqui",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise"},user:{username:"Nome do usu\xe1rio",email:"O email",role:"Fun\xe7\xe3o",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Lar",shops:"Lojas",products:"Produtos",analysis:"An\xe1lise",shoppingCart:"Carrinho de compras",alerts:"Alertas"},shops:{noShopAdded:"N\xe3o h\xe1 lojas",noFavouriteShop:"Voc\xea n\xe3o tem loja favorita",onlyFavouriteShops:"Apenas favoritos",searchPlaceholder:"Procura por nome"},shop:{detail:"Detalhe",prices:"Pre\xe7os",name:"Nome",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",productPrices:"Pre\xe7os dos produtos",noProductPrices:"N\xe3o h\xe1 pre\xe7os de produtos"},products:{noProductAdded:"Nenhum produto",noFavouriteProduct:"Voc\xea n\xe3o tem produtos favoritos",searchPlaceholder:"Pesquise por nome, marca ou c\xf3digo de barras",onlyFavouriteProducts:"Apenas favoritos",scan:"Varredura"},product:{detail:"Detalhe",prices:"Pre\xe7os",barcode:"C\xf3digo de barras / identificador",name:"Nome",brand:"Marca",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",pricesInShops:"Pre\xe7os nas lojas",noData:"Sem dados",characteristics:"Caracter\xedsticas",category:"Categoria",allergens:"Al\xe9rgenos",nutrientLevels:"N\xedveis de nutrientes",nutrients:{fat:"Gordura",salt:"Sal",saturedFat:"Gordura saturada",sugars:"A\xe7\xfacares"},nutriscore:{a:"Muito saud\xe1vel",b:"Saud\xe1vel",c:"Aceit\xe1vel",d:"Pouco saud\xe1vel",e:"N\xe3o saud\xe1vel"},nova:{nova1:"Alimentos naturais ou minimamente processados",nova2:"Ingredientes culin\xe1rios processados",nova3:"Alimentos processados",nova4:"Alimentos ultraprocessados"},ecoscore:{ecoscoreA:"Impacto ambiental muito baixo",ecoscoreB:"Baixo impacto ambiental",ecoscoreC:"Impacto ambiental moderado",ecoscoreD:"Alto impacto ambiental",ecoscoreE:"Impacto ambiental muito alto",ecoscoreUNKNOWN:"Impacto ambiental desconhecido",ecoscoreNOTAPPLICABLE:"Impacto ambiental desconhecido ou n\xe3o pode ser calculado"}},shoppingCart:{title:"Carrinho de compras otimizado",description:"Aqui est\xe1 seu carrinho de compras otimizado para lojas e produtos para economia m\xe1xima.",doEmpty:"Esvazie a cesta",amountOptimized:"Total otimizado",amountNoOptimized:"Total N\xc3O otimizado",amountSaved:"Total salvo",noProducts:"N\xe3o h\xe1 produtos no carrinho de compras.",confirmEmpty:"Todo o carrinho de compras ser\xe1 esvaziado. Continuar?",trick:{title:"Dica \xfatil",text:"Clique em qualquer item da lista para marcar/desmarcar como compra pendente."}},shopStandings:{title:{cheap:"Pre\xe7os mais baratos",expensive:"Pre\xe7os mais caros"},numProducts:"N\xfamero de produtos",shop:"Loja",noDataEnough:"Voc\xea ainda n\xe3o tem dados suficientes. Voc\xea precisa de pre\xe7os para o mesmo produto em diferentes lojas",noResults:"Sem resultados",possibleReasons:"Causas poss\xedveis",noProductsWithPrices:"Voc\xea n\xe3o tem produtos com pre\xe7os diferentes dependendo da loja",noFavouriteProducts:"Voc\xea n\xe3o tem produtos marcados como favoritos"},scanner:{init:"Inicializando o scanner",initError:"Ocorreu um erro ao inicializar o scanner",code:"C\xf3digo",name:"Nome",shop:"Loja",product:"Prouto",brand:"Marca",price:"Pre\xe7o",productRegistered:"Produto j\xe1 registrado",productNotRegistered:"Produto n\xe3o registrado",productUnknown:"Produto desconhecido",productPriceSave:"Salvar produto e pre\xe7o",save:"Salvar",instructions:"Posicione o c\xf3digo de barras do produto na frente da c\xe2mera.",searchInstructions:"Pesquise um produto digitalizando seu c\xf3digo de barras para registrar um pre\xe7o em uma loja. Se o produto n\xe3o existir, voc\xea pode registr\xe1-lo facilmente ao mesmo tempo em que o pre\xe7o desejado \xe9 salvo.",productNotFound:"Produto n\xe3o encontrado.",searchingProduct:"Procurando produto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Produto n\xe3o registrado. O pre\xe7o da loja indicada ser\xe1 criado e salvo.",addExistingShopProductConfirm:"O produto para a loja j\xe1 existe. Deseja atualiz\xe1-lo com a data de hoje (o pre\xe7o anterior ser\xe1 adicionado a um hist\xf3rico)?"},alerts:{unreadInfoText:"Voc\xea tem alertas n\xe3o lidos. Voc\xea pode marc\xe1-los como lidos clicando no que deseja."},commons:{back:"Voltar",prices:"pre\xe7os",price:"pre\xe7o",noData:"Sem dados",loading:"Carregando...",onlyFavouriteProducts:"Apenas produtos favoritos",role:{admin:"Administrador",user:"Utilizador"},alert:"Alerta",alerts:"Alertas",copiedToClipboard:"Copiado para a \xe1rea de transfer\xeancia",levels:{high:"Alto",moderate:"Moderado",low:"Baixo"}}},Gy={login:{welcome:"Bienvenue","welcome.subtitle":"Nous avons besoin d'un minimum de donn\xe9es pour mod\xe9rer l'application.",username:"Nom d'utilisateur",email:"E-mail",password:"Mot de passe",access:"S'identifier",accessGoogle:"Connectez-vous avec Google",notAccount:"Vous n'avez pas encore de compte?",register:"S'inscrire",registering:"S'inscrire",doRegister:"Inscrivez-moi",registerError:"Un compte existe d\xe9j\xe0 avec cet email",error:"Identifiant ou mot de passe incorrect",passwordRepeat:"R\xe9p\xe9ter le mot de passe",passwordsDifferentError:"Les mots de passe sont vides ou ne correspondent pas",passwordLengthError:"Les mots de passe doivent comporter au moins 6 caract\xe8res."},carousel:{step1:{title:"Administrer",text:"Faites votre liste de produits et ajoutez-la ou mettez-la \xe0 jour au moment o\xf9 vous voulez le prix que vous avez dans le magasin souhait\xe9."},step2:{title:"Interagir",text:"Entrez les produits et les prix facilement et commod\xe9ment avec l'appareil photo de votre t\xe9l\xe9phone portable et achetez un ticket"},step3:{title:"Analyser",text:"Affichez et analysez les donn\xe9es des magasins \xe0 des prix plus chers, moins chers et autres."},step4:{title:"Planifiez et \xe9conomisez",text:"Configurez et simulez des listes de courses et l'application vous indiquera o\xf9 acheter chaque produit."}},menu:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",alerts:"Alertes",analysis:"Analyse",export:"Exportation",reset:"Red\xe9marrage",exit:"Sortir"},home:{scan:"Analyse/scan",here:"Ici",shops:"magasins",products:"produits",alerts:"Alertes",analysis:"Analyse"},user:{username:"Nom d'utilisateur",email:"E-mail",role:"R\xf4le",lastLogin:"Dernier acc\xe8s"},breadcrumb:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",analysis:"Analyse",shoppingCart:"Panier",alerts:"Alertes"},shops:{noShopAdded:"Il n'y a pas de magasins",noFavouriteShop:"Vous n'avez pas de magasin pr\xe9f\xe9r\xe9",onlyFavouriteShops:"Favoris uniquement",searchPlaceholder:"Rechercher par nom"},shop:{detail:"D\xe9tail",prices:"Des prix",name:"Nom",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",productPrices:"Prix \u200b\u200bdes produits",noProductPrices:"Pas de prix des produits"},products:{noProductAdded:"Aucun produit",noFavouriteProduct:"Vous n'avez pas de produits favoris",searchPlaceholder:"Rechercher par nom, marque ou code-barres",onlyFavouriteProducts:"Favoris uniquement",scan:"Analyse/scan"},product:{detail:"D\xe9tail",prices:"Des prix",barcode:"Code-barres / identifiant",name:"Nom",brand:"Marque",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",pricesInShops:"Prix \u200b\u200ben magasin",noData:"Pas de donn\xe9es",characteristics:"caract\xe9ristiques",category:"Cat\xe9gorie",allergens:"Allerg\xe8nes",nutrientLevels:"Niveaux de nutriments",nutrients:{fat:"Graisse",salt:"Sel",saturedFat:"Gras satur\xe9",sugars:"Sucres"},nutriscore:{a:"En tr\xe8s bonne sant\xe9",b:"En bonne sant\xe9",c:"Acceptable",d:"Mauvais pour la sant\xe9",e:"Pas bon pour la sant\xe9"},nova:{nova1:"Aliments naturels ou peu transform\xe9s",nova2:"Ingr\xe9dients culinaires transform\xe9s",nova3:"Aliments transform\xe9s",nova4:"Aliments ultra-transform\xe9s"},ecoscore:{ecoscoreA:"Tr\xe8s faible impact environnemental",ecoscoreB:"Faible impact environnemental",ecoscoreC:"Impact environnemental mod\xe9r\xe9",ecoscoreD:"Impact environnemental \xe9lev\xe9",ecoscoreE:"Impact environnemental tr\xe8s \xe9lev\xe9",ecoscoreUNKNOWN:"Impact environnemental inconnu",ecoscoreNOTAPPLICABLE:"Impact environnemental inconnu ou non calculable"}},shoppingCart:{title:"Panier optimis\xe9",description:"Voici votre panier optimis\xe9 pour les magasins et les produits pour un maximum d'\xe9conomies.",doEmpty:"Vider le panier",amountOptimized:"Total optimis\xe9",amountNoOptimized:"Total NON optimis\xe9",amountSaved:"Total \xe9conomis\xe9",noProducts:"Il n'y a aucun produit dans votre panier.",confirmEmpty:"Le panier entier sera vid\xe9. Continuez?",trick:{title:"Conseil utile",text:"Cliquez sur n'importe quel \xe9l\xe9ment de la liste pour marquer / d\xe9cocher comme achat en attente."}},shopStandings:{title:{cheap:"Des prix moins chers",expensive:"Des prix plus chers"},numProducts:"Nombre de produits",shop:"Magasin",noDataEnough:"Vous n'avez pas encore assez de donn\xe9es. Vous avez besoin de prix pour le m\xeame produit dans diff\xe9rents magasins",noResults:"Aucun r\xe9sultat",possibleReasons:"Causes possibles",noProductsWithPrices:"Vous n'avez pas de produits avec des prix diff\xe9rents selon le magasin",noFavouriteProducts:"Vous n'avez aucun produit marqu\xe9 comme favori"},scanner:{init:"Initialisation du scanner",initError:"Une erreur s'est produite lors de l'initialisation du scanner",code:"Code",name:"Nom",shop:"Magasin",product:"Produit",brand:"Marque",price:"Prix",productRegistered:"Produit d\xe9j\xe0 enregistr\xe9",productNotRegistered:"Produit non enregistr\xe9",productUnknown:"Produit inconnu",productPriceSave:"Enregistrer produit et prix",save:"Enregistrer",instructions:"Positionnez le code-barres du produit devant la cam\xe9ra.",searchInstructions:"Recherchez un produit en scannant son code-barres pour pouvoir enregistrer un prix dans un magasin. Si le produit n'existe pas, vous pouvez facilement l'enregistrer en m\xeame temps que le prix souhait\xe9 est enregistr\xe9.",productNotFound:"Produit non trouv\xe9.",searchingProduct:"Recherche de produit...",scanner:"Scanner",manual:"Manuel",createUnknownProductConfirm:"Produit non enregistr\xe9. Le prix du magasin indiqu\xe9 sera cr\xe9\xe9 et enregistr\xe9.",addExistingShopProductConfirm:"Le produit pour le magasin existe d\xe9j\xe0. Voulez-vous le mettre \xe0 jour avec la date d'aujourd'hui (le prix pr\xe9c\xe9dent sera ajout\xe9 \xe0 un historique)\xa0?"},alerts:{unreadInfoText:"Vous avez des alertes non lues. Vous pouvez les marquer comme lus en cliquant sur celui que vous voulez."},commons:{back:"Revenir",prices:"prix",price:"prix",noData:"Il n'y a pas de donn\xe9es",loading:"Chargement ...",onlyFavouriteProducts:"Produits favoris uniquement",role:{admin:"Administrateur",user:"Utilisateur"},alert:"Alerte",alerts:"Alertes",copiedToClipboard:"Copi\xe9 dans le presse-papier",levels:{high:"Haut",moderate:"Mod\xe9r\xe9",low:"Bas"}}};let Qm=(()=>{class n{constructor(t){this.translate=t,this.languages=["ca","es","en","pt","fr"]}getLanguages(){return this.languages}getTranslationData(){return this.translationData}loadTranslations(){return this.translationData=[{name:"Catal\xe0",language:"ca",translations:Ym,imageUrl:"https://www.buenacarta.com/images/idiomas/ca.png"},{name:"Castellano",language:"es",translations:aC,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Spain_flag_icon.svg/1200px-Spain_flag_icon.svg.png"},{name:"English",language:"en",translations:Vy,imageUrl:"https://speechling.com/static/images/flags/uk.png"},{name:"Portugu\xe9s",language:"pt",translations:Ki,imageUrl:"https://intertradoc.com/wp-content/uploads/2015/05/portuguese.png"},{name:"Fran\xe7ais",language:"fr",translations:Gy,imageUrl:"https://www.jensen-localization.com/wp-content/uploads/2019/03/France.png"}],this.translationData.forEach(t=>{this.translate.setTranslation(t.language,t.translations)}),(0,In.of)(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(oa))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _o=O(655),C0=O(127),cp=O(6451),Xm=O(5363);function _g(n,r){return(0,ya.m)(r)?mo(()=>n,r):mo(()=>n)}var w0=O(9468),T0=O(5813),zl=O(2011),Hy=O(7128);const qy=new e.OlP("angularfire2.auth.use-emulator"),Zy=new e.OlP("angularfire2.auth.settings"),E0=new e.OlP("angularfire2.auth.tenant-id"),Hh=new e.OlP("angularfire2.auth.langugage-code"),zy=new e.OlP("angularfire2.auth.use-device-language"),ju=new e.OlP("angularfire.auth.persistence");let lp=(()=>{class n{constructor(t,o,u,p,b,x,N,K,he,Ne,Je,We){const ft=new si.x,yt=(0,In.of)(void 0).pipe((0,Xm.Q)(b.outsideAngular),mo(()=>p.runOutsideAngular(()=>O.e(887).then(O.bind(O,5887)))),(0,Qn.U)(()=>(0,zl.on)(t,p,o)),(0,Qn.U)($t=>((n,r,t,o,u,p,b,x)=>(0,zl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const N=r.runOutsideAngular(()=>n.auth());if(t&&N.useEmulator(...t),o&&(N.tenantId=o),N.languageCode=u,p&&N.useDeviceLanguage(),b)for(const[K,he]of Object.entries(b))N.settings[K]=he;return x&&N.setPersistence(x),N},[t,o,u,p,b,x]))($t,p,x,K,he,Ne,N,Je)),sp({bufferSize:1,refCount:!1}));if(function Zt(n){return"server"===n}(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,In.of)(null);else{yt.pipe(_t()).subscribe();const un=yt.pipe(mo(Sn=>Sn.getRedirectResult().then(fr=>fr,()=>null)),T0.iC,sp({bufferSize:1,refCount:!1})),bn=yt.pipe(mo(Sn=>new xi.y(fr=>({unsubscribe:p.runOutsideAngular(()=>Sn.onAuthStateChanged(gr=>fr.next(gr),gr=>fr.error(gr),()=>fr.complete()))})))),lr=yt.pipe(mo(Sn=>new xi.y(fr=>({unsubscribe:p.runOutsideAngular(()=>Sn.onIdTokenChanged(gr=>fr.next(gr),gr=>fr.error(gr),()=>fr.complete()))}))));this.authState=un.pipe(_g(bn),(0,w0.R)(b.outsideAngular),(0,Xm.Q)(b.insideAngular)),this.user=un.pipe(_g(lr),(0,w0.R)(b.outsideAngular),(0,Xm.Q)(b.insideAngular)),this.idToken=this.user.pipe(mo(Sn=>Sn?(0,cr.D)(Sn.getIdToken()):(0,In.of)(null))),this.idTokenResult=this.user.pipe(mo(Sn=>Sn?(0,cr.D)(Sn.getIdTokenResult()):(0,In.of)(null))),this.credential=(0,cp.T)(un,ft,this.authState.pipe(pi(Sn=>!Sn))).pipe((0,Qn.U)(Sn=>(null==Sn?void 0:Sn.user)?Sn:null),(0,w0.R)(b.outsideAngular),(0,Xm.Q)(b.insideAngular))}return(0,zl.pX)(this,yt,p,{spy:{apply:($t,un,bn)=>{($t.startsWith("signIn")||$t.startsWith("createUser"))&&bn.then(lr=>ft.next(lr))}}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(zl.Dh),e.LFG(zl.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(T0.HU),e.LFG(qy,8),e.LFG(Zy,8),e.LFG(E0,8),e.LFG(Hh,8),e.LFG(zy,8),e.LFG(ju,8),e.LFG(Hy.nm,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),up=(()=>{class n{constructor(t){this.afauth=t}login(t,o){return(0,_o.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithEmailAndPassword(t,o)}catch(u){return console.log("Login error",u),null}})}loginWithGoogle(t,o){return(0,_o.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithPopup(new C0.Z.auth.GoogleAuthProvider)}catch(u){return console.log("Logi with Google error",u),null}})}register(t,o){return(0,_o.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.createUserWithEmailAndPassword(t,o)}catch(u){return console.log("Register error",u),null}})}logout(){this.afauth.signOut()}getLoggedUser(){return this.afauth.authState}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(lp))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lv=(()=>{class n{constructor(){this.shops=[],this.products=[],this.shopsProducts=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backoffice-dashboard"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},decls:8,vars:8,consts:[[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"ul")(2,"li"),e._uU(3),e.ALo(4,"number"),e.qZA(),e.TgZ(5,"li"),e._uU(6),e.ALo(7,"number"),e.qZA()()()),2&t&&(e.xp6(3),e.hij("Botigues: ",e.xi3(4,2,o.shops.length,"1.0-2"),""),e.xp6(3),e.hij("Productes: ",e.xi3(7,5,o.products.length,"1.0-2"),""))},pipes:[M],styles:[""]}),n})();var vg=O(1144);const yg=["addListener","removeListener"],Wy=["addEventListener","removeEventListener"],ol=["on","off"];function Li(n,r,t,o){if((0,ya.m)(t)&&(o=t,t=void 0),o)return Li(n,r,t).pipe(Mc(o));const[u,p]=function Cg(n){return(0,ya.m)(n.addEventListener)&&(0,ya.m)(n.removeEventListener)}(n)?Wy.map(b=>x=>n[b](r,x,t)):function bg(n){return(0,ya.m)(n.addListener)&&(0,ya.m)(n.removeListener)}(n)?yg.map(Vu(n,r)):function t_(n){return(0,ya.m)(n.on)&&(0,ya.m)(n.off)}(n)?ol.map(Vu(n,r)):[];if(!u&&(0,vg.z)(n))return(0,wi.z)(b=>Li(b,r,t))((0,It.Xf)(n));if(!u)throw new TypeError("Invalid event target");return new xi.y(b=>{const x=(...N)=>b.next(1<N.length?N:N[0]);return u(x),()=>p(x)})}function Vu(n,r){return t=>o=>n[t](r,o)}var qh=O(4986);function sl(n,r=qh.z){return(0,io.e)((t,o)=>{let u=null,p=null,b=null;const x=()=>{if(u){u.unsubscribe(),u=null;const K=p;p=null,o.next(K)}};function N(){const K=b+n,he=r.now();if(he<K)return u=this.schedule(void 0,K-he),void o.add(u);x()}t.subscribe((0,_r.x)(o,K=>{p=K,b=r.now(),u||(u=r.schedule(N,n),o.add(u))},()=>{x(),o.complete()},void 0,()=>{p=u=null}))})}function wc(n,r=vd.y){return n=null!=n?n:D0,(0,io.e)((t,o)=>{let u,p=!0;t.subscribe((0,_r.x)(o,b=>{const x=r(b);(p||!n(u,x))&&(p=!1,u=x,o.next(b))}))})}function D0(n,r){return n===r}var rs=O(2940);const al=["nameinput"];function wg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"i",15),e.NdJ("click",function(){e.CHM(t);const u=e.oxw(2).$implicit;return e.oxw().updateShop(u)}),e.qZA()}}function n_(n,r){1&n&&e._UZ(0,"i",16)}function dp(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",11),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().$implicit.name=u}),e.qZA()(),e.TgZ(4,"td")(5,"input",11),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().$implicit.imageUrl=u}),e.qZA()(),e.TgZ(6,"td"),e._UZ(7,"img",12),e.qZA(),e.TgZ(8,"td"),e.YNc(9,wg,1,0,"i",13),e.YNc(10,n_,1,0,"i",14),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(3),e.Q6J("value",t.name)("ngModel",t.name),e.xp6(2),e.Q6J("value",t.imageUrl)("ngModel",t.imageUrl),e.xp6(2),e.Q6J("src",t.imageUrl.length>0?t.imageUrl:o.DEFAULT_IMAGE_URL,e.LSH),e.xp6(2),e.Q6J("ngIf",!o.updatingShop||o.updatingShop.id!==t.id),e.xp6(1),e.Q6J("ngIf",o.updatingShop&&o.updatingShop.id===t.id)}}function Tg(n,r){if(1&n&&(e.ynx(0),e.YNc(1,dp,11,7,"ng-container",10),e.BQk()),2&n){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.matchesSearch(t))}}let S0=(()=>{class n{constructor(t,o,u){this.shopService=t,this.spinner=o,this.translateService=u,this.shops=[],this.onShopSortEmitter=new e.vpe,this.searchConfig={name:""},this.sortBy="name",this.sortDir="ASC",this.DEFAULT_IMAGE_URL=rs.T}matchesSearch(t){return t.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>=0}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onShopSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateShop(t){console.log("updateShop()",t),t.name.length>0&&(0===t.imageUrl.length&&(t.imageUrl=rs.T),this.updatingShop=t,this.spinner.show(),this.shopService.updateShop(t).subscribe(()=>{this.updatingShop=void 0,this.spinner.hide()}))}export(){const t=JSON.stringify(this.shops);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngAfterViewInit(){Li(this.nameinput.nativeElement,"keyup").pipe(pi(Boolean),sl(500),wc(),(0,ei.b)(t=>{console.log(t),this.searchConfig.name=t.target.value})).subscribe()}checkShopsImages(){this.shops.map(t=>{t.imageUrl=t.imageUrl===rs.T?"":t.imageUrl})}ngOnInit(){this.checkShopsImages()}ngOnChanges(t){this.checkShopsImages()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ns.d),e.Y36(ia),e.Y36(oa))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backoffice-shops"]],viewQuery:function(t,o){if(1&t&&e.Gf(al,5),2&t){let u;e.iGM(u=e.CRH())&&(o.nameinput=u.first)}},inputs:{shops:"shops"},outputs:{onShopSortEmitter:"onShopSortEmitter"},features:[e.TTD],decls:23,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","4"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return o.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return o.sort("name")}),e._uU(11,"Nom"),e.qZA(),e._UZ(12,"br")(13,"input",6,7),e.qZA(),e.TgZ(15,"th"),e._uU(16,"URL imatge"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Imatge"),e.qZA(),e.TgZ(19,"th"),e._UZ(20,"i",8),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,Tg,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.xp6(22),e.Q6J("ngForOf",o.shops))},directives:[nr,ke,Yr,Ii,Ko],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),n})();const Zh=["nameinput"],hp=["brandinput"],x0=["createdbyinput"];function Eg(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.createdOn,"dd.MM.yyyy - HH:mm"))}}function A0(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"i",17),e.NdJ("click",function(){e.CHM(t);const u=e.oxw(2).$implicit;return e.oxw().updateProduct(u)}),e.qZA()}}function zh(n,r){1&n&&e._UZ(0,"i",18)}function Gu(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",13),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().$implicit.name=u}),e.qZA()(),e.TgZ(4,"td")(5,"input",13),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().$implicit.brand=u}),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e.YNc(9,Eg,3,4,"span",12),e.qZA(),e.TgZ(10,"td")(11,"input",13),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().$implicit.imageUrl=u}),e.qZA()(),e.TgZ(12,"td"),e._UZ(13,"img",14),e.qZA(),e.TgZ(14,"td"),e.YNc(15,A0,1,0,"i",15),e.YNc(16,zh,1,0,"i",16),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(3),e.Q6J("value",t.name)("ngModel",t.name),e.xp6(2),e.Q6J("value",t.brand)("ngModel",t.brand),e.xp6(2),e.Oqu((null==t.createdBy?null:t.createdBy.username)||(null==t.createdBy?null:t.createdBy.email)),e.xp6(2),e.Q6J("ngIf",t.createdOn),e.xp6(2),e.Q6J("value",t.imageUrl)("ngModel",t.imageUrl),e.xp6(2),e.Q6J("src",t.imageUrl.length>0?t.imageUrl:o.DEFAULT_IMAGE_URL,e.LSH),e.xp6(2),e.Q6J("ngIf",!o.updatingProduct||o.updatingProduct.id!==t.id),e.xp6(1),e.Q6J("ngIf",o.updatingProduct&&o.updatingProduct.id===t.id)}}function Wh(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Gu,17,11,"ng-container",12),e.BQk()),2&n){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.matchesSearch(t))}}let fp=(()=>{class n{constructor(t,o,u){this.productService=t,this.spinner=o,this.translateService=u,this.products=[],this.onProductSortEmitter=new e.vpe,this.DEFAULT_IMAGE_URL=rs.T,this.sortBy="name",this.sortDir="ASC",this.searchConfig={name:"",brand:"",createdBy:""}}matchesSearch(t){if(0===this.searchConfig.name.length&&0===this.searchConfig.brand.length&&0===this.searchConfig.createdBy.length)return!0;{const o=this.searchConfig.name.length>0&&t.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>-1,u=this.searchConfig.brand.length>0&&t.brand.toUpperCase().indexOf(this.searchConfig.brand.toUpperCase())>-1,p=t.createdBy&&this.searchConfig.createdBy.length>0&&(t.createdBy.username.length>0&&t.createdBy.username.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1||t.createdBy.email.length>0&&t.createdBy.email.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1);return o||u||p}}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onProductSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateProduct(t){console.log("updateProduct()",t),t.brand.length>0&&t.name.length>0&&(0===t.imageUrl.length&&(t.imageUrl=rs.T),this.updatingProduct=t,this.spinner.show(),this.productService.updateProduct(t,!0).subscribe(()=>{this.updatingProduct=void 0,this.spinner.hide()}))}checkProductsImages(){this.products.map(t=>{t.imageUrl=t.imageUrl===rs.T?"":t.imageUrl})}export(){const t=JSON.stringify(this.products);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngOnInit(){this.checkProductsImages()}ngAfterViewInit(){Li(this.nameinput.nativeElement,"keyup").pipe(pi(Boolean),sl(500),wc(),(0,ei.b)(t=>{this.searchConfig.name=t.target.value})).subscribe(),Li(this.brandinput.nativeElement,"keyup").pipe(pi(Boolean),sl(500),wc(),(0,ei.b)(t=>{this.searchConfig.brand=t.target.value})).subscribe(),Li(this.createdbyinput.nativeElement,"keyup").pipe(pi(Boolean),sl(500),wc(),(0,ei.b)(t=>{this.searchConfig.createdBy=t.target.value})).subscribe()}ngOnChanges(t){this.checkProductsImages()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ea.M),e.Y36(ia),e.Y36(oa))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backoffice-products"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Zh,5),e.Gf(hp,5),e.Gf(x0,5)),2&t){let u;e.iGM(u=e.CRH())&&(o.nameinput=u.first),e.iGM(u=e.CRH())&&(o.brandinput=u.first),e.iGM(u=e.CRH())&&(o.createdbyinput=u.first)}},inputs:{products:"products"},outputs:{onProductSortEmitter:"onProductSortEmitter"},features:[e.TTD],decls:37,vars:1,consts:[[1,"d-flex","flex-column","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","7"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],["brandinput",""],["createdbyinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return o.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return o.sort("name")}),e._uU(11,"Nom"),e.qZA(),e._UZ(12,"br")(13,"input",6,7),e.qZA(),e.TgZ(15,"th")(16,"span",5),e.NdJ("click",function(){return o.sort("brand")}),e._uU(17,"Marca"),e.qZA(),e._UZ(18,"br")(19,"input",6,8),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Creat per"),e._UZ(23,"br")(24,"input",6,9),e.qZA(),e.TgZ(26,"th")(27,"span",5),e.NdJ("click",function(){return o.sort("createdOn")}),e._uU(28,"Data creaci\xf3"),e.qZA()(),e.TgZ(29,"th"),e._uU(30,"URL imatge"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Imatge"),e.qZA(),e.TgZ(33,"th"),e._UZ(34,"i",10),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,Wh,2,1,"ng-container",11),e.qZA()()()),2&t&&(e.xp6(36),e.Q6J("ngForOf",o.products))},directives:[nr,ke,Yr,Ii,Ko],pipes:[Co],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),n})();function Zd(n,r){if(1&n&&(e.TgZ(0,"div",10),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.updateDate,"dd.MM.yyyy - HH:mm"))}}function r_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit;return e.oxw().removeShopProduct(u)}),e.qZA()}}function i_(n,r){1&n&&e._UZ(0,"i",15)}function o_(n,r){if(1&n&&(e.ynx(0)(1),e.TgZ(2,"tr")(3,"td"),e._uU(4),e.TgZ(5,"span",8),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",9)(10,"div",10),e._uU(11),e.ALo(12,"number"),e.qZA()(),e.TgZ(13,"td")(14,"div",10),e._uU(15),e.qZA()(),e.TgZ(16,"td"),e.YNc(17,Zd,3,4,"div",11),e.qZA(),e.TgZ(18,"td"),e.YNc(19,r_,1,0,"i",12),e.YNc(20,i_,1,0,"i",13),e.qZA()(),e.BQk()()),2&n){const t=r.$implicit,o=e.oxw();let u,p,b;e.xp6(4),e.Oqu(null==(u=o.getProduct(t.productBarcode))?null:u.name),e.xp6(2),e.hij("(",null==(p=o.getProduct(t.productBarcode))?null:p.brand,")"),e.xp6(2),e.Oqu(null==(b=o.getShop(t.shopId))?null:b.name),e.xp6(3),e.hij("",e.xi3(12,8,t.price,"1.2-2")," \u20ac"),e.xp6(4),e.Oqu((null==t.createdBy?null:t.createdBy.username)||(null==t.createdBy?null:t.createdBy.email)),e.xp6(2),e.Q6J("ngIf",t.updateDate),e.xp6(2),e.Q6J("ngIf",!o.updatingShopProduct||o.updatingShopProduct.id!=o.updatingShopProduct.id),e.xp6(1),e.Q6J("ngIf",o.updatingShopProduct&&o.updatingShopProduct.id==o.updatingShopProduct.id)}}let Fv=(()=>{class n{constructor(t,o){this.shopProductService=t,this.translateService=o,this.products=[],this.shops=[],this.shopsProducts=[],this.onShopProductSortEmitter=new e.vpe,this.sortBy="updateDate",this.sortDir="ASC"}getShop(t){return this.shops.find(o=>t===o.id)}getProduct(t){return this.products.find(o=>t===o.barcode)}removeShopProduct(t){this.shopProductService.removeShopProduct(t).subscribe(()=>{})}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onShopProductSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}export(){const t=JSON.stringify(this.shopsProducts);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngOnChanges(t){var o;(null===(o=null==t?void 0:t.products)||void 0===o?void 0:o.firstChange)&&this.sort("updateDate")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ta),e.Y36(oa))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backoffice-shops-products"]],inputs:{products:"products",shops:"shops",shopsProducts:"shopsProducts"},outputs:{onShopProductSortEmitter:"onShopProductSortEmitter"},features:[e.TTD],decls:28,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","6"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[1,"brand","ms-2"],[1,"text-end"],[1,"nowrap"],["class","nowrap",4,"ngIf"],["class","fas fa-trash cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return o.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return o.sort("product")}),e._uU(11,"Producte"),e.qZA()(),e.TgZ(12,"th")(13,"span",5),e.NdJ("click",function(){return o.sort("shop")}),e._uU(14,"Botiga"),e.qZA()(),e.TgZ(15,"th")(16,"span"),e._uU(17,"Preu"),e.qZA()(),e.TgZ(18,"th")(19,"span"),e._uU(20,"Afegit per"),e.qZA()(),e.TgZ(21,"th")(22,"span",5),e.NdJ("click",function(){return o.sort("updateDate")}),e._uU(23,"Data"),e.qZA()(),e.TgZ(24,"th"),e._UZ(25,"i",6),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,o_,21,11,"ng-container",7),e.qZA()()()),2&t&&(e.xp6(27),e.Q6J("ngForOf",o.shopsProducts))},directives:[nr,ke],pipes:[M,Co],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.brand[_ngcontent-%COMP%]{font-size:9pt}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}"]}),n})();function Bv(n,r){if(1&n&&(e.TgZ(0,"div",9),e._UZ(1,"app-backoffice-dashboard",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function I0(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-shops",11),e.NdJ("onShopSortEmitter",function(u){return e.CHM(t),e.oxw().sortShops(u)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("shops",t.shops)}}function Uv(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-products",12),e.NdJ("onProductSortEmitter",function(u){return e.CHM(t),e.oxw().sortProducts(u)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("products",t.products)}}function P0(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-shops-products",13),e.NdJ("onShopProductSortEmitter",function(u){return e.CHM(t),e.oxw().sortShopsProducts(u)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("products",t.products)("shops",t.shops)("shopsProducts",t.shopsProducts)}}const Dg=function(n){return{active:n}};let s_=(()=>{class n{constructor(t){this.loginService=t,this.selectedTab=0,this.shops=[],this.products=[],this.shopsProducts=[],this.users=[]}sortProducts(t){console.log("sortProducts()",t),t&&(this.products=this.products.sort((o,u)=>"DESC"===t.sortDir?(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(u[t.sortBy]?u[t.sortBy]:"").toString().toUpperCase()?-1:1:(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(u[t.sortBy]?u[t.sortBy]:"").toString().toUpperCase()?1:-1))}sortShops(t){console.log("sortShops()",t),t&&(this.shops=this.shops.sort((o,u)=>"DESC"===t.sortDir?(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(u[t.sortBy]?u[t.sortBy]:"").toString().toUpperCase()?-1:1:(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(u[t.sortBy]?u[t.sortBy]:"").toString().toUpperCase()?1:-1))}sortShopsProducts(t){console.log("sortShopsProducts()",t),t&&(this.shopsProducts=this.shopsProducts.sort((o,u)=>{if("shop"===t.sortBy){const p=this.shops.find(x=>x.id===o.shopId).name.toString().toUpperCase(),b=this.shops.find(x=>x.id===u.shopId).name.toString().toUpperCase();return"DESC"===t.sortDir?p>b?-1:1:p>b?1:-1}if("product"===t.sortBy){const p=this.products.find(x=>x.barcode===o.productBarcode).name.toString().toUpperCase(),b=this.products.find(x=>x.barcode===u.productBarcode).name.toString().toUpperCase();return"DESC"===t.sortDir?p>b?-1:1:p>b?1:-1}return"DESC"===t.sortDir?(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(u[t.sortBy]?u[t.sortBy]:"").toString().toUpperCase()?-1:1:(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(u[t.sortBy]?u[t.sortBy]:"").toString().toUpperCase()?1:-1}))}refreshUsers(){let t=[this.loginService.getLoggedUser()];this.shops.forEach(o=>{o.createdBy&&!t.find(u=>u.email===o.createdBy.email&&u.username===o.createdBy.username)&&t.push(o.createdBy)}),this.products.forEach(o=>{o.createdBy&&!t.find(u=>u.email===o.createdBy.email&&u.username===o.createdBy.username)&&t.push(o.createdBy)}),this.shopsProducts.forEach(o=>{o.createdBy&&!t.find(u=>u.email===o.createdBy.email)&&t.push(o.createdBy)}),this.users=t}ngOnInit(){}ngOnChanges(t){this.refreshUsers()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ta.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backoffice-layout"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},features:[e.TTD],decls:31,vars:28,consts:[[1,"d-flex","flex-column","w-100"],[1,"d-flex","justify-content-between","w-100","ps-2"],[1,"nav","nav-tabs","ml-auto"],[1,"nav-item"],["href","javascript://",1,"nav-link",3,"ngClass","click"],[1,"nav-item","ms-auto"],[1,"ms-1"],[1,"tab-content"],["class","tab-pane d-flex w-100",4,"ngIf"],[1,"tab-pane","d-flex","w-100"],[3,"shops","products","shopsProducts"],[1,"w-100",3,"shops","onShopSortEmitter"],[1,"w-100",3,"products","onProductSortEmitter"],[1,"w-100",3,"products","shops","shopsProducts","onShopProductSortEmitter"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Backoffice"),e.qZA()(),e.TgZ(4,"ul",2)(5,"li",3)(6,"a",4),e.NdJ("click",function(){return o.selectedTab=0}),e._uU(7,"Dashboard"),e.qZA()(),e.TgZ(8,"li",5)(9,"a",4),e.NdJ("click",function(){return o.selectedTab=1}),e._uU(10,"Botigues "),e.TgZ(11,"small",6),e._uU(12),e.ALo(13,"number"),e.qZA()()(),e.TgZ(14,"li",3)(15,"a",4),e.NdJ("click",function(){return o.selectedTab=2}),e._uU(16,"Productes "),e.TgZ(17,"small",6),e._uU(18),e.ALo(19,"number"),e.qZA()()(),e.TgZ(20,"li",3)(21,"a",4),e.NdJ("click",function(){return o.selectedTab=3}),e._uU(22,"Preus"),e.TgZ(23,"small",6),e._uU(24),e.ALo(25,"number"),e.qZA()()()(),e.TgZ(26,"div",7),e.YNc(27,Bv,2,3,"div",8),e.YNc(28,I0,2,1,"div",8),e.YNc(29,Uv,2,1,"div",8),e.YNc(30,P0,2,3,"div",8),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngClass",e.VKq(20,Dg,0===o.selectedTab)),e.xp6(3),e.Q6J("ngClass",e.VKq(22,Dg,1===o.selectedTab)),e.xp6(3),e.hij("(",e.xi3(13,11,o.shops.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngClass",e.VKq(24,Dg,2===o.selectedTab)),e.xp6(3),e.hij("(",e.xi3(19,14,o.products.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngClass",e.VKq(26,Dg,3===o.selectedTab)),e.xp6(3),e.hij("(",e.xi3(25,17,null==o.shopsProducts?null:o.shopsProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",0===o.selectedTab),e.xp6(1),e.Q6J("ngIf",1===o.selectedTab),e.xp6(1),e.Q6J("ngIf",2===o.selectedTab),e.xp6(1),e.Q6J("ngIf",3===o.selectedTab))},directives:[Tr,ke,Lv,S0,fp,Fv],pipes:[M],styles:[".tab-content[_ngcontent-%COMP%]{height:calc(100vh - 80px)!important;overflow:auto}"]}),n})();const cC=["appLayout"];function $y(n,r){if(1&n&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",e.xi3(2,1,t.cartItemCount,"1.0-2")," ")}}function O0(n,r){1&n&&e._UZ(0,"i",37)}function jv(n,r){if(1&n&&e._UZ(0,"img",38),2&n){const t=e.oxw(4);e.Q6J("src",t.loggedUser.photoURL,e.LSH)}}function Ky(n,r){if(1&n&&(e.TgZ(0,"small",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Oqu(null==t.loggedUser?null:t.loggedUser.email)}}function Io(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li"),e._UZ(2,"hr",34),e.qZA(),e.TgZ(3,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).toggleExport()}),e.TgZ(4,"div",24),e._UZ(5,"i",39),e.TgZ(6,"a",26),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()}2&n&&(e.xp6(7),e.Oqu(e.lcZ(8,1,"menu.export")))}const Vv=function(n){return{disabled:n}},Jy=function(){return["/shoppingCart"]},M0=function(){return["/search-shops"]},a_=function(){return["/search-products"]},N0=function(){return["/alerts"]},c_=function(){return["/statistics"]};function R0(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"button",9),e._UZ(3,"i",10),e.qZA(),e.YNc(4,$y,3,4,"div",11),e.qZA(),e.TgZ(5,"div",12)(6,"button",13),e._UZ(7,"i",14),e.qZA(),e.TgZ(8,"ul",15)(9,"li",16),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToUserDetail()}),e.TgZ(10,"div",17)(11,"div"),e.YNc(12,O0,1,0,"i",18),e.YNc(13,jv,1,1,"img",19),e.qZA(),e.TgZ(14,"div",20)(15,"span",21),e._uU(16),e.qZA(),e.YNc(17,Ky,2,1,"small",22),e.qZA()()(),e.TgZ(18,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToHome()}),e.TgZ(19,"div",24),e._UZ(20,"i",25),e.TgZ(21,"a",26),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"li",27)(25,"div",24),e._UZ(26,"i",28),e.TgZ(27,"a",29),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"small",30),e._uU(31),e.ALo(32,"number"),e.qZA()()()(),e.TgZ(33,"li",27)(34,"div",24),e._UZ(35,"i",31),e.TgZ(36,"a",29),e._uU(37),e.ALo(38,"translate"),e.TgZ(39,"small",30),e._uU(40),e.ALo(41,"number"),e.qZA()()()(),e.TgZ(42,"li",27)(43,"div",24),e._UZ(44,"i",32),e.TgZ(45,"a",29),e._uU(46),e.ALo(47,"translate"),e.qZA()()(),e.TgZ(48,"li",27)(49,"div",24),e._UZ(50,"i",33),e.TgZ(51,"a",29),e._uU(52),e.ALo(53,"translate"),e.qZA()()(),e.YNc(54,Io,9,3,"ng-container",0),e.TgZ(55,"li"),e._UZ(56,"hr",34),e.qZA(),e.TgZ(57,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).logout()}),e.TgZ(58,"div",24),e._UZ(59,"i",35),e.TgZ(60,"a",26),e._uU(61),e.ALo(62,"translate"),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.VKq(38,Vv,!((null==t.cartConfig||null==t.cartConfig.items?null:t.cartConfig.items.length)>0)))("routerLink",e.DdM(40,Jy)),e.xp6(2),e.Q6J("ngIf",t.cartItemCount),e.xp6(8),e.Q6J("ngIf",!t.loggedUser.photoURL),e.xp6(1),e.Q6J("ngIf",t.loggedUser.photoURL),e.xp6(3),e.Oqu((null==t.loggedUser||null==t.loggedUser.username?null:t.loggedUser.username.length)>0?null==t.loggedUser?null:t.loggedUser.username:null==t.loggedUser?null:t.loggedUser.email.substr(0,null==t.loggedUser?null:t.loggedUser.email.indexOf("@"))),e.xp6(1),e.Q6J("ngIf",null==t.loggedUser?null:t.loggedUser.username),e.xp6(5),e.Oqu(e.lcZ(23,20,"menu.home")),e.xp6(5),e.Q6J("routerLink",e.DdM(41,M0)),e.xp6(1),e.Oqu(e.lcZ(29,22,"menu.shops")),e.xp6(3),e.hij("(",e.xi3(32,24,null==t.shops?null:t.shops.length,"1.0-2"),")"),e.xp6(5),e.Q6J("routerLink",e.DdM(42,a_)),e.xp6(1),e.Oqu(e.lcZ(38,27,"menu.products")),e.xp6(3),e.hij("(",e.xi3(41,29,null==t.products?null:t.products.length,"1.0-2"),")"),e.xp6(5),e.Q6J("routerLink",e.DdM(43,N0)),e.xp6(1),e.Oqu(e.lcZ(47,32,"menu.alerts")),e.xp6(5),e.Q6J("routerLink",e.DdM(44,c_)),e.xp6(1),e.Oqu(e.lcZ(53,34,"menu.analysis")),e.xp6(2),e.Q6J("ngIf",!t.APP_CONFIG.cloudMode&&(null==t.loggedUser?null:t.loggedUser.admin)),e.xp6(7),e.Oqu(e.lcZ(62,36,"menu.exit"))}}function Hu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).goToHome()}),e._UZ(3,"i",7),e.TgZ(4,"span"),e._uU(5,"Proddle"),e.qZA()(),e.YNc(6,R0,63,45,"ng-container",0),e.qZA(),e._UZ(7,"router-outlet"),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.loggedUser&&t.shopsLoaded&&t.productsLoaded&&t.shopsProductsLoaded)}}function Yy(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",40),e._UZ(2,"app-backoffice-layout",41),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function Gv(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,Hu,8,1,"div",3),e.YNc(3,Yy,3,3,"ng-container",0),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.backofficeMode),e.xp6(1),e.Q6J("ngIf",t.backofficeMode)}}let pp=(()=>{class n{constructor(t,o,u,p,b,x,N,K,he,Ne){this.router=t,this.shopService=o,this.productService=u,this.shopProductService=p,this.loginService=b,this.shoppingCartService=x,this.spinner=N,this.translate=K,this.translationsService=he,this.firestoreAuthService=Ne,this.APP_CONFIG=Za.q,this.doExport=!1,this.backofficeMode=!1,this.translationsLoaded=!1,this.shopsLoaded=!1,this.productsLoaded=!1,this.shopsProductsLoaded=!1,this.translate.setDefaultLang(Za.q.defaultLanguage),console.log("Loading translations"),this.translationsService.loadTranslations().subscribe(()=>{let Je=localStorage.getItem(Ni.M.PS_APP_LANGUAGE);Je?this.translate.use(Je):(this.translate.use(Za.q.defaultLanguage),localStorage.setItem(Ni.M.PS_APP_LANGUAGE,Za.q.defaultLanguage)),this.translationsLoaded=!0,console.log("Using language: "+localStorage.getItem(Ni.M.PS_APP_LANGUAGE)),console.log("Removing localStorage necessary data"),localStorage.removeItem(Ni.M.PS_LAST_SHOP_ID),localStorage.removeItem(Ni.M.PS_SHOPS_SEARCH_TEXT),localStorage.removeItem(Ni.M.PS_PRODUCTS_SEARCH_TEXT)})}onResize(t){this.checkBackofficeMode()}goToHome(){this.router.navigate([""])}goToUserDetail(){this.router.navigate(["user"])}toggleExport(){this.copyToClipboard()}copyToClipboard(){const t=JSON.stringify(this.shops)+""+JSON.stringify(this.products)+JSON.stringify(this.shopsProducts),o=document.createElement("textarea");o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.opacity="0",o.value=t,document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o),alert("Dades copiades al porta papers!")}logout(){this.loginService.logout(),this.firestoreAuthService.logout(),this.router.navigate(["login"])}checkBackofficeMode(){var t;this.backofficeMode=!!(null===(t=this.loggedUser)||void 0===t?void 0:t.admin)&&window.innerWidth>568}calcCartItems(){var t;if(null===(t=this.cartConfig)||void 0===t?void 0:t.items){let o=0;this.cartConfig.items.forEach(u=>{u.productsUnits.forEach(p=>{o+=p.units})}),this.cartItemCount=o}}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(t=>{this.shops=t.sort((o,u)=>o.name.toUpperCase()>u.name.toUpperCase()?1:-1)}),this.productService.products.subscribe(t=>{this.products=t.sort((o,u)=>o.name.toUpperCase()>u.name.toUpperCase()?1:-1)}),this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((o,u)=>o.updateDate>u.updateDate?1:-1)}),this.shopService.loadShops().subscribe(()=>{this.shopsLoaded=this.shopService._shops&&this.shopService._shops.length>0}),this.productService.loadProducts().subscribe(()=>{this.productsLoaded=this.productService._products&&this.productService._products.length>0}),this.shopProductService.loadShopsProducts().subscribe(()=>{this.shopsProductsLoaded=this.shopProductService._shopsProducts&&this.shopProductService._shopsProducts.length>0}),setTimeout(()=>{this.shoppingCartService.loadShoppingCart(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calcCartItems()}),this.shoppingCartService.buildCartConfig()},5e3),this.loggedUser=this.loginService.getLoggedUser(),this.loginService.user.subscribe(t=>{this.loggedUser=t,this.loggedUser&&(this.loggedUser.admin=this.loginService.checkIsAdmin(this.loggedUser))}),this.checkBackofficeMode(),this.spinner.hide()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(Ns.d),e.Y36(ea.M),e.Y36(Ta),e.Y36(ta.r),e.Y36(Xf),e.Y36(ia),e.Y36(oa),e.Y36(Qm),e.Y36(up))},n.\u0275cmp=e.Xpm({type:n,selectors:[["my-app"]],viewQuery:function(t,o){if(1&t&&e.Gf(cC,5),2&t){let u;e.iGM(u=e.CRH())&&(o.appLayoutComponent=u.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(p){return o.onResize(p)},!1,e.Jf7)},decls:2,vars:1,consts:[[4,"ngIf"],["bdColor","rgba(0, 0, 0, 1)","type","ball-scale-multiple","size","large","template","<img src='https://i.pinimg.com/originals/f5/98/76/f59876d316abc628202df9012706d68f.gif' />"],[1,"d-flex","justify-content-center","w-100","h-100"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"header-container","d-flex","justify-content-around","align-items-center","w-100"],[1,"app-title","justify-content-start","align-items-center","m-0","py-3","px-1",3,"click"],[1,"fas","fa-barcode","me-0"],[1,"btn-group"],["type","button","aria-expanded","false",1,"btn","btn-lg","btn-light","shadow-none",3,"ngClass","routerLink"],["title","Cistella de la compra",1,"fas","fa-shopping-basket"],["class","badge bg-warning",4,"ngIf"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["title","Opcions",1,"fas","fa-bars"],[1,"dropdown-menu"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-2"],["class","fas fa-user me-1",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[1,"d-flex","flex-column","ps-2"],[1,"wrap"],["class","wrap",4,"ngIf"],[1,"py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"],["title","Inici",1,"fas","fa-home","me-1"],["href","javascript://",1,"dropdown-item"],[1,"py-2"],["title","Botigues",1,"fas","fa-store","me-1","text-info"],["href","javascript://",1,"dropdown-item",3,"routerLink"],[1,"ms-2"],["title","Productes",1,"fas","fa-shopping-basket","me-1","text-warning"],["title","Alertes",1,"fas","fa-triangle-exclamation","text-danger","me-1"],["title","Estad\xedstiques",1,"fas","fa-chart-line","me-1"],[1,"dropdown-divider"],["title","Logout",1,"fas","fa-right-from-bracket","me-1"],[1,"badge","bg-warning"],[1,"fas","fa-user","me-1"],[1,"user-photo",3,"src"],["title","Exportar dades",1,"fas","fa-file-export","me-1"],[1,"backoffice","d-flex","flex-column","h-100","w-100","p-0"],[3,"shops","products","shopsProducts"]],template:function(t,o){1&t&&(e.YNc(0,Gv,4,2,"ng-container",0),e._UZ(1,"ngx-spinner",1)),2&t&&e.Q6J("ngIf",o.translationsLoaded&&o.shopsLoaded&&o.productsLoaded&&o.shopsProductsLoaded)},directives:[ke,Tr,bc,ec,Uf,s_,Uh],pipes:[M,Uo],styles:[".header-container[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;color:#f8f8ff;height:90px!important;background-color:#fff;border-radius:0;position:sticky;top:0;z-index:1000}.backoffice[_ngcontent-%COMP%]{max-width:1100px;min-width:500px}.content[_ngcontent-%COMP%]{flex:1 0 auto;overflow:auto}.reset[_ngcontent-%COMP%]{background-color:#fff;color:#6c757d;border-radius:25px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px!important;padding:5px 12px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16pt}.btn-group[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:.2!important;pointer-events:none}.btn-group[_ngcontent-%COMP%]   .badge.bg-info[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%]   .badge.bg-warning[_ngcontent-%COMP%]{position:fixed;flex:none;top:10px;margin-left:33px;border-radius:20px;z-index:1}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu[_ngcontent-%COMP%]{font-size:14pt;padding:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#888}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#888;height:1px}.dropdown-menu[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]{background-color:#444;color:#fff;min-height:50px;display:flex;align-items:center}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:200px!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.dropdown-menu[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;font-size:10pt}.export[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;height:-moz-fit-content;height:fit-content;z-index:1000;position:absolute;top:90px;visibility:hidden}.export[_ngcontent-%COMP%]   .export-content[_ngcontent-%COMP%]{background-color:#ccc;color:#333;font-size:10pt;word-break:break-word}.fa-chart-line[_ngcontent-%COMP%]{color:#5f9ea0}img.user-photo[_ngcontent-%COMP%]{max-height:40px;border-radius:25px}"]}),n})();class Hv{}class Wl{}class zd{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const u=t.slice(0,o),p=u.toLowerCase(),b=t.slice(o+1).trim();this.maybeSetNormalizedName(u,p),this.headers.has(p)?this.headers.get(p).push(b):this.headers.set(p,[b])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(t=>{let o=r[t];const u=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(u,o),this.maybeSetNormalizedName(t,u))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const t=this.headers.get(r.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,t){return this.clone({name:r,value:t,op:"a"})}set(r,t){return this.clone({name:r,value:t,op:"s"})}delete(r,t){return this.clone({name:r,value:t,op:"d"})}maybeSetNormalizedName(r,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,r)}init(){this.lazyInit&&(this.lazyInit instanceof zd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(t=>{this.headers.set(t,r.headers.get(t)),this.normalizedNames.set(t,r.normalizedNames.get(t))})}clone(r){const t=new zd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([r]),t}applyUpdate(r){const t=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,t);const u=("a"===r.op?this.headers.get(t):void 0)||[];u.push(...o),this.headers.set(t,u);break;case"d":const p=r.value;if(p){let b=this.headers.get(t);if(!b)return;b=b.filter(x=>-1===p.indexOf(x)),0===b.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,b)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>r(this.normalizedNames.get(t),this.headers.get(t)))}}class k0{encodeKey(r){return l_(r)}encodeValue(r){return l_(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const $l=/%(\d[a-f0-9])/gi,Qy={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function l_(n){return encodeURIComponent(n).replace($l,(r,t)=>{var o;return null!==(o=Qy[t])&&void 0!==o?o:r})}function cl(n){return`${n}`}class is{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new k0,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function L0(n,r){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(u=>{const p=u.indexOf("="),[b,x]=-1==p?[r.decodeKey(u),""]:[r.decodeKey(u.slice(0,p)),r.decodeValue(u.slice(p+1))],N=t.get(b)||[];N.push(x),t.set(b,N)}),t}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(t=>{const o=r.fromObject[t];this.map.set(t,Array.isArray(o)?o:[o])})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const t=this.map.get(r);return t?t[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,t){return this.clone({param:r,value:t,op:"a"})}appendAll(r){const t=[];return Object.keys(r).forEach(o=>{const u=r[o];Array.isArray(u)?u.forEach(p=>{t.push({param:o,value:p,op:"a"})}):t.push({param:o,value:u,op:"a"})}),this.clone(t)}set(r,t){return this.clone({param:r,value:t,op:"s"})}delete(r,t){return this.clone({param:r,value:t,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const t=this.encoder.encodeKey(r);return this.map.get(r).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const t=new is({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(r),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const t=("a"===r.op?this.map.get(r.param):void 0)||[];t.push(cl(r.value)),this.map.set(r.param,t);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const u=o.indexOf(cl(r.value));-1!==u&&o.splice(u,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class F0{constructor(){this.map=new Map}set(r,t){return this.map.set(r,t),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function $h(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Sg(n){return"undefined"!=typeof Blob&&n instanceof Blob}function B0(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Kh{constructor(r,t,o,u){let p;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function qv(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==o?o:null,p=u):p=o,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new zd),this.context||(this.context=new F0),this.params){const b=this.params.toString();if(0===b.length)this.urlWithParams=t;else{const x=t.indexOf("?");this.urlWithParams=t+(-1===x?"?":x<t.length-1?"&":"")+b}}else this.params=new is,this.urlWithParams=t}serializeBody(){return null===this.body?null:$h(this.body)||Sg(this.body)||B0(this.body)||function Xy(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof is?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||B0(this.body)?null:Sg(this.body)?this.body.type||null:$h(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof is?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){var t;const o=r.method||this.method,u=r.url||this.url,p=r.responseType||this.responseType,b=void 0!==r.body?r.body:this.body,x=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,N=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let K=r.headers||this.headers,he=r.params||this.params;const Ne=null!==(t=r.context)&&void 0!==t?t:this.context;return void 0!==r.setHeaders&&(K=Object.keys(r.setHeaders).reduce((Je,We)=>Je.set(We,r.setHeaders[We]),K)),r.setParams&&(he=Object.keys(r.setParams).reduce((Je,We)=>Je.set(We,r.setParams[We]),he)),new Kh(o,u,b,{params:he,headers:K,context:Ne,reportProgress:N,responseType:p,withCredentials:x})}}var Ji=(()=>((Ji=Ji||{})[Ji.Sent=0]="Sent",Ji[Ji.UploadProgress=1]="UploadProgress",Ji[Ji.ResponseHeader=2]="ResponseHeader",Ji[Ji.DownloadProgress=3]="DownloadProgress",Ji[Ji.Response=4]="Response",Ji[Ji.User=5]="User",Ji))();class U0{constructor(r,t=200,o="OK"){this.headers=r.headers||new zd,this.status=void 0!==r.status?r.status:t,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class u_ extends U0{constructor(r={}){super(r),this.type=Ji.ResponseHeader}clone(r={}){return new u_({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class d_ extends U0{constructor(r={}){super(r),this.type=Ji.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new d_({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class h_ extends U0{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function f_(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Jh=(()=>{class n{constructor(t){this.handler=t}request(t,o,u={}){let p;if(t instanceof Kh)p=t;else{let N,K;N=u.headers instanceof zd?u.headers:new zd(u.headers),u.params&&(K=u.params instanceof is?u.params:new is({fromObject:u.params})),p=new Kh(t,o,void 0!==u.body?u.body:null,{headers:N,context:u.context,params:K,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const b=(0,In.of)(p).pipe(Xo(N=>this.handler.handle(N)));if(t instanceof Kh||"events"===u.observe)return b;const x=b.pipe(pi(N=>N instanceof d_));switch(u.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return x.pipe((0,Qn.U)(N=>{if(null!==N.body&&!(N.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return N.body}));case"blob":return x.pipe((0,Qn.U)(N=>{if(null!==N.body&&!(N.body instanceof Blob))throw new Error("Response is not a Blob.");return N.body}));case"text":return x.pipe((0,Qn.U)(N=>{if(null!==N.body&&"string"!=typeof N.body)throw new Error("Response is not a string.");return N.body}));default:return x.pipe((0,Qn.U)(N=>N.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new is).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,u={}){return this.request("PATCH",t,f_(u,o))}post(t,o,u={}){return this.request("POST",t,f_(u,o))}put(t,o,u={}){return this.request("PUT",t,f_(u,o))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Hv))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class l{constructor(r,t){this.next=r,this.interceptor=t}handle(r){return this.interceptor.intercept(r,this.next)}}const i=new e.OlP("HTTP_INTERCEPTORS");let c=(()=>{class n{intercept(t,o){return o.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const je=/^\)\]\}',?\n/;let xt=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new xi.y(o=>{const u=this.xhrFactory.build();if(u.open(t.method,t.urlWithParams),t.withCredentials&&(u.withCredentials=!0),t.headers.forEach((We,ft)=>u.setRequestHeader(We,ft.join(","))),t.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const We=t.detectContentTypeHeader();null!==We&&u.setRequestHeader("Content-Type",We)}if(t.responseType){const We=t.responseType.toLowerCase();u.responseType="json"!==We?We:"text"}const p=t.serializeBody();let b=null;const x=()=>{if(null!==b)return b;const We=u.statusText||"OK",ft=new zd(u.getAllResponseHeaders()),yt=function ht(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(u)||t.url;return b=new u_({headers:ft,status:u.status,statusText:We,url:yt}),b},N=()=>{let{headers:We,status:ft,statusText:yt,url:$t}=x(),un=null;204!==ft&&(un=void 0===u.response?u.responseText:u.response),0===ft&&(ft=un?200:0);let bn=ft>=200&&ft<300;if("json"===t.responseType&&"string"==typeof un){const lr=un;un=un.replace(je,"");try{un=""!==un?JSON.parse(un):null}catch(Sn){un=lr,bn&&(bn=!1,un={error:Sn,text:un})}}bn?(o.next(new d_({body:un,headers:We,status:ft,statusText:yt,url:$t||void 0})),o.complete()):o.error(new h_({error:un,headers:We,status:ft,statusText:yt,url:$t||void 0}))},K=We=>{const{url:ft}=x(),yt=new h_({error:We,status:u.status||0,statusText:u.statusText||"Unknown Error",url:ft||void 0});o.error(yt)};let he=!1;const Ne=We=>{he||(o.next(x()),he=!0);let ft={type:Ji.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(ft.total=We.total),"text"===t.responseType&&!!u.responseText&&(ft.partialText=u.responseText),o.next(ft)},Je=We=>{let ft={type:Ji.UploadProgress,loaded:We.loaded};We.lengthComputable&&(ft.total=We.total),o.next(ft)};return u.addEventListener("load",N),u.addEventListener("error",K),u.addEventListener("timeout",K),u.addEventListener("abort",K),t.reportProgress&&(u.addEventListener("progress",Ne),null!==p&&u.upload&&u.upload.addEventListener("progress",Je)),u.send(p),o.next({type:Ji.Sent}),()=>{u.removeEventListener("error",K),u.removeEventListener("abort",K),u.removeEventListener("load",N),u.removeEventListener("timeout",K),t.reportProgress&&(u.removeEventListener("progress",Ne),null!==p&&u.upload&&u.upload.removeEventListener("progress",Je)),u.readyState!==u.DONE&&u.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(xr))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const Bt=new e.OlP("XSRF_COOKIE_NAME"),kn=new e.OlP("XSRF_HEADER_NAME");class yr{}let ao=(()=>{class n{constructor(t,o,u){this.doc=t,this.platform=o,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Pr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q),e.LFG(e.Lbi),e.LFG(Bt))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ar=(()=>{class n{constructor(t,o){this.tokenService=t,this.headerName=o}intercept(t,o){const u=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||u.startsWith("http://")||u.startsWith("https://"))return o.handle(t);const p=this.tokenService.getToken();return null!==p&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,p)})),o.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(yr),e.LFG(kn))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),sa=(()=>{class n{constructor(t,o){this.backend=t,this.injector=o,this.chain=null}handle(t){if(null===this.chain){const o=this.injector.get(i,[]);this.chain=o.reduceRight((u,p)=>new l(u,p),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Wl),e.LFG(e.zs3))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),gi=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Ar,useClass:c}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Bt,useValue:t.cookieName}:[],t.headerName?{provide:kn,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Ar,{provide:i,useExisting:Ar,multi:!0},{provide:yr,useClass:ao},{provide:Bt,useValue:"XSRF-TOKEN"},{provide:kn,useValue:"X-XSRF-TOKEN"}]}),n})(),qu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Jh,{provide:Hv,useClass:sa},xt,{provide:Wl,useExisting:xt}],imports:[[gi.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Vo=O(896),ti=O.n(Vo),Qh=O(5199),lC=O.n(Qh);const uC=["BarcodeScanner"],e1={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},t1=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function Zv(n){if(!t1.some(r=>r===n))throw new Error(`This barcode type '${n}' is not valid.`)}function zv(n){return`${n}_reader`}let Wv=(()=>{class n{constructor(){this.maxWidth="100%",this._valueChanges=new si.x,this.valueChanges=new e.vpe,this.started=new e.vpe,this._started=!1,this._destroyed=new si.x,this._valueChanges.pipe(so(this._destroyed),pi(t=>{const o=t.codeResult.decodedCodes.filter(p=>void 0!==p.error).map(p=>p.error),u=this._getMedian(o);return!this.errorFilter||!(this.errorFilter.median&&u>this.errorFilter.median||this.errorFilter.threshold&&o.some(p=>p>this.errorFilter.threshold))})).subscribe(t=>{const o=ti().canvas.ctx.overlay;ti().ImageDebug.drawPath(t.line,{x:"x",y:"y"},o,{color:"red",lineWidth:3}),this.valueChanges.next(t)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((t,o)=>{ti().onProcessed(u=>this.onProcessed(u)),ti().onDetected(u=>this.onDetected(u)),this.configQuagga=lC()({},this.config,e1),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function n1(n){return"string"==typeof n?(Zv(n),[zv(n)]):n.map(r=>(Zv(r),zv(r)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),ti().init(this.configQuagga,u=>{if(u)return console.log(u),o(u);t()})})}_getMedian(t){t.sort((u,p)=>u-p);const o=Math.floor(t.length/2);return t.length%2==1?t[o]:(t[o-1]+t[o])/2}start(){return(0,_o.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),ti().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(ti().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(t){const o=ti().canvas.ctx.overlay,u=ti().canvas.dom.overlay;t&&(t.boxes&&(o.clearRect(0,0,parseInt(u.getAttribute("width"),10),parseInt(u.getAttribute("height"),10)),t.boxes.filter(p=>p!==t.box).forEach(p=>{ti().ImageDebug.drawPath(p,{x:0,y:1},o,{color:"green",lineWidth:2})})),t.box&&ti().ImageDebug.drawPath(t.box,{x:0,y:1},o,{color:"#00F",lineWidth:2}))}onDetected(t){this._valueChanges.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["barcode-scanner-livestream"]],viewQuery:function(t,o){if(1&t&&e.Gf(uC,5),2&t){let u;e.iGM(u=e.CRH())&&(o.barcodeScanner=u.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[e.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"video")(3,"canvas",2),e.qZA()),2&t&&(e.Udp("max-height",o._maxHeight)("max-width",o._maxWidth),e.Q6J("hidden",!o.isStarted),e.xp6(2),e.Udp("max-height",o._maxHeight)("max-width",o._maxWidth),e.xp6(1),e.Udp("max-height",o._maxHeight)("max-width",o._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),n})(),r1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})();var o1=O(3532);function $v(n=0,r,t=qh.P){let o=-1;return null!=r&&((0,o1.K)(r)?t=r:o=r),new xi.y(u=>{let p=function gp(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;p<0&&(p=0);let b=0;return t.schedule(function(){u.closed||(u.next(b++),0<=o?this.schedule(void 0,o):u.complete())},p)})}const{isArray:fC}=Array;function mp(n){return 1===n.length&&fC(n[0])?n[0]:n}const pC=new xi.y(ep.Z);function p_(...n){const r=(0,Wr.jO)(n),t=mp(n);return t.length?new xi.y(o=>{let u=t.map(()=>[]),p=t.map(()=>!1);o.add(()=>{u=p=null});for(let b=0;!o.closed&&b<t.length;b++)(0,It.Xf)(t[b]).subscribe((0,_r.x)(o,x=>{if(u[b].push(x),u.every(N=>N.length)){const N=u.map(K=>K.shift());o.next(r?r(...N):N),u.some((K,he)=>!K.length&&p[he])&&o.complete()}},()=>{p[b]=!0,!u[b].length&&o.complete()}));return()=>{u=p=null}}):Zc.E}function rr(...n){const r=(0,Wr.jO)(n);return(0,io.e)((t,o)=>{const u=n.length,p=new Array(u);let b=n.map(()=>!1),x=!1;for(let N=0;N<u;N++)(0,It.Xf)(n[N]).subscribe((0,_r.x)(o,K=>{p[N]=K,!x&&!b[N]&&(b[N]=!0,(x=b.every(vd.y))&&(b=null))},ep.Z));t.subscribe((0,_r.x)(o,N=>{if(x){const K=[N,...p];o.next(r?r(...K):K)}}))})}Math,Math,Math;const X0=["*"];function T_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",6),e.NdJ("click",function(){const p=e.CHM(t).$implicit,b=e.oxw();return b.focus(),b.select(p.id,b.NgbSlideEventSource.INDICATOR)}),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.ekj("active",t.id===o.activeId),e.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===o.activeId)}}function tw(n,r){}function R1(n,r){if(1&n&&(e.TgZ(0,"div",7)(1,"span",8),e.SDv(2,9),e.qZA(),e.YNc(3,tw,0,0,"ng-template",10),e.qZA()),2&n){const t=r.$implicit,o=r.index,u=r.count;e.Q6J("id","slide-"+t.id),e.xp6(2),e.pQV(o+1)(u),e.QtT(2),e.xp6(1),e.Q6J("ngTemplateOutlet",t.tplRef)}}function k1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().arrowLeft()}),e._UZ(1,"span",12),e.TgZ(2,"span",8),e.SDv(3,13),e.qZA()()}}function nw(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().arrowRight()}),e._UZ(1,"span",15),e.TgZ(2,"span",8),e.SDv(3,16),e.qZA()()}}const G1=["dialog"];function nf(n){return null!=n}function bp(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let r=this;if(!document.documentElement.contains(r))return null;do{if(r.matches(n))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null});const sv={animation:!0,transitionTimerDelayMs:5},uy=()=>{},{transitionTimerDelayMs:bE}=sv,x_=new Map,xa=(n,r,t,o)=>{let u=o.context||{};const p=x_.get(r);if(p)switch(o.runningTransition){case"continue":return Zc.E;case"stop":n.run(()=>p.transition$.complete()),u=Object.assign(p.context,u),x_.delete(r)}const b=t(r,o.animation,u)||uy;if(!o.animation||"none"===window.getComputedStyle(r).transitionProperty)return n.run(()=>b()),(0,In.of)(void 0).pipe(function ov(n){return r=>new xi.y(t=>r.subscribe({next:b=>n.run(()=>t.next(b)),error:b=>n.run(()=>t.error(b)),complete:()=>n.run(()=>t.complete())}))}(n));const x=new si.x,N=new si.x,K=x.pipe(function nE(...n){return r=>Ml(r,(0,In.of)(...n))}(!0));x_.set(r,{transition$:x,complete:()=>{N.next(),N.complete()},context:u});const he=function Bw(n){const{transitionDelay:r,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(r)+parseFloat(t))}(r);return n.runOutsideAngular(()=>{const Ne=Li(r,"transitionend").pipe(so(K),pi(({target:We})=>We===r));(function s1(...n){return 1===(n=mp(n)).length?(0,It.Xf)(n[0]):new xi.y(function Kv(n){return r=>{let t=[];for(let o=0;t&&!r.closed&&o<n.length;o++)t.push((0,It.Xf)(n[o]).subscribe((0,_r.x)(r,u=>{if(t){for(let p=0;p<t.length;p++)p!==o&&t[p].unsubscribe();t=null}r.next(u)})))}}(n))})($v(he+bE).pipe(so(K)),Ne,N).pipe(so(K)).subscribe(()=>{x_.delete(r),n.run(()=>{b(),x.next(),x.complete()})})}),x.asObservable()};let A_=(()=>{class n{constructor(){this.animation=sv.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})(),Gw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})(),qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var Xl=(()=>{return(n=Xl||(Xl={})).START="start",n.END="end",Xl;var n})();const Zw=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Bg=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},Ug=n=>{Bg(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},_b=(n,r,{direction:t})=>{const{classList:o}=n;return r?(Zw(n)?Bg(o):(o.add("carousel-item-"+(t===Xl.START?"next":"prev")),bp(n),o.add("carousel-item-"+t)),()=>{Ug(o),o.add("active")}):(Bg(o),Ug(o),void o.add("active"))},vb=(n,r,{direction:t})=>{const{classList:o}=n;return r?(Zw(n)?Bg(o):o.add("carousel-item-"+t),()=>{Ug(o),o.remove("active")}):(Bg(o),Ug(o),void o.remove("active"))};let zw=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(A_))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gy=0,cv=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+gy++,this.slid=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),my=(()=>{class n{constructor(t,o,u,p,b){this._platformId=o,this._ngZone=u,this._cd=p,this._container=b,this.NgbSlideEventSource=rf,this._destroy$=new si.x,this._interval$=new po(0),this._mouseHover$=new po(!1),this._focused$=new po(!1),this._pauseOnHover$=new po(!1),this._pauseOnFocus$=new po(!1),this._pause$=new po(!1),this._wrap$=new po(!1),this.slide=new e.vpe,this.slid=new e.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(rf.ARROW_LEFT)}arrowRight(){this.focus(),this.next(rf.ARROW_RIGHT)}ngAfterContentInit(){(function at(n){return n===$e})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Ol([this.slide.pipe((0,Qn.U)(o=>o.current),_h(this.activeId)),this._wrap$,this.slides.changes.pipe(_h(null))]).pipe((0,Qn.U)(([o,u])=>{const p=this.slides.toArray(),b=this._getSlideIdxById(o);return u?p.length>1:b<p.length-1}),wc());Ol([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Qn.U)(([o,u,p,b,x,N,K])=>o||u&&p||b&&x||!K?0:N),wc(),mo(o=>o>0?$v(o,o):pC),so(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(rf.TIMER)))}),this.slides.changes.pipe(so(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(o=>(n=>{var r;null===(r=x_.get(n))||void 0===r||r.complete()})(this._getSlideElement(o))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Wi.q)(1)).subscribe(()=>{for(const{id:o}of this.slides){const u=this._getSlideElement(o);o===this.activeId?u.classList.add("active"):u.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,o){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),o)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Xl.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Xl.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,o,u){const p=this._transitionIds;if(p&&(p[0]!==t||p[1]!==this.activeId))return;let b=this._getSlideById(t);if(b&&b.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:b.id,direction:o,paused:this._pause$.value,source:u});const x={animation:this.animation,runningTransition:"stop",context:{direction:o}},N=[],K=this._getSlideById(this.activeId);if(K){const We=xa(this._ngZone,this._getSlideElement(K.id),vb,x);We.subscribe(()=>{K.slid.emit({isShown:!1,direction:o,source:u})}),N.push(We)}const he=this.activeId;this.activeId=b.id;const Ne=this._getSlideById(this.activeId),Je=xa(this._ngZone,this._getSlideElement(b.id),_b,x);Je.subscribe(()=>{null==Ne||Ne.slid.emit({isShown:!0,direction:o,source:u})}),N.push(Je),p_(...N).pipe((0,Wi.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:he,current:b.id,direction:o,paused:this._pause$.value,source:u})})}this._cd.markForCheck()}_getSlideEventDirection(t,o){return this._getSlideIdxById(t)>this._getSlideIdxById(o)?Xl.END:Xl.START}_getSlideById(t){return this.slides.find(o=>o.id===t)||null}_getSlideIdxById(t){const o=this._getSlideById(t);return null!=o?this.slides.toArray().indexOf(o):-1}_getNextSlide(t){const o=this.slides.toArray(),u=this._getSlideIdxById(t);return u===o.length-1?this.wrap?o[0].id:o[o.length-1].id:o[u+1].id}_getPrevSlide(t){const o=this.slides.toArray(),u=this._getSlideIdxById(t);return 0===u?this.wrap?o[o.length-1].id:o[0].id:o[u-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zw),e.Y36(e.Lbi),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,o,u){if(1&t&&e.Suo(u,cv,4),2&t){let p;e.iGM(p=e.CRH())&&(o.slides=p)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,o){1&t&&e.NdJ("keydown.arrowLeft",function(){return o.keyboard&&o.arrowLeft()})("keydown.arrowRight",function(){return o.keyboard&&o.arrowRight()})("mouseenter",function(){return o.mouseHover=!0})("mouseleave",function(){return o.mouseHover=!1})("focusin",function(){return o.focused=!0})("focusout",function(){return o.focused=!1}),2&t&&(e.uIk("aria-activedescendant","slide-"+o.activeId),e.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let r,t,o;return r=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,o=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],r,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],o]},template:function(t,o){1&t&&(e.TgZ(0,"ol",0),e.YNc(1,T_,1,5,"li",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,R1,4,4,"div",3),e.qZA(),e.YNc(4,k1,4,0,"a",4),e.YNc(5,nw,4,0,"a",5)),2&t&&(e.ekj("visually-hidden",!o.showNavigationIndicators),e.xp6(1),e.Q6J("ngForOf",o.slides),e.xp6(2),e.Q6J("ngForOf",o.slides),e.xp6(1),e.Q6J("ngIf",o.showNavigationArrows),e.xp6(1),e.Q6J("ngIf",o.showNavigationArrows))},directives:[nr,Gr,ke],encapsulation:2,changeDetection:0}),n})();var rf=(()=>{return(n=rf||(rf={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",rf;var n})();let _y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})(),bb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var os=(()=>{return(n=os||(os={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",os;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Cy=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Sb(n){const r=Array.from(n.querySelectorAll(Cy)).filter(t=>-1!==t.tabIndex);return[r[0],r[r.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Nt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te,Yo]]}),n})(),pv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();class Kd{constructor(r,t,o){this.nodes=r,this.viewRef=t,this.componentRef=o}}let xy=(()=>{class n{constructor(t,o){this._el=t,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Wi.q)(1)).subscribe(()=>{xa(this._zone,this._el.nativeElement,(t,o)=>{o&&bp(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return xa(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,o){2&t&&(e.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),e.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})();class gv{close(r){}dismiss(r){}}class Ay{constructor(r,t,o,u){this._windowCmptRef=r,this._contentRef=t,this._backdropCmptRef=o,this._beforeDismiss=u,this._closed=new si.x,this._dismissed=new si.x,this._hidden=new si.x,r.instance.dismissEvent.subscribe(p=>{this.dismiss(p)}),this.result=new Promise((p,b)=>{this._resolve=p,this._reject=b}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(so(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(so(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(r){this._windowCmptRef&&(this._closed.next(r),this._resolve(r),this._removeModalElements())}_dismiss(r){this._dismissed.next(r),this._reject(r),this._removeModalElements()}dismiss(r){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function iv(n){return n&&n.then}(t)?!1!==t&&this._dismiss(r):t.then(o=>{!1!==o&&this._dismiss(r)},()=>{})}else this._dismiss(r)}_removeModalElements(){const r=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,In.of)(void 0);r.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),p_(r,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Iy=(()=>{return(n=Iy||(Iy={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Iy;var n})();let GS=(()=>{class n{constructor(t,o,u){this._document=t,this._elRef=o,this._zone=u,this._closed$=new si.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new si.x,this.hidden=new si.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Wi.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,o={animation:this.animation,runningTransition:"stop"},b=p_(xa(this._zone,t,()=>t.classList.remove("show"),o),xa(this._zone,this._dialogEl.nativeElement,()=>{},o));return b.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),b}_show(){const t={animation:this.animation,runningTransition:"continue"};p_(xa(this._zone,this._elRef.nativeElement,(p,b)=>{b&&bp(p),p.classList.add("show")},t),xa(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Li(t,"keydown").pipe(so(this._closed$),pi(u=>u.which===os.Escape)).subscribe(u=>{this.keyboard?requestAnimationFrame(()=>{u.defaultPrevented||this._zone.run(()=>this.dismiss(Iy.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;Li(this._dialogEl.nativeElement,"mousedown").pipe(so(this._closed$),(0,ei.b)(()=>o=!1),mo(()=>Li(t,"mouseup").pipe(so(this._closed$),(0,Wi.q)(1))),pi(({target:u})=>t===u)).subscribe(()=>{o=!0}),Li(t,"click").pipe(so(this._closed$)).subscribe(({target:u})=>{t===u&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(Iy.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const o=t.querySelector("[ngbAutofocus]"),u=Sb(t)[0];(o||u||t).focus()}}_restoreFocus(){const t=this._document.body,o=this._elWithFocus;let u;u=o&&o.focus&&t.contains(o)?o:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>u.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&xa(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,o){if(1&t&&e.Gf(G1,7),2&t){let u;e.iGM(u=e.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,o){2&t&&(e.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),e.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),e.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:X0,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&t&&e.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),HS=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,u=o.style,{overflow:p,paddingRight:b}=u;if(t>0){const x=parseFloat(window.getComputedStyle(o).paddingRight);u.paddingRight=`${x+t}px`}return u.overflow="hidden",()=>{t>0&&(u.paddingRight=b),u.overflow=p}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qS=(()=>{class n{constructor(t,o,u,p,b,x){this._applicationRef=t,this._injector=o,this._document=u,this._scrollBar=p,this._rendererFactory=b,this._ngZone=x,this._activeWindowCmptHasChanged=new si.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const N=this._windowCmpts[this._windowCmpts.length-1];((n,r,t,o=!1)=>{this._ngZone.runOutsideAngular(()=>{const u=Li(r,"focusin").pipe(so(t),(0,Qn.U)(p=>p.target));Li(r,"keydown").pipe(so(t),pi(p=>p.which===os.Tab),rr(u)).subscribe(([p,b])=>{const[x,N]=Sb(r);(b===x||b===r)&&p.shiftKey&&(N.focus(),p.preventDefault()),b===N&&!p.shiftKey&&(x.focus(),p.preventDefault())}),o&&Li(r,"click").pipe(so(t),rr(u),(0,Qn.U)(p=>p[1])).subscribe(p=>p.focus())})})(0,N.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(N.location.nativeElement)}})}open(t,o,u,p){const b=p.container instanceof HTMLElement?p.container:nf(p.container)?this._document.querySelector(p.container):this._document.body,x=this._rendererFactory.createRenderer(null,null),N=this._scrollBar.hide(),K=()=>{this._modalRefs.length||(x.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!b)throw new Error(`The specified modal container "${p.container||"body"}" was not found in the DOM.`);const he=new gv,Ne=this._getContentRef(t,p.injector||o,u,he,p);let Je=!1!==p.backdrop?this._attachBackdrop(t,b):void 0,We=this._attachWindowComponent(t,b,Ne),ft=new Ay(We,Ne,Je,p.beforeDismiss);return this._registerModalRef(ft),this._registerWindowCmpt(We),ft.result.then(N,N),ft.result.then(K,K),he.close=yt=>{ft.close(yt)},he.dismiss=yt=>{ft.dismiss(yt)},this._applyWindowOptions(We.instance,p),1===this._modalRefs.length&&x.addClass(this._document.body,"modal-open"),Je&&Je.instance&&(this._applyBackdropOptions(Je.instance,p),Je.changeDetectorRef.detectChanges()),We.changeDetectorRef.detectChanges(),ft}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(o=>o.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,o){let p=t.resolveComponentFactory(xy).create(this._injector);return this._applicationRef.attachView(p.hostView),o.appendChild(p.location.nativeElement),p}_attachWindowComponent(t,o,u){let b=t.resolveComponentFactory(GS).create(this._injector,u.nodes);return this._applicationRef.attachView(b.hostView),o.appendChild(b.location.nativeElement),b}_applyWindowOptions(t,o){this._windowAttributes.forEach(u=>{nf(o[u])&&(t[u]=o[u])})}_applyBackdropOptions(t,o){this._backdropAttributes.forEach(u=>{nf(o[u])&&(t[u]=o[u])})}_getContentRef(t,o,u,p,b){return u?u instanceof e.Rgc?this._createFromTemplateRef(u,p):function cb(n){return"string"==typeof n}(u)?this._createFromString(u):this._createFromComponent(t,o,u,p,b):new Kd([])}_createFromTemplateRef(t,o){const p=t.createEmbeddedView({$implicit:o,close(b){o.close(b)},dismiss(b){o.dismiss(b)}});return this._applicationRef.attachView(p),new Kd([p.rootNodes],p)}_createFromString(t){const o=this._document.createTextNode(`${t}`);return new Kd([[o]])}_createFromComponent(t,o,u,p,b){const x=t.resolveComponentFactory(u),N=e.zs3.create({providers:[{provide:gv,useValue:p}],parent:o}),K=x.create(N),he=K.location.nativeElement;return b.scrollable&&he.classList.add("component-host-scrollable"),this._applicationRef.attachView(K.hostView),new Kd([[he]],K.hostView,K)}_setAriaHidden(t){const o=t.parentElement;o&&t!==this._document.body&&(Array.from(o.children).forEach(u=>{u!==t&&"SCRIPT"!==u.nodeName&&(this._ariaHiddenValues.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,o)=>{t?o.setAttribute("aria-hidden",t):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const o=()=>{const u=this._modalRefs.indexOf(t);u>-1&&(this._modalRefs.splice(u,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(o,o)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const o=this._windowCmpts.indexOf(t);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(q),e.LFG(HS),e.LFG(e.FYo),e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZS=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(A_))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zS=(()=>{class n{constructor(t,o,u,p){this._moduleCFR=t,this._injector=o,this._modalStack=u,this._config=p}open(t,o={}){const u=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._moduleCFR,this._injector,t,u)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(qS),e.LFG(ZS))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[zS]}),n})(),iD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})(),pD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})(),gD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})(),mD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})(),_D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})(),vD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})(),yD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();new e.OlP("live announcer delay",{providedIn:"root",factory:function ox(){return 100}});let bD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Te]]}),n})();const sx=[gb,Gw,qw,_y,bb,Nt,pv,eD,iD,hD,pD,gD,mD,_D,vD,yD,bD];let ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[sx,gb,Gw,qw,_y,bb,Nt,pv,eD,iD,hD,pD,gD,mD,_D,vD,yD,bD]}),n})(),Jd=(()=>{class n{constructor(t,o){this.loginService=t,this.router=o}canActivate(){return!!this.loginService.isLoggedUser()||(this.router.navigate(["login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ta.r),e.LFG(li))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),DT=(()=>{class n{constructor(t,o){this.loginService=t,this.router=o}canActivate(){return!this.loginService.isLoggedUser()||(this.router.navigate(["home"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ta.r),e.LFG(li))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const Oo=void 0,lx=["es",[["a.\xa0m.","p.\xa0m."],Oo,Oo],Oo,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],Oo,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],Oo,[["a. C.","d. C."],Oo,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",Oo,"{1}, {0}",Oo],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[Oo,"$"],BRL:[Oo,"R$"],CAD:[Oo,"$"],CNY:[Oo,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[Oo,"\xa3"],HKD:[Oo,"$"],ILS:[Oo,"\u20aa"],INR:[Oo,"\u20b9"],JPY:[Oo,"\xa5"],KRW:[Oo,"\u20a9"],MXN:[Oo,"$"],NZD:[Oo,"$"],PHP:[Oo,"\u20b1"],RON:[Oo,"L"],THB:["\u0e3f"],TWD:[Oo,"NT$"],USD:["US$","$"],XAF:[],XCD:[Oo,"$"],XOF:[]},"ltr",function cx(n){return 1===n?1:5}];let ST=(()=>{class n{constructor(t,o){this.shopProductService=t,this.productService=o,this.userAlerts=new si.x,this._userAlerts=this.loadUnreadAlerts(),this.calculateAlerts(!0)}loadUnreadAlerts(){let t={updateDate:(new Date).getTime(),alerts:[]};const o=localStorage.getItem(Ni.M.PS_USER_ALERTS);if(o){const u=JSON.parse(o);return u.alerts.forEach(p=>{this.productService._products.find(b=>b.barcode===p.productBarcode)||this.removeObsoleteProductAlerts(p.productBarcode,u.alerts)}),u}return t}updateAccessDateAlerts(){this._userAlerts.updateDate=(new Date).getTime(),this.saveAlerts()}saveAlerts(){localStorage.setItem(Ni.M.PS_USER_ALERTS,JSON.stringify(this._userAlerts))}removeObsoleteProductAlerts(t,o){o&&o.length>0&&(o=o.filter(u=>u.productBarcode!==t))}toggleReadAlert(t){t.read=!t.read;const o=localStorage.getItem(Ni.M.PS_USER_ALERTS);if(o){const u=JSON.parse(o),p=u.alerts.find(b=>b.date===t.date&&b.productBarcode===t.productBarcode&&b.shopId===t.shopId&&b.currentPrice===t.currentPrice&&b.lastPrice===t.lastPrice);p.read=!p.read,localStorage.setItem(Ni.M.PS_USER_ALERTS,JSON.stringify(u))}}getUnreadAlerts(){return this._userAlerts.alerts.filter(t=>!t.read).length}calculateAlerts(t){console.log("AlertsService.calculateAlerts()");const o=this._userAlerts.updateDate,u=this.productService._products.filter(N=>N.favourite).map(N=>N.barcode),p=this.shopProductService._shopsProducts.filter(N=>!(u.indexOf(N.productBarcode)<0)&&N.updateDate>=o),b=[];p.forEach(N=>{b.find(K=>K.productBarcode===N.productBarcode&&K.shopId===N.shopId)||b.push(N)}),b.map(N=>this.shopProductService.getShopProductHistory(N).filter(K=>K.updateDate>=o)).forEach(N=>{N.length>1&&N[N.length-2].price!==N[N.length-1].price&&(this._userAlerts.alerts.find(he=>he.date===N[N.length-1].updateDate&&he.shopId===N[N.length-1].shopId&&he.productBarcode===N[N.length-1].productBarcode)||this._userAlerts.alerts.push({currentPrice:N[N.length-1].price,date:N[N.length-1].updateDate,lastPrice:N[N.length-2].price,productBarcode:N[N.length-1].productBarcode,shopId:N[N.length-1].shopId,read:!1}))}),console.log(this._userAlerts),this.userAlerts.next(this._userAlerts),t?this.updateAccessDateAlerts():this.saveAlerts()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ta),e.LFG(ea.M))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ux(n,r){1&n&&e.GkF(0)}function dx(n,r){1&n&&(e.TgZ(0,"div",10),e._UZ(1,"i",11),e.TgZ(2,"div",12),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"alerts.unreadInfoText")))}const hx=function(n){return{read:n}},fx=function(n,r){return{"text-success":n,"text-danger":r}},px=function(n,r){return{"fa-circle-arrow-down":n,"fa-circle-arrow-up":r}};function gx(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",13),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(2).toggleReadAlert(p)}),e.TgZ(2,"div",14)(3,"div",15)(4,"div",16),e._UZ(5,"i",17),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"number"),e.qZA()(),e.TgZ(9,"div",18),e._UZ(10,"img",19),e.qZA(),e.TgZ(11,"div",20)(12,"div",21)(13,"div"),e._uU(14),e.ALo(15,"date"),e.qZA()(),e.TgZ(16,"div",22)(17,"div",23),e._uU(18),e.qZA()()()()(),e.BQk()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(14,hx,t.read)),e.xp6(3),e.Q6J("ngClass",e.WLB(16,fx,t.lastPrice>t.currentPrice,t.lastPrice<t.currentPrice)),e.xp6(1),e.Q6J("ngClass",e.WLB(19,px,t.lastPrice>t.currentPrice,t.lastPrice<t.currentPrice)),e.xp6(2),e.AsE(" ",t.currentPrice-t.lastPrice>0?"+":"","",e.xi3(8,8,t.currentPrice-t.lastPrice,"1.2-2")," \u20ac "),e.xp6(3),e.Q6J("src",o.getShop(t.shopId).imageUrl,e.LSH),e.xp6(4),e.Oqu(e.xi3(15,11,t.date,"dd.MM.yyyy - HH:mm")),e.xp6(4),e.Oqu(o.getProduct(t.productBarcode).name)}}function mx(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",5),e.YNc(2,dx,5,3,"div",6),e.TgZ(3,"div",7)(4,"ul",8),e.YNc(5,gx,19,22,"ng-container",9),e.qZA()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.unreadAlerts>0),e.xp6(3),e.Q6J("ngForOf",t.userAlerts.alerts)}}function _x(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"span",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",26),e.TgZ(3,"span",27),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",28),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.alerts")))}function vx(n,r){1&n&&(e.TgZ(0,"div",30)(1,"small",31),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"commons.noData")))}let yx=(()=>{class n{constructor(t,o,u,p){this.router=t,this.alertService=o,this.shopService=u,this.productService=p,this.unreadAlerts=0}exit(){this.router.navigate([""])}getProduct(t){return this.productService._products.find(o=>o.barcode===t)}getShop(t){return this.shopService._shops.find(o=>o.id===t)}toggleReadAlert(t){this.alertService.toggleReadAlert(t),this.unreadAlerts=this.alertService.getUnreadAlerts()}sortAlerts(){this.userAlerts.alerts.sort((t,o)=>t.date>o.date?-1:1)}ngOnInit(){this.userAlerts=this.alertService._userAlerts,this.sortAlerts(),this.unreadAlerts=this.alertService.getUnreadAlerts(),this.alertService.userAlerts.subscribe(t=>{this.userAlerts=t,this.sortAlerts(),this.unreadAlerts=this.alertService.getUnreadAlerts()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(ST),e.Y36(Ns.d),e.Y36(ea.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-alerts"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100","bg-danger"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["breadcrumb",""],["noData",""],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],["class","alert alert-info d-flex",4,"ngIf"],[1,"w-100"],[1,"list-group","list-group-flush"],[4,"ngFor","ngForOf"],[1,"alert","alert-info","d-flex"],[1,"fas","fa-triangle-exclamation","me-2","mt-1"],[1,"text-start"],[1,"list-group-item","text-start","p-0","mb-1",3,"ngClass","click"],[1,"d-flex","w-100"],[1,"left","d-flex","flex-column","align-items-center","justify-content-center","w-25","px-2"],[1,"icon-container",3,"ngClass"],[1,"fas","mb-1",3,"ngClass"],[1,"left","d-flex","align-items-center","justify-content-center"],[1,"shop-logo",3,"src"],[1,"right","d-flex","flex-column","p-3"],[1,"d-flex","w-100","mb-2"],[1,"d-flex"],[1,"fw-bold"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],[1,"no-data-msg","ps-4"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,ux,1,0,"ng-container",1),e.qZA(),e.YNc(2,mx,6,2,"ng-container",2),e.YNc(3,_x,11,6,"ng-template",null,3,e.W1O),e.YNc(5,vx,4,3,"ng-template",null,4,e.W1O)),2&t){const u=e.MAs(4),p=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",u),e.xp6(1),e.Q6J("ngIf",(null==o.userAlerts||null==o.userAlerts.alerts?null:o.userAlerts.alerts.length)>0)("ngIfElse",p)}},directives:[Gr,ke,nr,Tr],pipes:[Uo,M,Co],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 195px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;color:#fff;border:1px solid #ccc}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}.list-group-item[_ngcontent-%COMP%]{font-size:9pt}.list-group-item.read[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.4}.list-group-item[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]{border-right:1px solid #ccc}.list-group-item[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]   div.icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{max-width:65px;max-height:65px}div.alert[_ngcontent-%COMP%]{font-size:9pt}"]}),n})();function bx(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.registerError")))}function Cx(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.passwordsDifferentError")))}function wx(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.passwordLengthError")))}function Tx(n,r){if(1&n&&(e.TgZ(0,"span",18),e.YNc(1,bx,3,3,"small",19),e.YNc(2,Cx,3,3,"small",19),e.YNc(3,wx,3,3,"small",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerError),e.xp6(1),e.Q6J("ngIf",!t.validatePasswords()&&t.user.passwordRepeat.length>5&&t.user.password.length>5),e.xp6(1),e.Q6J("ngIf",!t.validatePasswords()&&(t.user.passwordRepeat.length<6||t.user.password.length<6))}}const Ex=function(n){return{disabled:n}};let Dx=(()=>{class n{constructor(t,o,u){this.firestoreAuthService=t,this.loginService=o,this.router=u,this.user={email:"",password:"",passwordRepeat:""},this.registerError=!1}register(){if(this.canAccess()){this.registerError=!1;const{email:t,password:o}=this.user;this.firestoreAuthService.register(t,o).then(u=>{if(u){console.log(u);const p={email:this.user.email};alert("Register ok!"),this.loginService.login(p),this.router.navigate(["home"])}else this.registerError=!0})}}goToLogin(){this.router.navigate(["login"])}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}validatePasswords(){var t,o,u,p,b,x;return(null===(o=null===(t=this.user)||void 0===t?void 0:t.password)||void 0===o?void 0:o.length)>5&&(null===(p=null===(u=this.user)||void 0===u?void 0:u.passwordRepeat)||void 0===p?void 0:p.length)>5&&(null===(b=this.user)||void 0===b?void 0:b.password)===(null===(x=this.user)||void 0===x?void 0:x.passwordRepeat)}canAccess(){var t;return this.user.email.length>0&&(null===(t=this.validateEmail(this.user.email))||void 0===t?void 0:t.length)>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(up),e.Y36(ta.r),e.Y36(li))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:35,vars:34,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","passwordRepeat",1,"fw-bold"],["type","password","id","passwordRepeat","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-2",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100",3,"click"],[1,"text-start","text-danger","mb-2"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(p){return o.user.email=p}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",7)(16,"label",10),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("ngModelChange",function(p){return o.user.password=p}),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",7)(22,"label",12),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"input",13),e.NdJ("ngModelChange",function(p){return o.user.passwordRepeat=p}),e.ALo(26,"translate"),e.qZA()(),e.YNc(27,Tx,4,3,"span",14),e.qZA()()(),e.TgZ(28,"div",15)(29,"button",16),e.NdJ("click",function(){return o.register()}),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){return o.goToLogin()}),e._uU(33),e.ALo(34,"translate"),e.qZA()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,14,"login.registering")," "),e.xp6(7),e.Oqu(e.lcZ(12,16,"login.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,18,"login.email")),e.Q6J("ngModel",o.user.email),e.xp6(4),e.Oqu(e.lcZ(18,20,"login.password")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,22,"login.password")),e.Q6J("ngModel",o.user.password),e.xp6(4),e.Oqu(e.lcZ(24,24,"login.passwordRepeat")),e.xp6(2),e.s9C("placeholder",e.lcZ(26,26,"login.passwordRepeat")),e.Q6J("ngModel",o.user.passwordRepeat),e.xp6(2),e.Q6J("ngIf",o.canAccess()&&(o.registerError||!o.validatePasswords())),e.xp6(2),e.Q6J("ngClass",e.VKq(32,Ex,!o.canAccess()||!o.validatePasswords())),e.xp6(1),e.hij(" ",e.lcZ(31,28,"login.doRegister")," "),e.xp6(3),e.hij(" ",e.lcZ(34,30,"commons.back")," "))},directives:[Yr,Pl,Ii,Ko,ke,Tr],pipes:[Uo],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),n})();function Sx(n,r){1&n&&(e.TgZ(0,"div",7)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shopStandings.title.cheap")))}function xx(n,r){1&n&&(e.TgZ(0,"div",7)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shopStandings.title.expensive")))}function Ax(n,r){1&n&&e.GkF(0)}function Ix(n,r){if(1&n&&(e.TgZ(0,"li")(1,"div",19),e._UZ(2,"i",20),e.TgZ(3,"span",21),e._uU(4),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(4),e.AsE("",t.name," (",t.brand,")")}}function Px(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",17)(2,"ul",18),e.YNc(3,Ix,5,2,"li",12),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngForOf",null==t?null:t.products)}}const Ox=function(n){return{active:n}};function Mx(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",13),e._uU(3),e.qZA(),e.TgZ(4,"td",14),e._uU(5),e.qZA(),e.TgZ(6,"td",11),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td")(10,"i",15),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return p.showProducts=!p.showProducts}),e.qZA()()(),e.YNc(11,Px,4,1,"tr",16),e.BQk()}if(2&n){const t=r.$implicit,o=r.index,u=e.oxw(2);e.xp6(3),e.Oqu(o+1),e.xp6(2),e.Oqu(u.getShopName(t.shopId)),e.xp6(2),e.Oqu(e.xi3(8,5,t.times,"1.0-2")),e.xp6(3),e.Q6J("ngClass",e.VKq(8,Ox,t.showProducts)),e.xp6(1),e.Q6J("ngIf",t.showProducts)}}function Nx(n,r){if(1&n&&(e.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",11),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"th"),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,Mx,12,10,"ng-container",12),e.qZA()()()),2&n){const t=e.oxw();e.xp6(7),e.Oqu(e.lcZ(8,3,"shopStandings.shop")),e.xp6(3),e.Oqu(e.lcZ(11,5,"shopStandings.numProducts")),e.xp6(4),e.Q6J("ngForOf",t.standings)}}function Rx(n,r){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"small",24),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"shopStandings.noDataEnough")))}function kx(n,r){1&n&&(e.TgZ(0,"small",29),e._UZ(1,"span",30),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.hij("",e.lcZ(4,1,"shopStandings.noFavouriteProducts"),"."))}function Lx(n,r){if(1&n&&(e.TgZ(0,"div",25),e._UZ(1,"i",26),e.TgZ(2,"div",27)(3,"small",28),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",29),e._UZ(8,"span",30),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,kx,5,3,"small",31),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.AsE("",e.lcZ(5,4,"shopStandings.noResults"),". ",e.lcZ(6,6,"shopStandings.possibleReasons"),":"),e.xp6(6),e.hij("",e.lcZ(11,8,"shopStandings.noProductsWithPrices"),"."),e.xp6(2),e.Q6J("ngIf",t.onlyFavourites)}}let Fx=(()=>{class n{constructor(t,o,u){this.shopProductService=t,this.shopService=o,this.productService=u,this.standings=[],this.target="CHEAP",this.onlyFavourites=!0,this.favouriteProductBarcodes=[]}calculateStandings(){const t=[],o=[],u=[];this.shopsProducts.forEach(p=>{(!this.onlyFavourites||this.isFavouriteProduct(p.productBarcode))&&t.indexOf(p.productBarcode)<0&&t.push(p.productBarcode)}),this.shopsProducts.forEach(p=>{(!this.onlyFavourites||this.isFavouriteProduct(p.productBarcode))&&o.indexOf(p.shopId)<0&&o.push(p.shopId)}),(t.length>1||o.length>1)&&t.forEach(p=>{const b=this.shopsProducts.filter(N=>N.productBarcode===p),x=[];if(b.forEach(N=>{x.indexOf(N.shopId)<0&&x.push(N.shopId)}),x.length>1){const N=this.shopsProducts.filter(We=>We.productBarcode===p);let K=[];x.forEach(We=>{K.push(N.filter(ft=>ft.shopId===We)[0])}),K=K.sort((We,ft)=>We.updateDate>ft.updateDate?-1:1);const he=K.sort((We,ft)=>We.price>ft.price?"CHEAP"===this.target?1:-1:"CHEAP"===this.target?-1:1);let Je=[];if(K.length>1&&he[0].price!==he[he.length-1].price){const We=K[0].price,ft=this.productService._products.find(yt=>K[0].productBarcode===yt.barcode);Je=K.filter(yt=>yt.price===We).map(yt=>yt.shopId),Je.forEach(yt=>{const $t=u.findIndex(un=>un.shopId===yt);$t>=0?(u[$t].times++,u[$t].products.push(ft)):u.push({shopId:yt,times:1,products:[ft],showProducts:!1})})}}}),this.standings=u.sort((p,b)=>p.times>b.times?-1:1)}getShopName(t){var o;return null===(o=this.shops.find(u=>u.id===t))||void 0===o?void 0:o.name}isFavouriteProduct(t){return this.favouriteProductBarcodes.indexOf(t)>=0}ngOnChanges(t){t.onlyFavourites&&!t.onlyFavourites.firstChange&&this.calculateStandings()}ngOnInit(){console.log("ShopStandingsComponent.ngOnInit()"),this.shopService.shops.subscribe(t=>{this.shops=t.sort((o,u)=>o.name>u.name?1:-1)}),this.shops=this.shopService._shops,this.shopsProductsSubscription&&this.shopsProductsSubscription.unsubscribe(),this.favouriteProductBarcodes=this.productService.getFavourites(),this.shopsProductsSubscription=this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((o,u)=>o.updateDate>u.updateDate?-1:1),this.calculateStandings()}),this.shopsProducts=this.shopProductService._shopsProducts,this.calculateStandings()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ta),e.Y36(Ns.d),e.Y36(ea.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shop-standings"]],inputs:{target:"target",onlyFavourites:"onlyFavourites"},features:[e.TTD],decls:10,vars:6,consts:[[1,"d-flex","w-100","py-1","px-3","shop-standings"],[1,"d-flex","flex-column","w-100"],["class","title mt-2 mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","w-100 p-2",4,"ngIf","ngIfElse"],["noStandings",""],["noFilterMatches",""],[1,"title","mt-2","mb-1"],[1,"w-100","p-2"],[1,"table","table-sm"],[1,"text-end","pe-3","w-15"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","pe-3"],[1,"fw-bold"],[1,"fas","fa-eye",3,"ngClass","click"],[4,"ngIf"],["colspan","4"],[1,"product-list","ms-2","mb-1","ps-2","ms-0"],[1,"d-flex","justify-items-between","align-items-start","w-100"],[1,"fas","fa-angle-right","me-3","mt-1"],[1,"product-name"],[1,"no-standings","d-flex","justify-content-start","align-items-center","w-100"],[1,"fas","fa-warning","text-warning","me-2"],[1,"p-2"],[1,"no-filter-matches","d-flex","justify-content-start","align-items-start","w-100"],[1,"fas","fa-warning","text-warning","me-2","mt-2"],[1,"d-flex","flex-column","mb-2"],[1,"p-2","text-start"],[1,"p-1","smaller","d-flex","align-items-start","text-start"],[1,"fas","fa-angle-right","mt-1","me-2"],["class","p-1 smaller d-flex align-items-start text-start",4,"ngIf"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Sx,4,3,"div",2),e.YNc(3,xx,4,3,"div",2),e.YNc(4,Ax,1,0,"ng-container",3),e.YNc(5,Nx,15,7,"div",4),e.qZA()(),e.YNc(6,Rx,5,3,"ng-template",null,5,e.W1O),e.YNc(8,Lx,13,10,"ng-template",null,6,e.W1O)),2&t){const u=e.MAs(7),p=e.MAs(9);e.xp6(2),e.Q6J("ngIf","CHEAP"===o.target),e.xp6(1),e.Q6J("ngIf","EXPENSIVE"===o.target),e.xp6(1),e.Q6J("ngIf",o.shopsProducts.length>0)("ngIfElse",u),e.xp6(1),e.Q6J("ngIf",(null==o.standings?null:o.standings.length)>0)("ngIfElse",p)}},directives:[ke,nr,Tr],pipes:[Uo,M],styles:[".title[_ngcontent-%COMP%]{font-size:13pt}.shop-standings[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;margin:5px 0;background-color:#fff}.shop-standings[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:10pt}.no-standings[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#444;font-style:normal}.no-standings[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%]{font-size:8pt}ul.product-list[_ngcontent-%COMP%]{list-style-type:none;color:#888}ul.product-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:auto}.fa-eye[_ngcontent-%COMP%]{color:#ccc}.fa-eye.active[_ngcontent-%COMP%]{color:#444}"]}),n})();function Bx(n,r){1&n&&e.GkF(0)}function Ux(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"span",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",10),e.TgZ(3,"span",11),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",12),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",13),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.analysis")))}let jx=(()=>{class n{constructor(t,o,u){this.router=t,this.spinner=o,this.productService=u,this.onlyFavourites=!1}exit(){this.router.navigate([""])}ngOnInit(){this.spinner.show(),this.onlyFavourites=this.productService.getFavourites().length>0,setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(ia),e.Y36(ea.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-statistics"]],decls:12,vars:9,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],[3,"onlyFavourites","target"],["breadcrumb",""],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Bx,1,0,"ng-container",1),e.TgZ(2,"div",2)(3,"input",3),e.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),e.qZA(),e.TgZ(4,"label",4),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",5),e._UZ(8,"app-shop-standings",6)(9,"app-shop-standings",6),e.qZA(),e.YNc(10,Ux,11,6,"ng-template",null,7,e.W1O)),2&t){const u=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",u),e.xp6(2),e.Q6J("ngModel",o.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(6,7,"commons.onlyFavouriteProducts")),e.xp6(3),e.Q6J("onlyFavourites",o.onlyFavourites)("target","CHEAP"),e.xp6(1),e.Q6J("onlyFavourites",o.onlyFavourites)("target","EXPENSIVE")}},directives:[Gr,Do,Ii,Ko,Fx],pipes:[Uo],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 205px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#5f9ea0;color:#fff;border:1px solid #ccc}"]}),n})();function Vx(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleShopList()}),e.TgZ(3,"div",8)(4,"div",13),e._UZ(5,"i",14),e.TgZ(6,"span",15),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"small",16),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()(),e.TgZ(12,"div",11)(13,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleProductList()}),e.TgZ(14,"div",8)(15,"div",13),e._UZ(16,"i",18),e.TgZ(17,"span",15),e._uU(18),e.ALo(19,"number"),e.qZA(),e.TgZ(20,"small",16),e._uU(21),e.ALo(22,"translate"),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Oqu(e.xi3(8,4,null==t.shops?null:t.shops.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(11,7,"home.shops")),e.xp6(8),e.Oqu(e.xi3(19,9,null==t.products?null:t.products.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(22,12,"home.products"))}}function Gx(n,r){if(1&n&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,t.alerts_unread,"1.0-2"))}}const Hx=function(n){return{disabled:n}},qx=function(n){return{"mb-3":n}};function Zx(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleAlerts()}),e.TgZ(3,"div",8)(4,"div",13),e._UZ(5,"i",20),e.YNc(6,Gx,3,4,"span",21),e.TgZ(7,"small",16),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()(),e.TgZ(10,"div",11)(11,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleStatistics()}),e.TgZ(12,"div",8)(13,"div",13),e._UZ(14,"i",23),e.TgZ(15,"small",16),e._uU(16),e.ALo(17,"translate"),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(9,Hx,!t.alerts)),e.xp6(3),e.Q6J("ngClass",e.VKq(11,qx,!t.alerts_unread)),e.xp6(1),e.Q6J("ngIf",t.alerts_unread),e.xp6(2),e.Oqu(e.lcZ(9,5,"home.alerts")),e.xp6(8),e.Oqu(e.lcZ(17,7,"home.analysis"))}}function zx(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"div",4),e.YNc(4,Vx,23,14,"ng-container",5),e.qZA(),e.TgZ(5,"div",6)(6,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().scan()}),e.TgZ(7,"div",8),e._UZ(8,"i",9),e.TgZ(9,"div",10),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA()()()(),e.TgZ(15,"div",4),e.YNc(16,Zx,18,13,"ng-container",5),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.products.length>0),e.xp6(6),e.Oqu(e.lcZ(11,4,"home.scan")),e.xp6(3),e.Oqu(e.lcZ(14,6,"home.here")),e.xp6(3),e.Q6J("ngIf",t.products.length>0)}}function Wx(n,r){1&n&&(e.TgZ(0,"div",24),e._uU(1," Carregant... "),e.qZA())}let $x=(()=>{class n{constructor(t,o,u,p,b,x){this.router=t,this.productService=o,this.shopService=u,this.shopProductService=p,this.spinner=b,this.alertService=x,this.alerts=0,this.alerts_unread=0}toggleShopList(){this.router.navigate(["search-shops"])}toggleProductList(){this.router.navigate(["search-products"])}toggleStatistics(){this.router.navigate(["statistics"])}toggleAlerts(){this.router.navigate(["alerts"])}scan(){this.router.navigate(["scan"])}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(t=>{this.spinner.show(),this.shops=t.sort((o,u)=>o.name.toUpperCase()>u.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.productService.products.subscribe(t=>{this.spinner.show(),this.products=t.sort((o,u)=>o.name.toUpperCase()>u.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.shopProductService.shopsProducts.subscribe(()=>{this.alertService.calculateAlerts(!1)}),this.alertService.userAlerts.subscribe(t=>{this.alerts=t.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts(),console.log(t)}),this.shops=this.shopService._shops,this.products=this.productService._products,this.alerts=this.alertService._userAlerts.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts(),setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(ea.M),e.Y36(Ns.d),e.Y36(Ta),e.Y36(ia),e.Y36(ST))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"button-container","d-flex","justify-content-between","align-items","center","w-100","mb-3"],[1,"d-flex","flex-column","justify-content-around","w-100","buttons","pb-4","pt-3","px-3"],[1,"w-100","d-flex","justify-content-around","pt-3"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center","mb-3","mt-2"],[1,"bubble-btn","scan-btn","btn","btn-lg","btn-dark","w-50","m-1","py-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"fas","fa-barcode","mb-2"],[1,"text-center","fw-light"],[1,"d-flex"],[1,"bubble-btn","sm","shops-btn","btn","btn-lg","bg-info","w-100","m-1","py-3",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-store"],[1,"count"],[1,"btn-label"],[1,"bubble-btn","sm","products-btn","btn","btn-lg","bg-warning","w-100","m-1","py-3",3,"click"],[1,"fas","fa-shopping-basket"],[1,"bubble-btn","sm","alerts-btn","btn","btn-lg","bg-danger","w-100","m-1","py-3","disabled",3,"ngClass","click"],[1,"fas","fa-triangle-exclamation",3,"ngClass"],["class","count",4,"ngIf"],[1,"bubble-btn","sm","statistics-btn","btn","btn-lg","w-100","m-1","py-3",3,"click"],[1,"fas","fa-chart-line","mb-3"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,o){if(1&t&&(e.YNc(0,zx,17,8,"ng-container",0),e.YNc(1,Wx,2,0,"ng-template",null,1,e.W1O)),2&t){const u=e.MAs(2);e.Q6J("ngIf",o.products&&o.shops)("ngIfElse",u)}},directives:[ke,Tr],pipes:[M,Uo],styles:[".button-container[_ngcontent-%COMP%]{height:calc(100vh - 90px)!important}.bubble-btn[_ngcontent-%COMP%]{border-radius:100px;border:2px solid ivory}.bubble-btn.sm[_ngcontent-%COMP%]{height:120px!important;width:120px!important;color:#fff}.bubble-btn.sm[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:22pt}.bubble-btn.sm[_ngcontent-%COMP%]   small.btn-label[_ngcontent-%COMP%]{position:relative;top:-8px}.bubble-btn.sm.statistics-btn[_ngcontent-%COMP%]{background-color:#5f9ea0}.bubble-btn.disabled[_ngcontent-%COMP%]{opacity:.2}.bubble-btn.scan-btn[_ngcontent-%COMP%]{height:170px;width:170px!important}.bubble-btn.scan-btn[_ngcontent-%COMP%]   .fa-barcode[_ngcontent-%COMP%]{font-size:36pt}"]}),n})();function Kx(n,r){if(1&n&&e._UZ(0,"img",7),2&n){const t=e.oxw(2);e.Q6J("src",t.getImageUrl(t.currentLanguage),e.LSH)}}function Jx(n,r){if(1&n&&e._UZ(0,"img",7),2&n){const t=e.oxw(2).$implicit,o=e.oxw(2);e.Q6J("src",o.getImageUrl(t),e.LSH)}}function Yx(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",9),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit;return e.oxw(2).setLanguage(u)}),e.TgZ(1,"div",10),e.YNc(2,Jx,1,1,"img",4),e.TgZ(3,"span"),e._uU(4),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.Q6J("ngIf",o.languageImages),e.xp6(2),e.Oqu(o.getLabel(t))}}function Qx(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Yx,5,2,"li",8),e.BQk()),2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.currentLanguage!==t)}}function Xx(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"button",3),e.YNc(4,Kx,1,1,"img",4),e.qZA(),e.TgZ(5,"ul",5),e.YNc(6,Qx,2,1,"ng-container",6),e.qZA()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.languageImages),e.xp6(2),e.Q6J("ngForOf",t.languages)}}let CD=(()=>{class n{constructor(t,o){this.translate=t,this.translationsService=o}setLanguage(t){this.currentLanguage=t,this.translate.use(t),localStorage.setItem(Ni.M.PS_APP_LANGUAGE,t)}getImageUrl(t){return this.languageImages.find(o=>o.language===t).imageUrl}getLabel(t){return this.languageImages.find(o=>o.language===t).name}ngOnInit(){this.languages=this.translationsService.getLanguages(),this.currentLanguage=this.translate.currentLang,this.languageImages=this.translationsService.getTranslationData().map(t=>({language:t.language,imageUrl:t.imageUrl,name:t.name}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(oa),e.Y36(Qm))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-language-selector"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["class","me-2",3,"src",4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"me-2",3,"src"],["class","user py-2",3,"click",4,"ngIf"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"]],template:function(t,o){1&t&&e.YNc(0,Xx,7,2,"ng-container",0),2&t&&e.Q6J("ngIf",o.currentLanguage&&o.languages)},directives:[ke,nr],styles:["img[_ngcontent-%COMP%]{height:25px;width:25px}"]}),n})();function eA(n,r){if(1&n&&(e.TgZ(0,"div",4),e._UZ(1,"i"),e.TgZ(2,"div",5)(3,"strong",6),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"small",7),e._uU(7),e.ALo(8,"translate"),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Tol(t.iconClass),e.xp6(3),e.Oqu(e.lcZ(5,4,t.title)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.text))}}function tA(n,r){1&n&&(e.ynx(0),e.YNc(1,eA,9,8,"ng-template",3),e.BQk())}function nA(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"ngb-carousel"),e.YNc(2,tA,2,0,"ng-container",2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.slides)}}let rA=(()=>{class n{constructor(t,o){this.translate=o,t.interval=7e3,t.wrap=!0,t.keyboard=!1,t.pauseOnHover=!1,t.animation=!0}ngOnInit(){console.log("CarouselComponent.ngOnInit()"),this.slides=[{title:"carousel.step1.title",text:"carousel.step1.text",iconClass:"fa-brands fa-buromobelexperte"},{title:"carousel.step2.title",text:"carousel.step2.text",iconClass:"fas fa-barcode"},{title:"carousel.step3.title",text:"carousel.step3.text",iconClass:"fas fa-list-ol"},{title:"carousel.step4.title",text:"carousel.step4.text",iconClass:"fas fa-pen-to-square"}]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zw),e.Y36(oa))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-carousel"]],decls:2,vars:1,consts:[[1,"carousel-container","w-100","h-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slide-container","d-flex","justify-content-center","align-items-center","mx-5","px-3"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-0","ps-3"],[1,"w-100","mb-2"],[1,"w-100","text-start"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,nA,3,1,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.slides))},directives:[ke,my,nr,cv],pipes:[Uo],styles:[".carousel-container[_ngcontent-%COMP%]{background-color:transparent;border-radius:10px}.slide-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:10px;min-height:160px}.slide-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .slide-container[_ngcontent-%COMP%]   i.fa-brands[_ngcontent-%COMP%]{font-size:32pt}small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();function iA(n,r){1&n&&(e.TgZ(0,"span",23)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"login.error")))}function oA(n,r){}function sA(n,r){1&n&&e.YNc(0,oA,0,0,"ng-template")}function aA(n,r){1&n&&(e.TgZ(0,"div",24),e._UZ(1,"app-carousel"),e.qZA())}const cA=function(n){return{disabled:n}},lA=function(){return["/register"]};let uA=(()=>{class n{constructor(t,o,u){this.loginService=t,this.firestoreAuthService=o,this.router=u,this.user={email:"",password:""},this.loginError=!1}login(){if(this.canAccess()){this.loginError=!1;const{email:t,password:o}=this.user;this.firestoreAuthService.login(t,o).then(u=>{console.log(u),u?(this.loginService.login({email:this.user.email}),this.router.navigate(["home"])):this.loginError=!0})}}loginGoogle(){this.loginError=!1;const{email:t,password:o}=this.user;this.firestoreAuthService.loginWithGoogle(t,o).then(u=>{u?(console.log(u),this.loginService.login({username:u.user.displayName,email:u.user.email,photoURL:u.user.photoURL}),this.router.navigate(["home"])):this.loginError=!0})}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}canAccess(){return this.user.email.length>0&&this.validateEmail(this.user.email)&&this.user.password.length>0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ta.r),e.Y36(up),e.Y36(li))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:44,vars:39,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"text-start","fst-italic","px-3"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-1",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100","mb-1",3,"click"],["src","https://www.google.es/images/branding/googleg/1x/googleg_standard_color_128dp.png",1,"me-1"],[1,"mt-2","text-start"],[1,"me-2"],["href","#",3,"routerLink"],[4,"ngTemplateOutlet"],["carousel",""],[1,"text-start","text-danger","mb-2"],[1,"carousel-template-container","d-flex","justify-content-center","align-items-center","py-3","px-0","mt-3","w-100"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"app-language-selector"),e.qZA(),e.TgZ(7,"small",4),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",10),e.NdJ("ngModelChange",function(p){return o.user.email=p}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",8)(20,"label",11),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("ngModelChange",function(p){return o.user.password=p}),e.ALo(24,"translate"),e.qZA()(),e.YNc(25,iA,4,3,"span",13),e.qZA()()(),e.TgZ(26,"div",14)(27,"button",15),e.NdJ("click",function(){return o.login()}),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"button",16),e.NdJ("click",function(){return o.loginGoogle()}),e._UZ(31,"img",17),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"label",18)(35,"small",19),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"a",20),e._uU(39),e.ALo(40,"translate"),e.qZA()()(),e.YNc(41,sA,1,0,null,21),e.qZA(),e.YNc(42,aA,2,0,"ng-template",null,22,e.W1O)),2&t){const u=e.MAs(43);e.xp6(4),e.hij(" ",e.lcZ(5,16,"login.welcome")," "),e.xp6(4),e.Oqu(e.lcZ(9,18,"login.welcome.subtitle")),e.xp6(7),e.Oqu(e.lcZ(16,20,"login.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,22,"login.email")),e.Q6J("ngModel",o.user.email),e.xp6(4),e.Oqu(e.lcZ(22,24,"login.password")),e.xp6(2),e.s9C("placeholder",e.lcZ(24,26,"login.password")),e.Q6J("ngModel",o.user.password),e.xp6(2),e.Q6J("ngIf",o.loginError),e.xp6(2),e.Q6J("ngClass",e.VKq(36,cA,!o.canAccess())),e.xp6(1),e.hij(" ",e.lcZ(29,28,"login.access")," "),e.xp6(4),e.hij(" ",e.lcZ(33,30,"login.accessGoogle")," "),e.xp6(4),e.Oqu(e.lcZ(37,32,"login.notAccount")),e.xp6(2),e.Q6J("routerLink",e.DdM(38,lA)),e.xp6(1),e.Oqu(e.lcZ(40,34,"login.register")),e.xp6(2),e.Q6J("ngTemplateOutlet",u)}},directives:[CD,Yr,Pl,Ii,Ko,ke,Tr,ec,Gr,rA],pipes:[Uo],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),n})();var Py=(()=>{return(n=Py||(Py={})).CREATE="CREATE",n.SEARCH="SEARCH",n.SELECT="SELECT",Py;var n})();let xT=(()=>{class n{constructor(t){this.http=t}loadProduct(t){return this.http.get("https://es.openfoodfacts.org/api/v0/product/"+t+".json")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Jh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dA(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"img",6),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)}}function hA(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,dA,2,1,"ng-container",0),e.TgZ(4,"div",3)(5,"h5",4),e._uU(6),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.imageUrl),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.brand," ")}}let fA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-product-scan-result"]],inputs:{name:"name",brand:"brand",imageUrl:"imageUrl"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","w-100","my-3"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text","brand"],[1,"card-img-top",3,"src"]],template:function(t,o){1&t&&e.YNc(0,hA,9,3,"ng-container",0),2&t&&e.Q6J("ngIf",o.name||o.brand||o.imageUrl)},directives:[ke],styles:[".card-img-top[_ngcontent-%COMP%]{max-height:230px;object-fit:cover}"]}),n})();const pA=["priceInput"];function gA(n,r){1&n&&(e.TgZ(0,"div",15),e._UZ(1,"i",16),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.init")))}function mA(n,r){1&n&&(e.TgZ(0,"div",15),e._UZ(1,"i",18),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.initError")))}function _A(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"barcode-scanner-livestream",13),e.NdJ("valueChanges",function(u){return e.CHM(t),e.oxw().onValueChanges(u)})("started",function(u){return e.CHM(t),e.oxw().onStarted(u)}),e.qZA(),e.YNc(3,gA,5,3,"div",14),e.YNc(4,mA,5,3,"div",14),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.barcodeScannerStarted),e.xp6(1),e.Q6J("ngIf",t.barcodeScannerError)}}function vA(n,r){if(1&n&&(e.TgZ(0,"div")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",22),e._uU(5),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,2,"scanner.code"),":"),e.xp6(3),e.Oqu(t.barcodeValue)}}function yA(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.productRegistered")))}function bA(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"i",23),e.YNc(2,yA,3,3,"span",0),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.isSavedProduct)}}function CA(n,r){1&n&&(e.ynx(0),e._UZ(1,"i",24),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.productNotRegistered")))}function wA(n,r){1&n&&(e.ynx(0),e.TgZ(1,"div",25)(2,"div",26),e._UZ(3,"i",27),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.BQk()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"scanner.productUnknown")))}function TA(n,r){if(1&n&&(e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,vA,6,4,"div",0),e.TgZ(3,"div",21)(4,"small"),e.YNc(5,bA,3,1,"ng-container",0),e.YNc(6,CA,5,3,"ng-container",0),e.YNc(7,wA,7,3,"ng-container",0),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound),e.xp6(3),e.Q6J("ngIf",t.isSavedProduct),e.xp6(1),e.Q6J("ngIf",!t.isSavedProduct&&t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound)}}function EA(n,r){1&n&&e.GkF(0)}function DA(n,r){if(1&n&&(e.ynx(0),e.YNc(1,EA,1,0,"ng-container",28),e.BQk()),2&n){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function SA(n,r){1&n&&e.GkF(0)}function xA(n,r){if(1&n&&(e.ynx(0),e.YNc(1,SA,1,0,"ng-container",28),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function AA(n,r){if(1&n&&(e.ynx(0),e.YNc(1,DA,2,1,"ng-container",0),e.YNc(2,xA,2,1,"ng-container",0),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.openFoodProductFound||t.isSavedProduct),e.xp6(1),e.Q6J("ngIf",!t.loadingOpenFoodProduct&&!t.isSavedProduct&&!t.openFoodProductFound)}}function IA(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("name",t.savedProduct.name)("brand",t.savedProduct.brand)("imageUrl",t.savedProduct.imageUrl)}}function PA(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("name",null==t.openFoodProduct.product?null:t.openFoodProduct.product.product_name)("brand",null==t.openFoodProduct.product?null:t.openFoodProduct.product.brands)("imageUrl",null==t.openFoodProduct.product?null:t.openFoodProduct.product.image_url)}}function OA(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("name","?")("brand","?")("imageUrl",t.DEFAULT_IMAGE_URL)}}function MA(n,r){1&n&&e.GkF(0)}function NA(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",30),e.YNc(2,MA,1,0,"ng-container",28),e.qZA(),e.BQk()),2&n){e.oxw(2);const t=e.MAs(10);e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function RA(n,r){if(1&n&&(e.YNc(0,IA,2,3,"ng-container",0),e.YNc(1,PA,2,3,"ng-container",0),e.YNc(2,OA,2,3,"ng-container",0),e.YNc(3,NA,3,1,"ng-container",0)),2&n){const t=e.oxw();e.Q6J("ngIf",t.savedProduct),e.xp6(1),e.Q6J("ngIf",t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",!t.savedProduct&&!t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",t.mode===t.ProductScanModeEnum.CREATE)}}function kA(n,r){1&n&&e.GkF(0)}function LA(n,r){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,kA,1,0,"ng-container",28),e.qZA()),2&n){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function FA(n,r){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const wD=function(n){return{disabled:n}};function BA(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"label",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",35),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().newProduct.barcode=u}),e.qZA()(),e.TgZ(6,"div",33)(7,"label",36),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",37),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().newProduct.name=u}),e.qZA()(),e.TgZ(11,"div",33)(12,"label",38),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",39),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().newProduct.brand=u}),e.qZA()()(),e.TgZ(16,"div",32)(17,"div",33)(18,"label",40),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"select",41),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().shopProduct.shopId=u})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(22,"option"),e.YNc(23,FA,2,2,"option",42),e.qZA()(),e.TgZ(24,"div",33)(25,"label",43),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",44,45),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().shopProduct.price=u}),e.qZA()()(),e.TgZ(30,"button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().createProduct()}),e._UZ(31,"i",47),e.TgZ(32,"span"),e._uU(33),e.ALo(34,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,17,"scanner.code")),e.xp6(2),e.s9C("value",t.newProduct.barcode),e.Q6J("ngModel",t.newProduct.barcode),e.xp6(3),e.Oqu(e.lcZ(9,19,"scanner.name")),e.xp6(2),e.s9C("value",t.newProduct.name),e.Q6J("ngModel",t.newProduct.name),e.xp6(3),e.Oqu(e.lcZ(14,21,"scanner.brand")),e.xp6(2),e.s9C("value",t.newProduct.brand),e.Q6J("ngModel",t.newProduct.brand),e.xp6(4),e.Oqu(e.lcZ(20,23,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProduct.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(3),e.Oqu(e.lcZ(27,25,"scanner.proce")),e.xp6(2),e.s9C("value",t.shopProduct.price),e.Q6J("ngModel",t.shopProduct.price),e.xp6(2),e.Q6J("ngClass",e.VKq(29,wD,!t.canCreateProductAndPrice())),e.xp6(3),e.Oqu(e.lcZ(34,27,"scanner.productPriceSave"))}}function UA(n,r){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function jA(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"label",40),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",41),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().shopProduct.shopId=u})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(6,"option"),e.YNc(7,UA,2,2,"option",42),e.qZA()(),e.TgZ(8,"div",33)(9,"label",43),e._uU(10,"Preu"),e.qZA(),e.TgZ(11,"input",44,45),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().shopProduct.price=u}),e.qZA()(),e.TgZ(13,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveShopProduct()}),e._uU(14),e.ALo(15,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,7,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProduct.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(4),e.s9C("value",t.shopProduct.price),e.Q6J("ngModel",t.shopProduct.price),e.xp6(2),e.Q6J("ngClass",e.VKq(11,wD,!t.shopProduct.price||0===t.shopProduct.price||!t.shopProduct.shopId||0===t.shopProduct.shopId.length)),e.xp6(1),e.hij(" ",e.lcZ(15,9,"scanner.save")," ")}}function VA(n,r){1&n&&(e.TgZ(0,"div",50),e._UZ(1,"i",51),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.instructions")))}function GA(n,r){1&n&&(e.TgZ(0,"div",52),e._UZ(1,"i",53),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.productNotFound")))}function HA(n,r){1&n&&(e.TgZ(0,"div",52),e._UZ(1,"i",54),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.searchingProduct")))}function qA(n,r){1&n&&(e.TgZ(0,"div",55),e._UZ(1,"i",56),e.qZA())}function ZA(n,r){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.shopProduct))}}function zA(n,r){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.newProduct))}}function WA(n,r){if(1&n&&(e.TgZ(0,"small")(1,"ul",57)(2,"li"),e._uU(3),e.qZA(),e.TgZ(4,"li"),e._uU(5),e.qZA(),e.TgZ(6,"li"),e._uU(7),e.qZA(),e.TgZ(8,"li"),e._uU(9),e.qZA(),e.TgZ(10,"li"),e._uU(11,"-------------------------"),e.qZA(),e.YNc(12,ZA,3,3,"li",0),e.YNc(13,zA,3,3,"li",0),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.hij("mode: ",t.mode,""),e.xp6(2),e.hij("isSavedProduct: ",t.isSavedProduct,""),e.xp6(2),e.hij("openFoodProductFound: ",t.openFoodProductFound,""),e.xp6(2),e.hij("loadingOpenFoodProduct: ",t.loadingOpenFoodProduct,""),e.xp6(3),e.Q6J("ngIf",t.shopProduct),e.xp6(1),e.Q6J("ngIf",t.newProduct)}}let $A=(()=>{class n{constructor(t,o,u,p,b,x){this.openFoodService=t,this.productService=o,this.shopService=u,this.shopProductService=p,this.loginService=b,this.translate=x,this.onSaveProduct=new e.vpe,this.onCreateProduct=new e.vpe,this.onSaveShopProduct=new e.vpe,this.onProductFound=new e.vpe,this.onBarcodeRead=new e.vpe,this.DEFAULT_IMAGE_URL=rs.T,this.barcodeScannerStarted=!1,this.barcodeScannerError=!1,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=!1,this.isSavedProduct=!1,this.productHasPrices=!1,this.barcodeChanged=new si.x,this.ProductScanModeEnum=Py,this.barcodeChanged.pipe(sl(500),wc()).subscribe(N=>{this.barcodeValue!==N.codeResult.code&&(this.onBarcodeRead.emit(),this.barcodeValue=N.codeResult.code,this.newProduct.barcode=this.barcodeValue,this.shopProduct.productBarcode=this.barcodeValue,this.savedProduct=void 0,this.productHasPrices=!1,this.savedProduct=this.products.find(K=>K.barcode===this.barcodeValue),this.isSavedProduct=void 0!==this.savedProduct,this.isSavedProduct?this.isSavedProduct&&(this.onProductFound.emit(),this.productHasPrices=this.shopsProducts.filter(K=>K.productBarcode===this.barcodeValue).length>0):this.getOpenFoodProduct(this.barcodeValue))})}getOpenFoodProduct(t){this.openFoodProduct=void 0,this.loadingOpenFoodProduct=!0,this.openFoodProductFound=!1,setTimeout(()=>{this.openFoodService.loadProduct(t).subscribe(o=>{this.openFoodProduct=o,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=void 0!==o.product,this.openFoodProductFound&&this.onProductFound.emit();const u=this.products.find(p=>p.barcode===t);u&&this.openFoodProduct.product&&(this.openFoodProduct.product.brands=u.brand,this.openFoodProduct.product.image_url=u.imageUrl,this.openFoodProduct.product.product_name=u.name)})},300)}onValueChanges(t){!this.openFoodProductFound&&!this.isSavedProduct&&!this.loadingOpenFoodProduct&&this.barcodeChanged.next(t)}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}saveProduct(){var t,o,u,p,b,x;if(this.savedProduct)this.onSaveProduct.emit(this.savedProduct);else{const N={id:nl(),barcode:this.barcodeValue,brand:(null===(o=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===o?void 0:o.brands)?this.capitalizeFirstLetter(this.openFoodProduct.product.brands):"?",favourite:!1,name:(null===(p=null===(u=this.openFoodProduct)||void 0===u?void 0:u.product)||void 0===p?void 0:p.product_name)?this.capitalizeFirstLetter(this.openFoodProduct.product.product_name):"?",imageUrl:(null===(x=null===(b=this.openFoodProduct)||void 0===b?void 0:b.product)||void 0===x?void 0:x.image_url)?this.openFoodProduct.product.image_url:rs.T};this.onSaveProduct.emit(N)}}canCreateProductAndPrice(){return this.newProduct&&this.shopProduct&&this.newProduct.name.length>0&&this.newProduct.brand.length>0&&this.shopProduct.price&&this.shopProduct.shopId&&this.shopProduct.shopId.length>0}createProduct(){this.onCreateProduct.emit({product:this.newProduct,shopProduct:this.shopProduct})}saveShopProduct(){var t,o,u,p,b,x;this.products.find(K=>K.barcode===this.shopProduct.productBarcode)?this.onSaveShopProduct.emit(this.shopProduct):confirm(this.translate.instant("scanner.createUnknownProductConfirm"))&&(this.openFoodProductFound?(this.newProduct={id:nl(),barcode:this.shopProduct.productBarcode,brand:(null===(o=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===o?void 0:o.brands)||"?",favourite:!1,name:(null===(p=null===(u=this.openFoodProduct)||void 0===u?void 0:u.product)||void 0===p?void 0:p.product_name)||"?",imageUrl:(null===(x=null===(b=this.openFoodProduct)||void 0===b?void 0:b.product)||void 0===x?void 0:x.image_url)||rs.T,createdBy:this.loggedUser},this.products.push(this.newProduct)):(this.newProduct.barcode=this.shopProduct.productBarcode,this.products.push(this.newProduct)),console.log(this.newProduct),this.productService.createProduct(this.newProduct).subscribe(()=>{this.onSaveShopProduct.emit(this.shopProduct)}))}selectPriceInput(){this.priceInput.nativeElement.select()}ngAfterViewInit(){this.loggedUser=this.loginService.getLoggedUser(),this.barcodeScanner.start();const t=localStorage.getItem(Ni.M.PS_LAST_SHOP_ID);this.newProduct={id:nl(),barcode:"",name:"",brand:"",favourite:!1,createdBy:this.loggedUser,imageUrl:rs.T},this.shopProduct={price:0,productBarcode:void 0,shopId:t||void 0,updateDate:(new Date).getTime(),createdBy:this.loggedUser},this.shopProductService.shopsProducts.subscribe(o=>{this.shopsProducts=o}),this.productService.products.subscribe(o=>{this.products=o}),this.shopService.shops.subscribe(o=>{this.shops=o}),this.shopsProducts=this.shopProductService._shopsProducts,this.shops=this.shopService._shops,this.products=this.productService._products}onStarted(t){this.barcodeScannerStarted=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(xT),e.Y36(ea.M),e.Y36(Ns.d),e.Y36(Ta),e.Y36(ta.r),e.Y36(oa))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-barcode-scanner"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Wv,5),e.Gf(pA,5)),2&t){let u;e.iGM(u=e.CRH())&&(o.barcodeScanner=u.first),e.iGM(u=e.CRH())&&(o.priceInput=u.first)}},inputs:{mode:"mode"},outputs:{onSaveProduct:"onSaveProduct",onCreateProduct:"onCreateProduct",onSaveShopProduct:"onSaveShopProduct",onProductFound:"onProductFound",onBarcodeRead:"onBarcodeRead"},decls:21,vars:5,consts:[[4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center mt-0",4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["productTemplate",""],["class","d-flex flex-column",4,"ngIf"],["productAndPriceShopForm",""],["priceShopForm",""],["scanInstructions",""],["noProductFound",""],["loader",""],["noProductImage",""],["debug",""],[1,"d-flex","justify-content-center","align-items-center","w-100","scanner-container","mb-2"],["type","ean",3,"valueChanges","started"],["class","d-flex flex-column w-100 justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-column","w-100","justify-content-center","align-items-center"],[1,"mb-2","fas","fa-spinner","fa-spin"],[1,"fst-italic"],[1,"mb-2","fas","fa-warning","text-danger"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mt-0"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"d-flex","w-100","justify-content-center","align-items-center","my-2"],[1,"mx-2"],[1,"fas","fa-check","text-success","me-2"],[1,"fas","fa-info-circle","text-info","me-2"],[1,"d-flex","flex-column","w-100","justify-content-start"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"fas","fa-circle-question","text-warning","me-2"],[4,"ngTemplateOutlet"],[3,"name","brand","imageUrl"],[1,"d-flex","w-100","px-3"],[1,"d-flex","flex-column"],[1,"d-flex","flex-column","w-100","mt-2"],[1,"form-group","mb-3","w-100"],["for","prodbarcode"],["id","prodbarcode","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodname"],["id","prodname","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodbrand"],["id","prodbrand","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","shop"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price"],["id","price","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-2",3,"ngClass","click"],[1,"fas","fa-shopping-basket","me-3"],[3,"value"],[1,"btn","btn-secondary","btn-lg","mb-3",3,"ngClass","click"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-center","mt-3","w-100","py-1","px-2"],[1,"fas","fa-info-circle","me-3"],[1,"d-flex","justify-content-center","align-items-center","mt-3","w-100"],[1,"fas","fa-warning","me-2"],[1,"fas","fa-spinner","me-2"],[1,"d-flex","justify-content-start","align-items-center","mt-3","ms-3","w-100"],[1,"fas","fa-image"],[1,"mt-3"]],template:function(t,o){if(1&t&&(e.YNc(0,_A,5,2,"ng-container",0),e.YNc(1,TA,8,4,"div",1),e.TgZ(2,"div",2),e.YNc(3,AA,3,2,"ng-container",0),e.qZA(),e.YNc(4,RA,4,4,"ng-template",null,3,e.W1O),e.YNc(6,LA,2,1,"div",4),e.YNc(7,BA,35,31,"ng-template",null,5,e.W1O),e.YNc(9,jA,16,13,"ng-template",null,6,e.W1O),e.YNc(11,VA,5,3,"ng-template",null,7,e.W1O),e.YNc(13,GA,5,3,"ng-template",null,8,e.W1O),e.YNc(15,HA,5,3,"ng-template",null,9,e.W1O),e.YNc(17,qA,2,0,"ng-template",null,10,e.W1O),e.YNc(19,WA,14,6,"ng-template",null,11,e.W1O)),2&t){const u=e.MAs(12);e.Q6J("ngIf",!o.openFoodProductFound&&!o.isSavedProduct),e.xp6(1),e.Q6J("ngIf",o.barcodeValue)("ngIfElse",u),e.xp6(2),e.Q6J("ngIf",o.barcodeValue),e.xp6(3),e.Q6J("ngIf",!1)}},directives:[ke,Wv,Gr,fA,Yr,Ii,Ko,qc,pd,gd,nr,ld,Tr],pipes:[Uo,Ho],styles:[".scanner-container[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;border:2px solid #fff;min-height:200px;color:#fff;font-weight:300;background-color:#2c2c2c66}.card-img-top[_ngcontent-%COMP%]{height:100px}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();const KA=["barcodeInput"],JA=["priceInput"];function YA(n,r){1&n&&e.GkF(0)}function QA(n,r){1&n&&e._UZ(0,"i",12)}function XA(n,r){1&n&&e._UZ(0,"i",12)}function eI(n,r){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"i",17),e.TgZ(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"scanner.searchInstructions")," "))}function tI(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"app-barcode-scanner",14),e.NdJ("onSaveShopProduct",function(u){return e.CHM(t),e.oxw().saveShopProduct(u)})("onCreateProduct",function(u){return e.CHM(t),e.oxw().createProduct(u)})("onProductFound",function(){return e.CHM(t),e.oxw().productFound=!0})("onBarcodeRead",function(){return e.CHM(t),e.oxw().barcodeRead=!0}),e.qZA(),e.YNc(3,eI,5,3,"div",15),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("mode",t.ProductScanModeEnum.CREATE),e.xp6(1),e.Q6J("ngIf",!t.productFound&&!t.barcodeRead)}}function nI(n,r){1&n&&e.GkF(0)}function rI(n,r){1&n&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.scanner")))}function iI(n,r){1&n&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.manual")))}function oI(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"span",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",20),e.TgZ(3,"span",21),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",22),e._uU(7,"/"),e.qZA(),e.YNc(8,rI,3,3,"span",23),e.YNc(9,iI,3,3,"span",23),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,3,"breadcrumb.home")),e.xp6(4),e.Q6J("ngIf","SCANNER"===t.mode),e.xp6(1),e.Q6J("ngIf","MANUAL"===t.mode)}}function sI(n,r){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const TD=function(n){return{readonly:n}},aI=function(n){return{disabled:n}};function cI(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA(),e.TgZ(2,"div",27)(3,"label",28),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",29)(7,"label",30),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",31,32),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().productDetail.barcode=u}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",33)(14,"label",34),e._uU(15,"Nom"),e.qZA(),e.TgZ(16,"input",35),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().productDetail.name=u}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",33)(19,"label",36),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",37),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().productDetail.brand=u}),e.ALo(23,"translate"),e.qZA()()(),e._UZ(24,"hr"),e.TgZ(25,"div",38)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",33)(30,"label",39),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"select",40),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().shopProductDetail.shopId=u})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(34,"option"),e.YNc(35,sI,2,2,"option",41),e.qZA()(),e.TgZ(36,"div",33)(37,"label",42),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"input",43,44),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().shopProductDetail.price=u}),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"button",45),e.NdJ("click",function(){e.CHM(t);const u=e.oxw();return u.createProduct({product:u.productDetail,shopProduct:u.shopProductDetail})}),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",null==t.productDetail?null:t.productDetail.imageUrl,e.LSH),e.xp6(3),e.Oqu(e.lcZ(5,25,"scanner.product")),e.xp6(4),e.Oqu(e.lcZ(9,27,"scanner.code")),e.xp6(2),e.s9C("value",null==t.productDetail?null:t.productDetail.barcode),e.s9C("placeholder",e.lcZ(12,29,"scanner.code")),e.Q6J("ngModel",t.productDetail.barcode),e.xp6(6),e.s9C("value",null==t.productDetail?null:t.productDetail.name),e.s9C("placeholder",e.lcZ(17,31,"scanner.name")),e.Q6J("ngClass",e.VKq(47,TD,t.lockProductEdition))("ngModel",t.productDetail.name),e.xp6(4),e.Oqu(e.lcZ(21,33,"scanner.brand")),e.xp6(2),e.s9C("value",null==t.productDetail?null:t.productDetail.brand),e.s9C("placeholder",e.lcZ(23,35,"scanner.brand")),e.Q6J("ngClass",e.VKq(49,TD,t.lockProductEdition))("ngModel",t.productDetail.brand),e.xp6(5),e.Oqu(e.lcZ(28,37,"scanner.price")),e.xp6(4),e.Oqu(e.lcZ(32,39,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProductDetail.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(3),e.Oqu(e.lcZ(39,41,"scanner.price")),e.xp6(2),e.s9C("value",null==t.shopProductDetail?null:t.shopProductDetail.price),e.s9C("placeholder",e.lcZ(42,43,"scanner.price")),e.Q6J("ngModel",t.shopProductDetail.price),e.xp6(3),e.Q6J("ngClass",e.VKq(51,aI,!t.canCreateProductAndPrice())),e.xp6(2),e.Oqu(e.lcZ(46,45,"scanner.save"))}}const ED=function(n){return{active:n}},lI=function(n){return{hidden:n}};let uI=(()=>{class n{constructor(t,o,u,p,b,x,N){this.router=t,this.shopProductService=o,this.productService=u,this.loginService=p,this.shopService=b,this.openFoodService=x,this.translate=N,this.ProductScanModeEnum=Py,this.productDetail={id:nl(),barcode:"",brand:"",favourite:!1,name:""},this.shopProductDetail={price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime()},this.productFound=!1,this.barcodeRead=!1,this.matchingBarcode=!1,this.lockProductEdition=!1,this.lastShopId="",this.mode="SCANNER"}setMode(t){this.mode=t,"MANUAL"===t&&(this.productDetail=this.getNewProduct(),this.shopProductDetail=this.getNewShopProduct(),this.initBarcodeTextInput())}getNewProduct(){return{id:nl(),barcode:"",brand:"",favourite:!1,name:"",createdBy:this.loggedUser,imageUrl:rs.T}}getNewShopProduct(){return{price:0,productBarcode:"",shopId:this.lastShopId,updateDate:(new Date).getTime(),createdBy:this.loggedUser}}initBarcodeTextInput(){this.barcodeChangeSubscription&&this.barcodeChangeSubscription.unsubscribe(),Li(this.barcodeInput.nativeElement,"keyup").pipe((0,Qn.U)(o=>o.target.value),pi(o=>o.length>2),sl(500),wc()).subscribe(o=>{console.log("barcodeInput changed:",o),this.shopProductDetail.productBarcode=o,this.productDetail.barcode=o,this.lockProductEdition=!0,this.matchingBarcode=!0;const u=this.productService._products.find(p=>p.barcode===o);u?(this.productDetail.name=u.name,this.productDetail.barcode=u.barcode,this.productDetail.brand=u.brand,this.productDetail.favourite=u.favourite,this.productDetail.imageUrl=u.imageUrl,this.productDetail.createdBy=u.createdBy,this.matchingBarcode=!1):(this.openFoodProductLoadSubscription&&this.openFoodProductLoadSubscription.unsubscribe(),this.openFoodProductLoadSubscription=this.openFoodService.loadProduct(o).subscribe(p=>{void 0!==p.product?(this.productDetail.name=p.product.product_name,this.productDetail.barcode=o,this.productDetail.brand=p.product.brands,this.productDetail.favourite=!1,this.productDetail.imageUrl=p.product.image_url,this.productDetail.createdBy=this.loggedUser,this.matchingBarcode=!1,this.lockProductEdition=!1):(this.matchingBarcode=!1,this.lockProductEdition=!1,this.productDetail.name="",this.productDetail.brand="",this.productDetail.favourite=!1,this.productDetail.imageUrl=rs.T)}))})}selectPriceInput(){this.priceInput.nativeElement.select()}canCreateProductAndPrice(){var t,o,u,p;return this.productDetail&&(null===(t=this.productDetail.barcode)||void 0===t?void 0:t.length)>0&&(null===(o=this.productDetail.name)||void 0===o?void 0:o.length)>0&&(null===(u=this.productDetail.brand)||void 0===u?void 0:u.length)>0&&this.shopProductDetail&&(null===(p=this.shopProductDetail.productBarcode)||void 0===p?void 0:p.length)>0&&this.shopProductDetail.price>0&&this.shopProductDetail.shopId&&this.shopProductDetail.shopId.length>0}saveShopProduct(t){t?(console.log("saveShopProduct()",t),t.createdBy=this.loggedUser,this.shopProductService.addShopProduct(t).subscribe(()=>{localStorage.setItem(Ni.M.PS_LAST_SHOP_ID,t.shopId),this.exit()})):(console.log("saveShopProduct()",this.shopProductDetail),!this.shopsProducts.some(u=>u.productBarcode===this.shopProductDetail.productBarcode&&u.shopId===this.shopProductDetail.shopId)||confirm(this.translate.instant("scanner.addExistingShopProductConfirm"))?(this.shopsProducts.push(this.shopProductDetail),this.shopProductService.addShopProduct(t).subscribe(()=>{localStorage.setItem(Ni.M.PS_LAST_SHOP_ID,t.shopId),this.exit()})):this.exit())}createProduct(t){console.log("AddProductByBarcodeComponent.createProduct()",t),this.lockProductEdition?t.shopProduct?this.shopProductService.addShopProduct(t.shopProduct).subscribe(()=>{localStorage.setItem(Ni.M.PS_LAST_SHOP_ID,t.shopProduct.shopId),this.exit()}):this.exit():this.productService.createProduct(t.product).subscribe(()=>{t.shopProduct?this.shopProductService.addShopProduct(t.shopProduct).subscribe(()=>{localStorage.setItem(Ni.M.PS_LAST_SHOP_ID,t.shopProduct.shopId),this.exit()}):this.exit()})}exit(){this.router.navigate([""])}ngOnInit(){this.loggedUser=this.loginService.getLoggedUser(),this.shopProductService.shopsProducts.subscribe(o=>{this.shopsProducts=o}),this.shopsProducts=this.shopProductService._shopsProducts,this.shopService.shops.subscribe(o=>{this.shops=o}),this.shops=this.shopService._shops;const t=localStorage.getItem(Ni.M.PS_LAST_SHOP_ID);t&&(this.lastShopId=t,this.shopProductDetail.shopId=t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(Ta),e.Y36(ea.M),e.Y36(ta.r),e.Y36(Ns.d),e.Y36(xT),e.Y36(oa))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-product-by-barcode"]],viewQuery:function(t,o){if(1&t&&(e.Gf(KA,5),e.Gf(JA,5)),2&t){let u;e.iGM(u=e.CRH())&&(o.barcodeInput=u.first),e.iGM(u=e.CRH())&&(o.priceInput=u.first)}},decls:21,vars:22,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"breadcrumb-container","d-flex","flex-column","mb-","px-3","w-100"],[4,"ngTemplateOutlet"],["role","group","aria-label","Basic example",1,"btn-group","w-100","mb-3"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100","h-100","page-content"],[4,"ngIf"],[1,"d-flex","flex-column","w-100",3,"ngClass"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","pb-2"],["breadcrumb",""],["productAndPriceShopForm",""],[1,"fas","fa-check","me-2"],[1,"d-flex","flex-column"],[3,"mode","onSaveShopProduct","onCreateProduct","onProductFound","onBarcodeRead"],["class","\n            d-flex\n            justify-content-center\n            align-items-start\n            alert alert-light\n          ",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-start","alert","alert-light"],[1,"fas","fa-hand-point-right","me-2","mt-1"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"],[1,"d-flex","justify-content-center","align-items-center","w-100","mt-2"],[1,"product-image",3,"src"],[1,"d-flex","flex-column","w-100","mt-0"],[1,"fw-bold","my-2"],[1,"d-flex","form-group","mb-1","w-100"],["for","prodbarcode",1,"pe-3"],["id","prodbarcode","type","number",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["barcodeInput",""],[1,"form-group","mb-1","w-100"],["for","prodname",1,"pe-3"],["id","prodname","type","text",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],["for","prodbrand",1,"pe-3"],["id","prodbrand","type","text",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],[1,"d-flex","flex-column","w-100"],["for","shop",1,"pe-3"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price",1,"pe-3"],["id","price","type","number",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-3",3,"ngClass","click"],[3,"value"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,YA,1,0,"ng-container",2),e.qZA(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.setMode("SCANNER")}),e.YNc(5,QA,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return o.setMode("MANUAL")}),e.YNc(9,XA,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",6),e.YNc(13,tI,4,2,"ng-container",7),e.TgZ(14,"div",8),e.YNc(15,nI,1,0,"ng-container",2),e.qZA(),e._UZ(16,"div",9),e.qZA()(),e.YNc(17,oI,10,5,"ng-template",null,10,e.W1O),e.YNc(19,cI,47,53,"ng-template",null,11,e.W1O)),2&t){const u=e.MAs(18),p=e.MAs(20);e.xp6(2),e.Q6J("ngTemplateOutlet",u),e.xp6(2),e.Q6J("ngClass",e.VKq(16,ED,"SCANNER"===o.mode)),e.xp6(1),e.Q6J("ngIf","SCANNER"===o.mode),e.xp6(1),e.hij(" ",e.lcZ(7,12,"scanner.scanner")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(18,ED,"MANUAL"===o.mode)),e.xp6(1),e.Q6J("ngIf","MANUAL"===o.mode),e.xp6(1),e.hij(" ",e.lcZ(11,14,"scanner.manual")," "),e.xp6(3),e.Q6J("ngIf","SCANNER"===o.mode),e.xp6(1),e.Udp("height","MANUAL"!==o.mode?"0px":"auto"),e.Q6J("ngClass",e.VKq(20,lI,"MANUAL"!==o.mode)),e.xp6(1),e.Q6J("ngTemplateOutlet",p)}},directives:[Gr,Tr,ke,$A,ld,Yr,Ii,Ko,qc,pd,gd,nr],pipes:[Uo],styles:[".btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px;width:50%}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}.hidden[_ngcontent-%COMP%]{height:0px;overflow:hidden}.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.8;background-color:#f0f8ff}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:20%;text-align:right}.product-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.breadcrumb-container[_ngcontent-%COMP%]{color:#fff;background-color:#444}.page-content[_ngcontent-%COMP%]{overflow:auto}"]}),n})(),dI=(()=>{class n{constructor(t){this.router=t,this.history=[],this.router.events.pipe(pi(o=>o instanceof ms)).subscribe(o=>{("/"===o.url||"/home"===o.url)&&(this.history=[]),this.history.unshift(o.url)})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(li))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"span",7)(2,"span",3),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",t.pathUrl),e.xp6(2),e.Oqu(t.label)}}function fI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.label)}}function pI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"span",5),e._uU(2,"/"),e.qZA(),e.YNc(3,hI,4,2,"ng-container",6),e.YNc(4,fI,3,1,"ng-container",6),e.BQk()),2&n){const t=r.index,o=e.oxw();e.xp6(3),e.Q6J("ngIf",t<o.steps.length-1),e.xp6(1),e.Q6J("ngIf",t===o.steps.length-1)}}let DD=(()=>{class n{constructor(t,o,u,p,b){this.router=t,this.navigationService=o,this.shopService=u,this.productService=p,this.translate=b,this.steps=[]}exit(){this.router.navigateByUrl("")}getLabel(t){return t.match("/edit-product")?this.productService._products.find(o=>o.barcode===t.replace("/edit-product/","")).name:t.match("/edit-shop")?this.shopService._shops.find(o=>o.id===t.replace("/edit-shop/","")).name:t.match("/search-products")?this.translate.instant("breadcrumb.products"):t.match("/search-shops")?this.translate.instant("breadcrumb.shops"):""}ngOnInit(){this.navigationService.history.findIndex(u=>"/"===u||"/home"===u);let o=JSON.parse(JSON.stringify(this.navigationService.history));if(o.length>2&&(o=o.slice(0,2).reverse()),this.steps=o.map(u=>({label:this.getLabel(u),pathUrl:u})),this.steps.length>1){const p=this.steps[this.steps.length-2];this.steps[this.steps.length-1].pathUrl.indexOf("/edit-shop/")>-1&&p.pathUrl.indexOf("/edit-product/")>-1&&(this.steps[this.steps.length-2]={label:this.translate.instant("breadcrumb.shops"),pathUrl:"/search-shops"})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(dI),e.Y36(Ns.d),e.Y36(ea.M),e.Y36(oa))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-breadcrumbs"]],decls:7,vars:4,consts:[[1,"breadcrumb","text-start","px-3"],[1,"step","cursor-pointer","text-decoration-underline",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[4,"ngFor","ngForOf"],[1,"divider","mx-2"],[4,"ngIf"],[1,"step","cursor-pointer","text-decoration-underline",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e.NdJ("click",function(){return o.exit()}),e._UZ(2,"i",2),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,pI,5,2,"ng-container",4),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(2),e.Q6J("ngForOf",o.steps))},directives:[nr,ke,bc],pipes:[Uo],styles:[".breadcrumb[_ngcontent-%COMP%]{margin-top:1rem;font-size:13pt!important;flex-wrap:nowrap;width:auto!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.breadcrumb[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin:0}.breadcrumb[_ngcontent-%COMP%]   span.divider[_ngcontent-%COMP%]{margin:0 5px;color:#fff;font-weight:100}"]}),n})();function gI(n,r){1&n&&e.GkF(0)}function mI(n,r){if(1&n&&(e.ynx(0),e.YNc(1,gI,1,0,"ng-container",11),e.BQk()),2&n){e.oxw();const t=e.MAs(18);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function _I(n,r){1&n&&e._UZ(0,"i",12)}function vI(n,r){1&n&&e._UZ(0,"i",12)}function yI(n,r){1&n&&e._UZ(0,"i",12)}const AT=function(n){return{active:n}};function bI(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectedTab=2}),e.YNc(1,yI,1,0,"i",5),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(5,AT,2===t.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===t.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(3,3,"product.characteristics")," ")}}function CI(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",27),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(3).productDetail.name=u}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.name")),e.Q6J("ngModel",t.productDetail.name)}}function wI(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(3).productDetail.name=u}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.name")),e.Q6J("ngModel",t.productDetail.name)}}function TI(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",29),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(3).productDetail.brand=u}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.brand")),e.Q6J("ngModel",t.productDetail.brand)}}function EI(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",30),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(3).productDetail.brand=u}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.brand")),e.Q6J("ngModel",t.productDetail.brand)}}function DI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"img",32),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("src",t.productDetail.imageUrl,e.LSH)}}function SI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",33)(2,"span",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",35),e._uU(6),e.qZA()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.hij("",e.lcZ(4,2,"product.createdBy"),":"),e.xp6(3),e.Oqu(null!=t.productDetail&&null!=t.productDetail.createdBy&&t.productDetail.createdBy.username?null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.username:null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.email.substr(0,null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.email.indexOf("@")))}}const xI=function(n){return{"pb-1":n}},IT=function(n){return{disabled:n}};function AI(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"label",17),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"input",18),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(2).productDetail.barcode=u}),e.qZA()(),e.TgZ(9,"div",16)(10,"label",19),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,CI,3,4,"ng-container",2),e.YNc(14,wI,3,4,"ng-container",2),e.qZA(),e.TgZ(15,"div",16)(16,"label",20),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,TI,3,4,"ng-container",2),e.YNc(20,EI,3,4,"ng-container",2),e.qZA(),e.TgZ(21,"div",21)(22,"input",22),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(2).productDetail.favourite=u}),e.qZA(),e.TgZ(23,"label",23),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.YNc(26,DI,3,1,"ng-container",2),e.qZA()()(),e.YNc(27,SI,7,4,"ng-container",2),e.TgZ(28,"div",24)(29,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).updateProduct()}),e._UZ(30,"span",26),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(25,xI,null==t.productDetail?null:t.productDetail.createdBy)),e.xp6(5),e.Oqu(e.lcZ(7,15,"product.barcode")),e.xp6(2),e.Q6J("ngModel",t.productDetail.barcode),e.xp6(3),e.Oqu(e.lcZ(12,17,"product.name")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(3),e.Oqu(e.lcZ(18,19,"product.brand")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(2),e.Q6J("ngModel",t.productDetail.favourite),e.xp6(2),e.Oqu(e.lcZ(25,21,"product.favourite")),e.xp6(2),e.Q6J("ngIf",t.productDetail.imageUrl),e.xp6(1),e.Q6J("ngIf",null==t.productDetail?null:t.productDetail.createdBy),e.xp6(2),e.Q6J("ngClass",e.VKq(27,IT,(null==t.productDetail?null:t.productDetail.brand.length)<1||(null==t.productDetail?null:t.productDetail.name.length)<1||(null==t.productDetail?null:t.productDetail.barcode.length)<1)),e.xp6(2),e.hij(" ",e.lcZ(32,23,"product.save")," ")}}function II(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"span",51),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit;return e.oxw(4).removeShopProduct(u)}),e.qZA()}}function PI(n,r){if(1&n&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.createdBy.username||t.createdBy.email,")")}}const OI=function(n){return{"fw-bold":n}};function MI(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"div",54)(2,"div",55)(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.YNc(6,PI,2,1,"span",56),e.qZA(),e.TgZ(7,"div")(8,"span"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"span",57),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(6).removeShopProduct(p)}),e.qZA()()()()}if(2&n){const t=r.$implicit,o=r.index,u=e.oxw(6);e.xp6(1),e.Q6J("ngClass",e.VKq(11,OI,0===o)),e.xp6(3),e.hij(" ",e.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),e.xp6(2),e.Q6J("ngIf",u.loggedUser.admin&&t.createdBy),e.xp6(3),e.hij("",e.xi3(10,8,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,IT,!u.canRemoveShopProduct(t)))}}function NI(n,r){if(1&n&&(e.TgZ(0,"li",52)(1,"ul",53),e.YNc(2,MI,12,15,"li",41),e.qZA()()),2&n){const t=e.oxw(5);e.xp6(2),e.Q6J("ngForOf",t.historyShopProductList)}}const RI=function(n){return[n]};function kI(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",42)(2,"div",43),e._UZ(3,"img",44),e.TgZ(4,"a",45),e._uU(5),e.qZA(),e.TgZ(6,"div",46)(7,"span",47),e.YNc(8,II,1,0,"span",48),e.TgZ(9,"i",49),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(4).showHistory(p)}),e.qZA(),e._uU(10),e.ALo(11,"number"),e.qZA()()()(),e.YNc(12,NI,3,1,"li",50),e.BQk()}if(2&n){const t=r.$implicit,o=e.oxw(4);e.xp6(3),e.Q6J("src",o.getShopImage(t.shopId),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(10,RI,"/edit-shop/"+t.shopId)),e.xp6(1),e.hij("",o.getShopName(t.shopId)," "),e.xp6(3),e.Q6J("ngIf",o.canRemoveShopProduct(t)),e.xp6(1),e.Q6J("ngClass",e.VKq(12,IT,!o.hasHistory(t))),e.xp6(1),e.hij(" ",e.xi3(11,7,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngIf",(null==o.historyShopProduct?null:o.historyShopProduct.shopId)===t.shopId&&(null==o.historyShopProduct?null:o.historyShopProduct.productBarcode)===t.productBarcode)}}function LI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"ul",40),e.YNc(2,kI,13,14,"ng-container",41),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.shopProducts)}}function FI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",37)(3,"button",38),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.ynx(9),e.YNc(10,LI,3,1,"ng-container",39),e.BQk(),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(20);e.xp6(4),e.hij(" ",e.lcZ(5,4,"product.pricesInShops")," "),e.xp6(3),e.hij("(",e.xi3(8,6,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",o)}}function BI(n,r){1&n&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"i",61),e.qZA(),e.BQk())}function UI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",63),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"small",63),e._uU(6),e.qZA()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"product.category")),e.xp6(3),e.Oqu(null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.categories)}}function jI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Nutri-Score"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",66),e.TgZ(6,"small",67),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/nutriscore-"+t.openFoodProduct.product.nutriscore_data.grade+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.nutriscore."+t.openFoodProduct.product.nutriscore_data.grade))}}function VI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Nova group"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",68),e.TgZ(6,"small",67),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/nova-group-"+t.openFoodProduct.product.nova_group+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.nova.nova"+t.openFoodProduct.product.nova_group))}}function GI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Eco-Score"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",69),e.TgZ(6,"small",70),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/ecoscore-"+t.openFoodProduct.product.ecoscore_grade.replace("not-applicable","unknown")+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.ecoscore.ecoscore"+t.openFoodProduct.product.ecoscore_grade.toUpperCase().replace("-","")))}}function HI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",65)(6,"small"),e._uU(7),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"product.allergens")),e.xp6(4),e.Oqu(t.getAlergens())}}const Ub=function(n){return{levelValue:n}};function qI(n,r){if(1&n&&e.GkF(0,74),2&n){const t=e.oxw(4),o=e.MAs(22);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,Ub,t.openFoodProduct.product.nutrient_levels.fat))}}function ZI(n,r){if(1&n&&e.GkF(0,74),2&n){const t=e.oxw(4),o=e.MAs(22);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,Ub,t.openFoodProduct.product.nutrient_levels.salt))}}function zI(n,r){if(1&n&&e.GkF(0,74),2&n){const t=e.oxw(4),o=e.MAs(22);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,Ub,t.openFoodProduct.product.nutrient_levels["saturated-fat"]))}}function WI(n,r){if(1&n&&e.GkF(0,74),2&n){const t=e.oxw(4),o=e.MAs(22);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,Ub,t.openFoodProduct.product.nutrient_levels.sugars))}}function $I(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",71)(6,"div",72)(7,"small"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,qI,1,4,"ng-container",73),e.qZA(),e.TgZ(11,"div",72)(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,ZI,1,4,"ng-container",73),e.qZA(),e.TgZ(16,"div",72)(17,"small"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,zI,1,4,"ng-container",73),e.qZA(),e.TgZ(21,"div",72)(22,"small"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,WI,1,4,"ng-container",73),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,9,"product.nutrientLevels")),e.xp6(5),e.Oqu(e.lcZ(9,11,"product.nutrients.fat")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.fat),e.xp6(3),e.Oqu(e.lcZ(14,13,"product.nutrients.salt")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.salt),e.xp6(3),e.Oqu(e.lcZ(19,15,"product.nutrients.saturedFat")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels["saturated-fat"]),e.xp6(3),e.Oqu(e.lcZ(24,17,"product.nutrients.sugars")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.sugars)}}function KI(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",59),e.YNc(2,BI,3,0,"ng-container",2),e.YNc(3,UI,7,4,"ng-container",2),e.YNc(4,jI,9,4,"ng-container",2),e.YNc(5,VI,9,4,"ng-container",2),e.YNc(6,GI,9,4,"ng-container",2),e.YNc(7,HI,8,4,"ng-container",2),e.YNc(8,$I,26,19,"ng-container",2),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.loadingOpenFoodProduct),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.categories),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutriscore_data?null:t.openFoodProduct.product.nutriscore_data.grade),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.nova_group),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.ecoscore_grade),e.xp6(1),e.Q6J("ngIf",(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.allergens?null:t.openFoodProduct.product.allergens.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.fat)||(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.salt)||(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.sugars))}}function JI(n,r){if(1&n&&(e.ynx(0),e.YNc(1,AI,33,29,"ng-container",2),e.YNc(2,FI,11,9,"ng-container",2),e.YNc(3,KI,9,7,"ng-container",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0===t.selectedTab),e.xp6(1),e.Q6J("ngIf",1===t.selectedTab),e.xp6(1),e.Q6J("ngIf",2===t.selectedTab)}}function YI(n,r){1&n&&e._UZ(0,"app-breadcrumbs")}function QI(n,r){1&n&&(e.TgZ(0,"div",75)(1,"small",76),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"product.noData")))}const XI=function(n,r,t){return{"bg-danger":n,"bg-warning":r,"bg-success":t}};function eP(n,r){if(1&n&&(e.TgZ(0,"div",77),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=r.levelValue;e.Q6J("ngClass",e.kEZ(4,XI,"high"===t,"moderate"===t,"low"===t)),e.xp6(1),e.Oqu(e.lcZ(2,2,"commons.levels."+t))}}let tP=(()=>{class n{constructor(t,o,u,p,b,x,N){this.router=t,this.route=o,this.productService=u,this.shopService=p,this.shopsProductsService=b,this.loginService=x,this.openfoodService=N,this.historyShopProductList=[],this.selectedTab=0,this.loadingOpenFoodProduct=!0}exit(){this.router.navigateByUrl("")}canRemoveShopProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email}canEdit(){var t,o;return this.loggedUser.admin||(null===(t=this.productDetail.createdBy)||void 0===t?void 0:t.email)===this.loggedUser.email&&(null===(o=this.productDetail.createdBy)||void 0===o?void 0:o.username)===this.loggedUser.username}updateProduct(){this.productService.updateProduct(this.productDetail).subscribe(()=>{this.router.navigateByUrl("search-products")})}removeShopProduct(t){console.log(t),confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{this.getShopProducts(),this.historyShopProduct&&this.configHistory(t)})}getShopName(t){const o=this.shops.find(u=>u.id===t);return null==o?void 0:o.name}getShopImage(t){var o;return(null===(o=this.shops.find(u=>u.id===t))||void 0===o?void 0:o.imageUrl)||rs.T}showHistory(t){this.historyShopProduct&&this.historyShopProduct.productBarcode===t.productBarcode&&this.historyShopProduct.shopId===t.shopId?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(o=>{this.historyShopProductList=o.filter(u=>u.productBarcode===this.productDetail.barcode&&u.shopId===t.shopId).sort((u,p)=>u.updateDate<p.updateDate?1:-1)})}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(o=>o.productBarcode===this.productDetail.barcode&&o.shopId===t.shopId).length>1}getShopProducts(){this.productDetail&&this.shopsProductsService.getProductShopProducts(this.productDetail.barcode).subscribe(t=>{this.shopProducts=[];const o=[];t.forEach(u=>{-1===o.indexOf(u.shopId)&&o.push(u.shopId)}),o.forEach(u=>{this.shopProducts.push(this.shopsProductsService.getShopProductLast(u,this.productDetail.barcode))}),this.shopProducts.sort((u,p)=>u.price>p.price?1:-1)})}getProductPriceRange(t){return this.shopsProductsService.getProductPriceRange(t,"product-edit")}getAlergens(){console.log(this.openFoodProduct.product.allergens);let t=this.openFoodProduct.product.allergens.split(",");return t=t.map(o=>{const u=o.substring(o.indexOf(":")+1);return u.charAt(0).toUpperCase()+u.slice(1)}),t.toString().replace(/,/g,", ")}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.barcode;this.products=this.productService._products,this.shops=this.shopService._shops,this.productService.products.subscribe(o=>{this.products=o}),this.shopService.shops.subscribe(o=>{this.shops=o}),this.productDetail=this.products.find(o=>o.barcode===t),this.loadingOpenFoodProduct=!0,this.openfoodService.loadProduct(t).subscribe(o=>{console.log(o),(null==o?void 0:o.product)&&(this.openFoodProduct=o),this.loadingOpenFoodProduct=!1}),this.getShopProducts()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(yn),e.Y36(ea.M),e.Y36(Ns.d),e.Y36(Ta),e.Y36(ta.r),e.Y36(xT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-product-edit"]],decls:23,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-warning","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["type","button","class","btn btn-lg btn-secondary",3,"ngClass","click",4,"ngIf"],["breadcrumb",""],["noShopsProducts",""],["levelBadge",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],[1,"d-flex","card","transparent","flex-column","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-3","w-100"],["for","productBarcode",1,"text-start","w-100"],["type","text","id","productBarcode","placeholder","Codi de barres","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],["for","productName",1,"text-start","w-100"],["for","productBrand",1,"text-start","w-100"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","px-3","mt-auto"],["type","button",1,"btn","btn-lg","btn-secondary","w-100",3,"ngClass","click"],[1,"fas","fa-floppy-disk","me-1"],["type","text","id","productName",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productName","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","mt-3","justify-content-center","align-items-start"],[1,"product-detail-image",3,"src"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","shops"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"shop-image",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2",3,"routerLink"],[1,"d-flex","align-items-center","ms-auto","nowrap"],[1,"ps-3"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2","cursor-pointer",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column","text-start"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"characteristics","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-spinner","fa-spin"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-3"],[1,"text-start"],[1,"text-start","w-100"],[1,"d-flex","align-items-center","w-100"],[1,"nutriscore",3,"src"],[1,"text-start","ms-3","mt-3"],[1,"novagroup",3,"src"],[1,"ecoscore",3,"src"],[1,"text-start","ms-3"],[1,"d-flex","align-items-center","justify-content-between","w-100"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"],[1,"badge",3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,mI,2,1,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.selectedTab=0}),e.YNc(5,_I,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return o.selectedTab=1}),e.YNc(9,vI,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"small",6),e._uU(13),e.ALo(14,"number"),e.qZA()(),e.YNc(15,bI,4,7,"button",7),e.qZA()(),e.YNc(16,JI,4,3,"ng-container",2),e.qZA(),e.YNc(17,YI,1,0,"ng-template",null,8,e.W1O),e.YNc(19,QI,4,3,"ng-template",null,9,e.W1O),e.YNc(21,eP,3,8,"ng-template",null,10,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",o.productDetail),e.xp6(2),e.Q6J("ngClass",e.VKq(17,AT,0===o.selectedTab)),e.xp6(1),e.Q6J("ngIf",0===o.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(7,10,"product.detail")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,AT,1===o.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===o.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(11,12,"product.prices")," "),e.xp6(3),e.hij("(",e.xi3(14,14,null==o.shopProducts?null:o.shopProducts.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",!o.loadingOpenFoodProduct&&o.openFoodProduct.product),e.xp6(1),e.Q6J("ngIf",o.productDetail))},directives:[ke,Gr,Tr,Yr,Ii,Ko,Do,nr,ec,DD],pipes:[Uo,M,Co],styles:[".product-detail-image[_ngcontent-%COMP%]{height:125px;max-width:100%}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;color:#fff;border:1px solid #ccc}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%], .characteristics[_ngcontent-%COMP%]{height:calc(100vh - 230px);overflow:auto}.characteristics[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}span.fa-trash[_ngcontent-%COMP%]{color:#444!important}span.fa-trash.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.1}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}img.nutriscore[_ngcontent-%COMP%], img.novagroup[_ngcontent-%COMP%]{height:70px}img.ecoscore[_ngcontent-%COMP%]{height:60px}.badge[_ngcontent-%COMP%]{font-weight:400!important}.badge.bg-danger[_ngcontent-%COMP%], .badge.bg-success[_ngcontent-%COMP%]{color:#fff!important}"]}),n})();const nP=["productSearchInput"];function rP(n,r){1&n&&e.GkF(0)}function iP(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"img",38),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)}}function oP(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.prices")))}function sP(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.price")))}const aP=function(n){return{productRange:n}};function cP(n,r){if(1&n&&(e.ynx(0),e.GkF(1,42),e.BQk()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(3),u=e.MAs(27);e.xp6(1),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.VKq(2,aP,o.getProductPriceRange(t)))}}function lP(n,r){if(1&n&&(e.TgZ(0,"div",39)(1,"div",40)(2,"span",41),e._uU(3),e.ALo(4,"number"),e.qZA(),e.YNc(5,oP,3,3,"span",37),e.YNc(6,sP,3,3,"span",37),e.qZA(),e.YNc(7,cP,2,4,"ng-container",37),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(3),e.Oqu(e.xi3(4,4,o.getProductPrices(t),"1.0-2")),e.xp6(2),e.Q6J("ngIf",o.getProductPrices(t)>1),e.xp6(1),e.Q6J("ngIf",1===o.getProductPrices(t)),e.xp6(1),e.Q6J("ngIf",o.productHasPrices(t))}}function uP(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",43),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit;return e.oxw(3).doRemove(u)}),e.qZA(),e.BQk()}}function dP(n,r){if(1&n&&(e.TgZ(0,"span",46),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,o.productItemsInCart(t),"1.0-2"))}}const hP=function(n){return{"with-items-in-cart":n}};function fP(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",44),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit;return e.oxw(3).addToCart(u)}),e.qZA(),e.YNc(2,dP,3,4,"span",45),e.BQk()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(2,hP,o.productItemsInCart(t)>0)),e.xp6(1),e.Q6J("ngIf",o.productItemsInCart(t)>0)}}const pP=function(n,r){return{far:n,fas:r}};function gP(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",27)(1,"div",28)(2,"div",29),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(3).doEditProduct(p)}),e.YNc(3,iP,2,1,"ng-container",19),e.qZA(),e.TgZ(4,"div",30),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(3).doEditProduct(p)}),e.TgZ(5,"div",31)(6,"a",32),e._uU(7),e.qZA()(),e.TgZ(8,"div",33),e._uU(9),e.qZA(),e.YNc(10,lP,8,7,"div",34),e.qZA(),e.TgZ(11,"div",35)(12,"span",36),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(3).doToggleFavourite(p.barcode)}),e.qZA(),e.YNc(13,uP,2,0,"ng-container",37),e.YNc(14,fP,3,4,"ng-container",37),e.qZA()()()}if(2&n){const t=r.$implicit,o=e.oxw(3),u=e.MAs(31);e.Q6J("hidden",o.onlyFavourites&&!t.favourite||!o.matchesFilter(t)),e.xp6(3),e.Q6J("ngIf",t.imageUrl)("ngIfElse",u),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.brand," "),e.xp6(1),e.Q6J("ngIf",o.getProductPrices(t)>0),e.xp6(2),e.Q6J("ngClass",e.WLB(9,pP,!t.favourite,t.favourite)),e.xp6(1),e.Q6J("ngIf",o.canRemoveProduct(t)),e.xp6(1),e.Q6J("ngIf",o.productHasPrices(t))}}function mP(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"ul",25),e.YNc(3,gP,15,12,"li",26),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.products)}}function _P(n,r){if(1&n&&(e.ynx(0),e.YNc(1,mP,4,1,"ng-container",19),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(29);e.xp6(1),e.Q6J("ngIf",(null==t.products?null:t.products.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",o)}}function vP(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"i",48),e.TgZ(2,"div",49),e._uU(3),e.ALo(4,"number"),e.ALo(5,"number"),e.qZA(),e.BQk()),2&n){const t=e.oxw().productRange;e.xp6(3),e.AsE(" ",e.xi3(4,2,t.min,"1.0-2")," - ",e.xi3(5,5,t.max,"1.0-2")," \u20ac ")}}function yP(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",50),e._uU(2),e.ALo(3,"number"),e.qZA(),e.BQk()),2&n){const t=e.oxw().productRange;e.xp6(2),e.hij("",e.xi3(3,1,t.max,"1.0-2")," \u20ac")}}function bP(n,r){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,vP,6,8,"ng-container",37),e.YNc(2,yP,4,4,"ng-container",37),e.qZA()),2&n){const t=r.productRange;e.xp6(1),e.Q6J("ngIf",t.max!==t.min),e.xp6(1),e.Q6J("ngIf",t.max===t.min)}}function CP(n,r){1&n&&(e.TgZ(0,"small",54),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"products.noProductAdded")))}function wP(n,r){1&n&&(e.TgZ(0,"small",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"products.noFavouriteProduct")))}function TP(n,r){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,CP,3,3,"small",52),e.YNc(2,wP,3,3,"small",53),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(35);e.xp6(1),e.Q6J("ngIf",0===t.products.length&&!o),e.xp6(1),e.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites&&!o)}}function EP(n,r){1&n&&e._UZ(0,"i",56)}function DP(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"span",58),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",59),e.TgZ(3,"span",60),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",61),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",62),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.products")))}function SP(n,r){1&n&&(e.TgZ(0,"div",63),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}let xP=(()=>{class n{constructor(t,o,u,p,b,x){this.router=t,this.productService=o,this.shopProductService=u,this.loginService=p,this.shoppingCartService=b,this.alertService=x,this.STORED_SEARCH_KEY=Ni.M.PS_PRODUCTS_SEARCH_TEXT,this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateProduct(){this.router.navigate(["new-product"])}doEditProduct(t){this.router.navigate(["edit-product/"+t.barcode])}doToggleFavourite(t){const o=this.products.find(u=>u.barcode===t);o.favourite=!o.favourite,this.productService.toggleFavourite(o).subscribe(()=>{this.alertService.calculateAlerts(!1)})}doRemove(t){confirm("Si esborres el producte tamb\xe9 s'esborrar\xe0n els preus que tingui en les botigues. Continuar?")&&this.productService.removeProduct(t.id).subscribe(()=>{this.shopProductService.removeProductShopProducts(t.barcode).subscribe(()=>{})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||t.brand.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||t.barcode.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}getProductPrices(t){let o=[];return this.shopProductService._shopsProducts.filter(u=>u.productBarcode===t.barcode).forEach(u=>{o.indexOf(u.shopId)<0&&o.push(u.shopId)}),o.length}productHasPrices(t){return this.getProductPrices(t)>0}getProductPriceRange(t){return this.shopProductService.getProductPriceRange(t)}productItemsInCart(t){var o,u;let p=0,b=!1;return(null===(u=null===(o=this.shoppingCartService)||void 0===o?void 0:o._cartConfig)||void 0===u?void 0:u.items)&&this.shoppingCartService._cartConfig.items.forEach(x=>{b||x.productsUnits.forEach(N=>{N.product.barcode===t.barcode&&N.units&&(b=!0,p+=N.units)})}),p}canRemoveProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email}addToCart(t){this.shoppingCartService.addToCart(t)}exit(){this.router.navigateByUrl("")}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.productService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.productService.products.subscribe(t=>{this.products=t.sort((o,u)=>o.name>u.name?1:-1)}),this.products=this.productService._products,this.loading=!1}ngAfterViewInit(){Li(this.productSearchInput.nativeElement,"keyup").pipe(pi(Boolean),sl(300),wc(),(0,ei.b)(t=>{var o;this.setSearchText(null===(o=null==t?void 0:t.target)||void 0===o?void 0:o.value)})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(ea.M),e.Y36(Ta),e.Y36(ta.r),e.Y36(Xf),e.Y36(ST))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-product-search"]],viewQuery:function(t,o){if(1&t&&e.Gf(nP,5),2&t){let u;e.iGM(u=e.CRH())&&(o.productSearchInput=u.first)}},decls:36,vars:15,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-warning"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["productSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[1,"d-flex","w-100","mb-3"],[1,"btn","btn-lg","btn-dark","w-100","m-1","py-3",3,"click"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fas","fa-barcode","me-3"],[1,"text-start"],[4,"ngIf","ngIfElse"],["productPriceRanges",""],["noData",""],["noProductImage",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item py-2",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","py-2",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","h-100","flex-grow"],[1,"d-flex","flex-column","justify-content-start","align-items-center","pe-3",3,"click"],[1,"d-flex","flex-column","flex-grow","h-100","w-100",3,"click"],[1,"d-flex","w-100","text-start"],["href","javascript://"],[1,"d-flex","brand","mb-2","w-100","text-start"],["class","d-flex mt-auto justify-content-between w-100 mb-0",4,"ngIf"],[1,"ms-auto","ps-3","d-flex","flex-grow","h-100","flex-column","align-items-center","justify-content-start"],[1,"far","fa-star","action-button",3,"ngClass","click"],[4,"ngIf"],[1,"product-image",3,"src"],[1,"d-flex","mt-auto","justify-content-between","w-100","mb-0"],[1,"prices-count","d-flex","justify-content-center","align-items-center","px-2"],[1,"me-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fas","fa-trash","action-button","mt-2",3,"click"],[1,"fas","fa-cart-plus","action-button","mt-auto",3,"ngClass","click"],["class","\n                      items-in-cart\n                      me-3\n                      mb-1\n                      px-0\n                      with-items-in-cart\n                      border\n                      text-center\n                    ",4,"ngIf"],[1,"items-in-cart","me-3","mb-1","px-0","with-items-in-cart","border","text-center"],[1,"product-range","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-triangle-exclamation","text-warning"],[1,"w-100","px-2"],[1,"px-2"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg ps-4",4,"ngIf"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg","ps-4"],[1,"no-data-msg"],[1,"fas","fa-image","no-product-image-icon"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,rP,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),e.qZA(),e.TgZ(14,"label",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(17,"div",13)(18,"div",14)(19,"button",15),e.NdJ("click",function(){return o.doCreateProduct()}),e.TgZ(20,"div",16),e._UZ(21,"i",17),e.TgZ(22,"div",18),e._uU(23),e.ALo(24,"translate"),e.qZA()()()(),e.YNc(25,_P,2,2,"ng-container",19),e.qZA(),e.YNc(26,bP,3,2,"ng-template",null,20,e.W1O),e.YNc(28,TP,3,2,"ng-template",null,21,e.W1O),e.YNc(30,EP,1,0,"ng-template",null,22,e.W1O),e.YNc(32,DP,11,6,"ng-template",null,23,e.W1O),e.YNc(34,SP,3,3,"ng-template",null,24,e.W1O)),2&t){const u=e.MAs(33),p=e.MAs(35);e.xp6(4),e.Q6J("ngTemplateOutlet",u),e.xp6(3),e.s9C("placeholder",e.lcZ(9,9,"products.searchPlaceholder")),e.Q6J("readonly",(null==o.products?null:o.products.length)<1)("value",o.searchText),e.xp6(6),e.Q6J("ngModel",o.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(16,11,"products.onlyFavouriteProducts")),e.xp6(8),e.Oqu(e.lcZ(24,13,"products.scan")),e.xp6(2),e.Q6J("ngIf",o.products)("ngIfElse",p)}},directives:[Gr,Do,Ii,Ko,ke,nr,Tr],pipes:[Uo,M],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important;min-height:120px;margin-bottom:5px}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:1;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}.product-image[_ngcontent-%COMP%]{max-width:30px}.no-product-image-icon[_ngcontent-%COMP%]{font-size:22pt}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}span.action-button[_ngcontent-%COMP%]{font-size:18pt}.items-in-cart[_ngcontent-%COMP%]{position:absolute;bottom:30px;font-size:8pt;min-width:22px;right:1px;border-radius:20px}.with-items-in-cart[_ngcontent-%COMP%]{color:#444}.with-items-in-cart.border[_ngcontent-%COMP%]{border:1pc solid #444}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}"]}),n})();function AP(n,r){1&n&&e.GkF(0)}function IP(n,r){1&n&&e._UZ(0,"div",23)}function PP(n,r){if(1&n&&(e.TgZ(0,"span",31),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (x",e.xi3(2,1,t.units,"1.0-2"),")")}}const OP=function(n){return{"checked-product":n}};function MP(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"i",27),e.qZA(),e.TgZ(3,"td",28),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(5).toggleCartProductMarked(p)}),e._uU(4),e.YNc(5,PP,3,4,"span",29),e.qZA(),e.TgZ(6,"td")(7,"div",30)(8,"span",31),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"i",32),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(5).removeItem(p.product)}),e.qZA()()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(7,OP,t.checked)),e.xp6(1),e.hij(" ",t.product.name," "),e.xp6(1),e.Q6J("ngIf",t.units>1),e.xp6(4),e.hij("",e.xi3(10,4,t.minPrice,"1.2-2")," \u20ac")}}function NP(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",24),e._UZ(2,"img",25),e.TgZ(3,"div",26)(4,"table")(5,"tbody"),e.YNc(6,MP,12,9,"tr",22),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("src",null==t||null==t.shop?null:t.shop.imageUrl,e.LSH),e.xp6(4),e.Q6J("ngForOf",t.productsUnits)}}function RP(n,r){if(1&n&&(e.ynx(0),e.YNc(1,NP,7,2,"ng-container",2),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.shop)}}function kP(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"h4",8),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",9),e._UZ(6,"i",10),e.TgZ(7,"small",11),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"button",12),e.qZA(),e.TgZ(11,"div",13),e._UZ(12,"i",14),e.TgZ(13,"small",15)(14,"strong",16),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p",17),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e._UZ(20,"button",12),e.qZA(),e.YNc(21,IP,1,0,"div",18),e.TgZ(22,"div",19)(23,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).removeCart()}),e.TgZ(24,"span"),e._UZ(25,"i",21),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.YNc(28,RP,2,1,"ng-container",22),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2),o=e.MAs(4);e.xp6(3),e.Oqu(e.lcZ(4,7,"shoppingCart.title")),e.xp6(5),e.Oqu(e.lcZ(9,9,"shoppingCart.description")),e.xp6(7),e.Oqu(e.lcZ(16,11,"shoppingCart.trick.title")),e.xp6(3),e.Oqu(e.lcZ(19,13,"shoppingCart.trick.text")),e.xp6(3),e.Q6J("ngTemplateOutlet",o),e.xp6(5),e.Oqu(e.lcZ(27,15,"shoppingCart.doEmpty")),e.xp6(2),e.Q6J("ngForOf",t.cartConfig.items)}}function LP(n,r){if(1&n&&(e.ynx(0),e.YNc(1,kP,29,17,"ng-container",6),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(6);e.xp6(1),e.Q6J("ngIf",(null==t.cartConfig.items?null:t.cartConfig.items.length)>0)("ngIfElse",o)}}const FP=function(n,r){return{"bg-success":n,"text-success":r}};function BP(n,r){if(1&n&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span",34),e._uU(4),e.ALo(5,"number"),e.qZA()(),e.TgZ(6,"div",35),e._uU(7),e.ALo(8,"translate"),e.TgZ(9,"span",34),e._uU(10),e.ALo(11,"number"),e.qZA()(),e.TgZ(12,"div",36),e._uU(13),e.ALo(14,"translate"),e.TgZ(15,"span",37),e._uU(16),e.ALo(17,"number"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,7,"shoppingCart.amountOptimized"),": "),e.xp6(3),e.hij("",e.xi3(5,9,t.getAmountLow(),"1.2-2")," \u20ac"),e.xp6(3),e.hij(" ",e.lcZ(8,12,"shoppingCart.amountNoOptimized"),": "),e.xp6(3),e.hij("",e.xi3(11,14,t.getAmountHigh(),"1.2-2")," \u20ac"),e.xp6(3),e.hij(" ",e.lcZ(14,17,"shoppingCart.amountSaved"),": "),e.xp6(2),e.Q6J("ngClass",e.WLB(22,FP,t.getAmountDiff()>0,t.getAmountDiff()>0)),e.xp6(1),e.hij("",e.xi3(17,19,t.getAmountDiff()*(t.getAmountDiff()>0?-1:1),"1.2-2")," \u20ac")}}function UP(n,r){1&n&&(e.TgZ(0,"div",38)(1,"div",39)(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"shoppingCart.noProducts")))}function jP(n,r){1&n&&(e.TgZ(0,"div",40)(1,"span",41)(2,"a",42),e._UZ(3,"i",43),e.TgZ(4,"span",44),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"span",45),e._uU(8,"/"),e.qZA(),e.TgZ(9,"span",46),e._uU(10),e.ALo(11,"translate"),e.qZA()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(11,4,"breadcrumb.shoppingCart")))}let VP=(()=>{class n{constructor(t,o,u){this.shoppingCartService=t,this.spinner=o,this.translate=u,this.amountLow=0,this.amountHigh=0}getAmountLow(){return this.amountLow}getAmountHigh(){return this.amountHigh}getAmountDiff(){return this.amountHigh-this.amountLow}calculateAmountLow(){this.amountLow=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(o=>{this.amountLow+=o.units*o.minPrice})})}calculateAmountHigh(){this.amountHigh=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(o=>{this.amountHigh+=o.units*o.maxPrice})})}toggleCartProductMarked(t){this.shoppingCartService.toggleCartProductMarked(t)}removeItem(t){this.spinner.show(),this.shoppingCartService.removeCartProduct(t)}removeCart(){confirm(this.translate.instant("shoppingCart.confirmEmpty"))&&(this.spinner.show(),this.shoppingCartService.removeCart())}ngOnInit(){this.spinner.show(),this.cartConfig=this.shoppingCartService.getShoppingCartConfig(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)},t=>{this.spinner.hide()}),this.cartConfig=this.shoppingCartService._cartConfig,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Xf),e.Y36(ia),e.Y36(oa))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:9,vars:2,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf"],["totals",""],["noShoppingCart",""],["breadcrumb",""],[4,"ngIf","ngIfElse"],[1,"shopping-cart-content","d-flex","card","transparent","flex-column","mb-3","p-3","w-100","alert-dismissible","fade","show"],[1,"ps-2","mb-2","text-start","mb-3"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-info-circle","mt-1","me-2"],[1,"text-start"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","p-2"],[1,"alert","alert-light","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-wand-magic-sparkles","mt-1","me-2"],[1,"text-start","pe-4"],[1,"me-2"],[1,"m-0"],["class","d-flex w-100",4,"ngTemplateOutlet"],[1,"d-flex","w-100","justify-content-end","align-items-center","ps-2","mb-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cart-arrow-down","me-2"],[4,"ngFor","ngForOf"],[1,"d-flex","w-100"],[1,"modal-content","d-flex","flex-column","justify-content-start","align-items-start","p-3","flex-row","w-100","mb-1"],[1,"shop-logo",3,"src"],[1,"product-list-container","d-flex","flex-column","w-100","mt-1","pt-2"],[1,"fas","fa-angle-right","me-2","mt-1"],[1,"pe-2",3,"ngClass","click"],["class","fw-bold",4,"ngIf"],[1,"d-flex","nowrap","justify-content-end","align-items-center"],[1,"fw-bold"],[1,"fas","fa-times","cursor-pointer","ms-2",3,"click"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mt-3","mb-1"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-1"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-3"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end",3,"ngClass"],[1,"d-flex","p-2","w-100"],[1,"d-flex","justify-content-center","mt-5","mx-3","alert","alert-warning","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,AP,1,0,"ng-container",1),e.qZA(),e.YNc(2,LP,2,2,"ng-container",2),e.YNc(3,BP,18,25,"ng-template",null,3,e.W1O),e.YNc(5,UP,5,3,"ng-template",null,4,e.W1O),e.YNc(7,jP,12,6,"ng-template",null,5,e.W1O)),2&t){const u=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",u),e.xp6(1),e.Q6J("ngIf",o.cartConfig)}},directives:[Gr,ke,nr,Tr,ec],pipes:[Uo,M],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:85px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}.shopping-cart-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 190px)}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]{font-size:10pt}.shop-name[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{width:80px;max-height:80px}.totals[_ngcontent-%COMP%]{font-size:12pt}.totals[_ngcontent-%COMP%]   .badge-total[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2);border-radius:4px;background-color:#fff;min-width:100px}.totals[_ngcontent-%COMP%]   .badge-total.transparent[_ngcontent-%COMP%]{font-size:10pt;background-color:transparent}.product-list-container[_ngcontent-%COMP%]{border-top:0px solid #ccc}.product-list-container[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{list-style-type:none;font-size:10pt}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10pt;vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fa-times[_ngcontent-%COMP%]{font-size:14pt}.fa-times[_ngcontent-%COMP%]{font-size:14pt;position:relative;top:-1px}.badge-total.text-success[_ngcontent-%COMP%]{color:#fff!important}.checked-product[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}"]}),n})();function GP(n,r){1&n&&e.GkF(0)}function HP(n,r){if(1&n&&(e.ynx(0),e.YNc(1,GP,1,0,"ng-container",3),e.BQk()),2&n){e.oxw();const t=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function qP(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"input",14),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(2).shopDetail.name=u}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngModel",t.shopDetail.name)}}const ZP=function(n){return{disabled:n}};function zP(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",5)(3,"label",6),e._uU(4,"Nom"),e.qZA(),e.YNc(5,qP,1,1,"input",7),e.qZA(),e.TgZ(6,"div",8)(7,"input",9),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw().shopDetail.favourite=u}),e.qZA(),e.TgZ(8,"label",10),e._uU(9,"Preferida"),e.qZA()()(),e.TgZ(10,"div",11)(11,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().createShop()}),e._uU(12," Desar "),e.qZA(),e.TgZ(13,"button",13),e._uU(14," Tancar "),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.shopDetail.default),e.xp6(2),e.Q6J("ngModel",t.shopDetail.favourite),e.xp6(4),e.Q6J("ngClass",e.VKq(4,ZP,t.shopDetail.name.length<1)),e.xp6(2),e.Q6J("routerLink","../search-shops")}}function WP(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"span",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",17),e.TgZ(3,"span",18),e._uU(4,"Inici"),e.qZA()(),e.TgZ(5,"span",19),e._uU(6,"/"),e.qZA(),e.TgZ(7,"span",20)(8,"span",18),e._uU(9,"Botigues"),e.qZA()(),e.TgZ(10,"span",19),e._uU(11,"/"),e.qZA(),e.TgZ(12,"span",21),e._uU(13,"Nova botiga"),e.qZA()()}2&n&&(e.xp6(7),e.Q6J("routerLink","search-shops"))}let $P=(()=>{class n{constructor(t,o){this.router=t,this.shopService=o,this.shopDetail={id:nl(),name:"",imageUrl:"",default:!1,favourite:!1}}createShop(){this.shops.some(o=>o.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&o.id!==this.shopDetail.id)?alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name):this.shopService.createShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}ngOnInit(){this.shopService.shops.subscribe(t=>{this.shops=t}),this.shops=this.shopService._shops}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(Ns.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shop-create"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","px-3","w-100"],[4,"ngIf"],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"form-group","mb-3"],["for","shopName"],["type","text","class","form-control","id","shopName","placeholder","Nom de la botiga",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkFavourite",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkFavourite",1,"form-check-label"],[1,"d-flex","justify-content-center","align-items-center","mb-3","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],["type","text","id","shopName","placeholder","Nom de la botiga",1,"form-control",3,"ngModel","ngModelChange"],[1,"breadcrumb"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],[1,"step","cursor-pointer",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,HP,2,1,"ng-container",1),e.qZA(),e.YNc(2,zP,15,6,"ng-container",1),e.YNc(3,WP,14,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.shopDetail),e.xp6(1),e.Q6J("ngIf",o.shopDetail))},directives:[ke,Gr,Yr,Ii,Ko,Do,Tr,bc],styles:[""]}),n})();function KP(n,r){1&n&&e.GkF(0)}function JP(n,r){if(1&n&&(e.ynx(0),e.YNc(1,KP,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function YP(n,r){1&n&&e._UZ(0,"i",10)}function QP(n,r){1&n&&e._UZ(0,"i",10)}function XP(n,r){if(1&n&&(e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.shopDetail.imageUrl,e.LSH)}}function eO(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(3).shopDetail.name=u}),e.ALo(1,"translate"),e.qZA()}if(2&n){const t=e.oxw(3);e.s9C("placeholder",e.lcZ(1,2,"shop.name")),e.Q6J("ngModel",t.shopDetail.name)}}function tO(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(3).shopDetail.name=u}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngModel",t.shopDetail.name)}}const nO=function(n){return{"pb-2":n}};function rO(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e.YNc(2,XP,2,1,"div",17),e.TgZ(3,"div",18)(4,"label",19),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,eO,2,4,"input",20),e.YNc(8,tO,1,1,"input",21),e.qZA(),e.TgZ(9,"div",22)(10,"input",23),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(2).shopDetail.favourite=u}),e.qZA(),e.TgZ(11,"label",24),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(11,nO,null==t.shopDetail?null:t.shopDetail.createdBy)),e.xp6(2),e.Q6J("ngIf",(null==t.shopDetail||null==t.shopDetail.imageUrl?null:t.shopDetail.imageUrl.length)>0),e.xp6(3),e.Oqu(e.lcZ(6,7,"shop.name")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(2),e.Q6J("ngModel",t.shopDetail.favourite),e.xp6(2),e.Oqu(e.lcZ(13,9,"shop.favourite"))}}function iO(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",29)(2,"span",30),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",31),e._uU(6),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,2,"shop.createdBy"),":"),e.xp6(3),e.Oqu(null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username)}}const PT=function(n){return{disabled:n}};function oO(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,rO,14,13,"div",11),e.YNc(2,iO,7,4,"ng-container",2),e.TgZ(3,"div",12)(4,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateShop()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",14),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.shopDetail),e.xp6(1),e.Q6J("ngIf",null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username),e.xp6(2),e.Q6J("ngClass",e.VKq(10,PT,(null==t.shopDetail?null:t.shopDetail.name.length)<1)),e.xp6(1),e.hij(" ",e.lcZ(6,6,"shop.save")," "),e.xp6(2),e.Q6J("routerLink","../../search-shops"),e.xp6(1),e.hij(" ",e.lcZ(9,8,"shop.close")," ")}}function sO(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"span",46),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit;return e.oxw(3).removeShopProduct(u)}),e.qZA()}}function aO(n,r){if(1&n&&(e.TgZ(0,"span",53),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.createdBy.username,")")}}const cO=function(n){return{"fw-bold":n}};function lO(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"div",49)(2,"div",50)(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.YNc(6,aO,2,1,"span",51),e.qZA(),e.TgZ(7,"div")(8,"span"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"span",52),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(5).removeShopProduct(p)}),e.qZA()()()()}if(2&n){const t=r.$implicit,o=r.index,u=e.oxw(5);e.xp6(1),e.Q6J("ngClass",e.VKq(11,cO,0===o)),e.xp6(3),e.hij(" ",e.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),e.xp6(2),e.Q6J("ngIf",u.loggedUser.admin&&t.createdBy),e.xp6(3),e.hij("",e.xi3(10,8,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,PT,!u.canRemoveShopProduct(t)))}}function uO(n,r){if(1&n&&(e.TgZ(0,"li",47)(1,"ul",48),e.YNc(2,lO,12,15,"li",37),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",t.historyShopProductList)}}const dO=function(n){return[n]};function hO(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",38)(2,"div",39),e._UZ(3,"img",40)(4,"a",41),e.TgZ(5,"div",42)(6,"span"),e.YNc(7,sO,1,0,"span",43),e.TgZ(8,"i",44),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(3).showHistory(p)}),e.qZA(),e._uU(9),e.ALo(10,"number"),e.qZA()()()(),e.YNc(11,uO,3,1,"li",45),e.BQk()}if(2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(3),e.Q6J("src",o.getProductImage(t.productBarcode),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(10,dO,"/edit-product/"+t.productBarcode))("innerHtml",o.getProductName(t.productBarcode),e.oJD),e.xp6(3),e.Q6J("ngIf",o.canRemoveShopProduct(t)),e.xp6(1),e.Q6J("ngClass",e.VKq(12,PT,!o.hasHistory(t))),e.xp6(1),e.hij(" ",e.xi3(10,7,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngIf",(null==o.historyShopProduct?null:o.historyShopProduct.shopId)===t.shopId&&(null==o.historyShopProduct?null:o.historyShopProduct.productBarcode)===t.productBarcode)}}function fO(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"ul",36),e.YNc(2,hO,12,14,"ng-container",37),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.shopProducts)}}function pO(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",32)(2,"div",33)(3,"button",34),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.ynx(9),e.YNc(10,fO,3,1,"ng-container",35),e.BQk(),e.qZA(),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(18);e.xp6(4),e.hij(" ",e.lcZ(5,4,"shop.productPrices")," "),e.xp6(3),e.hij("(",e.xi3(8,6,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",o)}}function gO(n,r){1&n&&(e.TgZ(0,"div",54)(1,"small",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shop.noProductPrices")))}function mO(n,r){1&n&&e._UZ(0,"app-breadcrumbs")}const SD=function(n){return{active:n}};let _O=(()=>{class n{constructor(t,o,u,p,b){this.router=t,this.route=o,this.shopService=u,this.shopsProductsService=p,this.loginService=b,this.historyShopProductList=[],this.selectedTab=0}updateShop(){this.shops.some(o=>o.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&o.id!==this.shopDetail.id)?(alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name),this.shopDetail.name=this.shops.find(o=>o.id===this.shopDetail.id).name):this.shopService.updateShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}newShopProduct(){}removeShopProduct(t){confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{})}canRemoveShopProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email&&t.createdBy.username===this.loggedUser.username}doEditProduct(t){}showHistory(t){console.log("showHistory()",t),this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(o=>{this.historyShopProductList=o.filter(u=>u.productBarcode===t.productBarcode&&u.shopId===this.shopDetail.id).sort((u,p)=>u.updateDate<p.updateDate?1:-1)})}getProductName(t){const o=this.products.find(u=>u.barcode===t);return"<span>"+o.name+'</span><span class="brand">'+o.brand+"</span>"}getProductImage(t){return this.products.find(u=>u.barcode===t).imageUrl||rs.T}getLastShopProducts(){this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(t=>{this.shopProducts=[];const o=[];(t=t.sort((u,p)=>u.updateDate<p.updateDate?1:-1)).forEach(u=>{-1===o.indexOf(u.productBarcode)&&o.push(u.productBarcode)}),o.forEach(u=>{this.shopProducts.push(t.find(p=>u===p.productBarcode))}),this.shopProducts.sort((u,p)=>this.getProductName(u.productBarcode).toUpperCase()>this.getProductName(p.productBarcode).toUpperCase()?1:-1)})}configShopsProducts(){this.shopsProductsService.getShopProducts(this.shopDetail.id).subscribe(t=>{this.products=t,this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(o=>{this.shopProducts=o,this.getLastShopProducts()})})}canEdit(){var t;return this.loggedUser.admin||!(null===(t=this.shopDetail)||void 0===t?void 0:t.default)&&this.shopDetail.createdBy&&this.shopDetail.createdBy.email===this.loggedUser.email&&this.shopDetail.createdBy.username===this.loggedUser.username}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(o=>o.productBarcode===t.productBarcode&&o.shopId===this.shopDetail.id).length>1}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.id;this.shops=this.shopService._shops,this.shopService.shops.subscribe(o=>{this.shops=o,this.shopDetail=o.find(u=>u.id===t),this.configShopsProducts()}),this.shopsProductsService.shopsProducts.subscribe(o=>{this.configShopsProducts()}),this.shops=this.shopService._shops,this.shopDetail=this.shops.find(o=>o.id===t),this.configShopsProducts()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(yn),e.Y36(Ns.d),e.Y36(Ta),e.Y36(ta.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shop-edit"]],decls:21,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-info","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["noShopsProducts",""],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],["class","d-flex card transparent flex-column mb-0 p-3 w-100",3,"ngClass",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-auto","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],[1,"d-flex","card","transparent","flex-column","mb-0","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],["class","w-100 d-flex justify-content-center align-items-center mb-2",4,"ngIf"],[1,"form-group","mb-3"],["for","shopName",1,"text-start","w-100","ps-1"],["type","text","class","form-control","id","shopName",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["type","text","class","form-control","id","shopName","readonly","readonly",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"w-100","d-flex","justify-content-center","align-items-center","mb-2"],[1,"shop-logo",3,"src"],["type","text","id","shopName",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","shopName","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","mb-3","px-3","w-100"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","products"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"product-image","mt-2",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2","text-start",3,"routerLink","innerHtml"],[1,"d-flex","align-items-center","ms-auto","ps-3","nowrap"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,JP,2,1,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.selectedTab=0}),e.YNc(5,YP,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return o.selectedTab=1}),e.YNc(9,QP,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"small",6),e._uU(13),e.ALo(14,"number"),e.qZA()()()(),e.YNc(15,oO,10,12,"ng-container",2),e.YNc(16,pO,11,9,"ng-container",2),e.qZA(),e.YNc(17,gO,4,3,"ng-template",null,7,e.W1O),e.YNc(19,mO,1,0,"ng-template",null,8,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",o.shopDetail),e.xp6(2),e.Q6J("ngClass",e.VKq(17,SD,0===o.selectedTab)),e.xp6(1),e.Q6J("ngIf",0===o.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(7,10,"shop.detail")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,SD,1===o.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===o.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(11,12,"shop.prices")," "),e.xp6(3),e.hij("(",e.xi3(14,14,null==o.shopProducts?null:o.shopProducts.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",0===o.selectedTab),e.xp6(1),e.Q6J("ngIf",1===o.selectedTab))},directives:[ke,Gr,Tr,Yr,Ii,Ko,Do,bc,nr,ec,DD],pipes:[Uo,M,Co],styles:["img.shop-logo[_ngcontent-%COMP%]{width:50%;max-height:100px}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;border:1px solid #ccc;color:#fff}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-logo[_ngcontent-%COMP%]{max-height:none!important}img.product-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),n})();const vO=["shopSearchInput"];function yO(n,r){1&n&&e.GkF(0)}function bO(n,r){if(1&n&&e._UZ(0,"img",30),2&n){const t=e.oxw().$implicit;e.Q6J("src",t.imageUrl,e.LSH)}}function CO(n,r){1&n&&e._UZ(0,"i",31)}function wO(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.prices")))}function TO(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.price")))}function EO(n,r){if(1&n&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2),e.ALo(3,"number"),e.qZA(),e.YNc(4,wO,3,3,"span",28),e.YNc(5,TO,3,3,"span",28),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,3,o.getShopPrices(t),"1.0-2")),e.xp6(2),e.Q6J("ngIf",o.getShopPrices(t)>1),e.xp6(1),e.Q6J("ngIf",1===o.getShopPrices(t))}}function DO(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34)(2,"span",35),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit;return e.oxw(3).doRemove(u.id)}),e.qZA()(),e.BQk()}}const SO=function(n,r,t){return{far:n,fas:r,"ms-auto":t}};function xO(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",20)(1,"div",21)(2,"div",22),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(3).doEditShop(p)}),e.YNc(3,bO,1,1,"img",23),e.YNc(4,CO,1,0,"i",24),e.qZA(),e.ynx(5),e.TgZ(6,"div",25),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(3).doEditShop(p)}),e.TgZ(7,"a",26),e._uU(8),e.qZA(),e.YNc(9,EO,6,6,"div",27),e.qZA(),e.YNc(10,DO,3,0,"ng-container",28),e.TgZ(11,"span",29),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(3).doToggleFavourite(p.id)}),e.qZA(),e.BQk(),e.qZA()()}if(2&n){const t=r.$implicit,o=e.oxw(3);e.Q6J("hidden",o.onlyFavourites&&!t.favourite||!o.matchesFilter(t)),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.imageUrl?null:t.imageUrl.length)>0),e.xp6(1),e.Q6J("ngIf",!((null==t||null==t.imageUrl?null:t.imageUrl.length)>0)),e.xp6(4),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",o.getShopPrices(t)>0),e.xp6(1),e.Q6J("ngIf",o.canRemoveShop(t)),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,SO,!t.favourite,t.favourite,!o.canRemoveShop(t)))}}function AO(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"ul",18),e.YNc(3,xO,12,11,"li",19),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.shops)}}function IO(n,r){if(1&n&&(e.ynx(0),e.YNc(1,AO,4,1,"ng-container",14),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(20);e.xp6(1),e.Q6J("ngIf",(null==t.shops?null:t.shops.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",o)}}function PO(n,r){1&n&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shops.noShopAdded")))}function OO(n,r){1&n&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shops.noFavouriteShop")))}function MO(n,r){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,PO,3,3,"small",37),e.YNc(2,OO,3,3,"small",37),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(24);e.xp6(1),e.Q6J("ngIf",0===t.shops.length&&!o),e.xp6(1),e.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites&&!o)}}function NO(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"span",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",41),e.TgZ(3,"span",42),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",43),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",44),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.shops")))}function RO(n,r){1&n&&(e.TgZ(0,"div",45),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}let kO=(()=>{class n{constructor(t,o,u,p,b){this.router=t,this.shopService=o,this.shopProductService=u,this.loginService=p,this.spinner=b,this.STORED_SEARCH_KEY=Ni.M.PS_SHOPS_SEARCH_TEXT,this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateShop(){this.router.navigate(["new-shop"])}doEditShop(t){this.router.navigate(["edit-shop/"+t.id])}doToggleFavourite(t){this.spinner.show();const o=this.shops.find(u=>u.id===t);o.favourite=!o.favourite,this.shopService.toggleFavourite(o).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})}doRemove(t){confirm("Si esborres la botiga tamb\xe9 s'esborrar\xe0n els preus dels seus productes. Continuar?")&&this.shopService.removeShop(t).subscribe(()=>{this.spinner.show(),this.shopProductService.removeShopShopProducts(t).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}exit(){this.router.navigateByUrl("")}canRemoveShop(t){return this.loggedUser.admin||t.createdBy&&this.loggedUser.email===t.createdBy.email}getShopPrices(t){let o=[];return this.shopProductService._shopsProducts.filter(u=>u.shopId===t.id).forEach(u=>{o.indexOf(u.productBarcode)<0&&o.push(u.productBarcode)}),o.length}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.shopService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.shopService.shops.subscribe(t=>{this.shops=t.sort((o,u)=>o.name.toUpperCase()>u.name.toUpperCase()?1:-1)}),this.shops=this.shopService._shops,this.loading=!1}ngAfterViewInit(){Li(this.shopSearchInput.nativeElement,"keyup").pipe(pi(Boolean),sl(300),wc(),(0,ei.b)(t=>{var o;this.setSearchText(null===(o=null==t?void 0:t.target)||void 0===o?void 0:o.value)})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(li),e.Y36(Ns.d),e.Y36(Ta),e.Y36(ta.r),e.Y36(ia))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shop-search"]],viewQuery:function(t,o){if(1&t&&e.Gf(vO,5),2&t){let u;e.iGM(u=e.CRH())&&(o.shopSearchInput=u.first)}},decls:25,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-info"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["shopSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["noData",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item ps-2 py-3",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","ps-2","py-3",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","flex-grow"],[1,"me-2",3,"click"],["class","shop-logo",3,"src",4,"ngIf"],["class","fas fa-image",4,"ngIf"],[1,"d-flex","flex-column","flex-grow","w-100",3,"click"],["href","javascript://",1,"break-wrord","ps-1","w-100","text-start"],["class","d-flex prices-count mt-1 px-2",4,"ngIf"],[4,"ngIf"],[1,"shop-action-btn","fa-star","ms-auto",3,"ngClass","click"],[1,"shop-logo",3,"src"],[1,"fas","fa-image"],[1,"d-flex","prices-count","mt-1","px-2"],[1,"me-1"],[1,"d-flex","align-items-center","ms-auto"],[1,"shop-action-btn","fas","fa-trash","mx-3",3,"click"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,yO,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),e.qZA(),e.TgZ(14,"label",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(17,"div",13),e.YNc(18,IO,2,2,"ng-container",14),e.qZA(),e.YNc(19,MO,3,2,"ng-template",null,15,e.W1O),e.YNc(21,NO,11,6,"ng-template",null,16,e.W1O),e.YNc(23,RO,3,3,"ng-template",null,17,e.W1O)),2&t){const u=e.MAs(22),p=e.MAs(24);e.xp6(4),e.Q6J("ngTemplateOutlet",u),e.xp6(3),e.s9C("placeholder",e.lcZ(9,8,"shops.searchPlaceholder")),e.Q6J("readonly",(null==o.shops?null:o.shops.length)<1)("value",o.searchText),e.xp6(6),e.Q6J("ngModel",o.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(16,10,"shops.onlyFavouriteShops")),e.xp6(3),e.Q6J("ngIf",o.shops)("ngIfElse",p)}},directives:[Gr,Do,Ii,Ko,ke,nr,Tr],pipes:[Uo,M],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.shop-action-btn[_ngcontent-%COMP%]{font-size:18pt}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:0;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}img.shop-logo[_ngcontent-%COMP%]{width:30px;max-height:100px}i.fa-image[_ngcontent-%COMP%]{font-size:22pt}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}"]}),n})();function LO(n,r){1&n&&e.GkF(0)}function FO(n,r){1&n&&e._UZ(0,"i",12)}function BO(n,r){if(1&n&&e._UZ(0,"img",13),2&n){const t=e.oxw(2);e.Q6J("src",t.user.photoURL,e.LSH)}}function UO(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",11)(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,"user.username")),e.xp6(3),e.Oqu(t.user.username)}}function jO(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.role.admin")))}function VO(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.role.user")))}function GO(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"div",7),e.YNc(4,FO,1,0,"i",8),e.YNc(5,BO,1,1,"img",9),e._UZ(6,"app-language-selector"),e.qZA(),e.YNc(7,UO,7,4,"ng-container",10),e.TgZ(8,"div",11)(9,"label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"div",11)(15,"label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,jO,3,3,"span",10),e.YNc(19,VO,3,3,"span",10),e.qZA(),e.TgZ(20,"div",11)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"date"),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.user.photoURL),e.xp6(1),e.Q6J("ngIf",t.user.photoURL),e.xp6(2),e.Q6J("ngIf",t.user.username),e.xp6(3),e.Oqu(e.lcZ(11,10,"user.email")),e.xp6(3),e.Oqu(t.user.email),e.xp6(3),e.Oqu(e.lcZ(17,12,"user.role")),e.xp6(2),e.Q6J("ngIf",t.user.admin),e.xp6(1),e.Q6J("ngIf",!t.user.admin),e.xp6(3),e.Oqu(e.lcZ(23,14,"user.lastLogin")),e.xp6(3),e.Oqu(e.xi3(26,16,t.user.lastLogin,"medium"))}}function HO(n,r){1&n&&(e.TgZ(0,"div",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.noData")))}function qO(n,r){if(1&n&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.user?null:t.user.username)}}function ZO(n,r){if(1&n&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.user?null:t.user.email.substr(0,null==t.user?null:t.user.email.indexOf("@")))}}function zO(n,r){if(1&n&&(e.TgZ(0,"div",15)(1,"span",16)(2,"a",17),e._UZ(3,"i",18),e.TgZ(4,"span",19),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"span",20),e._uU(8,"/"),e.qZA(),e.YNc(9,qO,2,1,"span",21),e.YNc(10,ZO,2,1,"span",21),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,3,"breadcrumb.home")),e.xp6(4),e.Q6J("ngIf",null==t.user?null:t.user.username),e.xp6(1),e.Q6J("ngIf",!(null!=t.user&&t.user.username))}}function $O(n,r){1&n&&(e.ynx(0),e._UZ(1,"i",4),e.TgZ(2,"span"),e._uU(3,"No est\xe0s autenticat!"),e.qZA(),e.BQk())}const KO=function(){return["../login"]},JO=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:$x,canActivate:[Jd]},{path:"user",component:(()=>{class n{constructor(t,o){this.loginService=t,this.spinner=o}ngOnInit(){this.user=this.loginService.getLoggedUser()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ta.r),e.Y36(ia))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-detail"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["noUser",""],["breadcrumb",""],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],[1,"w-100","d-flex","justify-content-between","align-items-start","my-3","px-1"],["class","fas fa-user",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","mb-3"],[1,"fas","fa-user"],[1,"user-photo",3,"src"],[1,"d-flex","p-3","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,LO,1,0,"ng-container",1),e.qZA(),e.YNc(2,GO,27,19,"ng-container",2),e.YNc(3,HO,3,3,"ng-template",null,3,e.W1O),e.YNc(5,zO,11,5,"ng-template",null,4,e.W1O)),2&t){const u=e.MAs(4),p=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",p),e.xp6(1),e.Q6J("ngIf",o.user)("ngIfElse",u)}},directives:[Gr,ke,CD,ec],pipes:[Uo,Co],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}i.fa-user[_ngcontent-%COMP%]{font-size:42pt}label[_ngcontent-%COMP%]{font-weight:500}img.user-photo[_ngcontent-%COMP%]{max-width:100px;max-height:100px}"]}),n})(),canActivate:[Jd]},{path:"login",component:uA,canActivate:[DT]},{path:"register",component:Dx,canActivate:[DT]},{path:"scan",component:uI,canActivate:[Jd]},{path:"search-products",component:xP,canActivate:[Jd]},{path:"search-shops",component:kO,canActivate:[Jd]},{path:"statistics",component:jx,canActivate:[Jd]},{path:"edit-shop/:id",component:_O,canActivate:[Jd]},{path:"new-shop",component:$P,canActivate:[Jd]},{path:"edit-product/:barcode",component:tP},{path:"new-product",redirectTo:"scan",pathMatch:"full"},{path:"shoppingCart",component:VP,canActivate:[Jd]},{path:"alerts",component:yx,canActivate:[Jd]},{path:"forbidden",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-forbidden"]],decls:5,vars:3,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[4,"ngIf"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-user-check","me-2"],[1,"fas","fa-ban","text-danger","mb-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,$O,4,0,"ng-container",1),e.TgZ(2,"button",2),e._UZ(3,"i",3),e._uU(4," Identificar-me "),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",!1),e.xp6(1),e.Q6J("routerLink",e.DdM(2,KO)))},directives:[ke,bc],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-page-not-found"]],decls:7,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-home","me-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"i",1),e.TgZ(2,"span"),e._uU(3,"P\xe0gina inexistent!"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e._uU(6," Anar a l'inici "),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("routerLink",""))},directives:[bc],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()}],ii=!1;function xD(n){return new e.vHH(3e3,ii)}function PM(){return"undefined"!=typeof window&&void 0!==window.document}function OT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qg(n){switch(n.length){case 0:return new jd;case 1:return n[0];default:return new ip(n)}}function AD(n,r,t,o,u={},p={}){const b=[],x=[];let N=-1,K=null;if(o.forEach(he=>{const Ne=he.offset,Je=Ne==N,We=Je&&K||{};Object.keys(he).forEach(ft=>{let yt=ft,$t=he[ft];if("offset"!==ft)switch(yt=r.normalizePropertyName(yt,b),$t){case"!":$t=u[ft];break;case tc:$t=p[ft];break;default:$t=r.normalizeStyleValue(ft,yt,$t,b)}We[yt]=$t}),Je||x.push(We),K=We,N=Ne}),b.length)throw function yM(n){return new e.vHH(3502,ii)}();return x}function MT(n,r,t,o){switch(r){case"start":n.onStart(()=>o(t&&NT(t,"start",n)));break;case"done":n.onDone(()=>o(t&&NT(t,"done",n)));break;case"destroy":n.onDestroy(()=>o(t&&NT(t,"destroy",n)))}}function NT(n,r,t){const o=t.totalTime,p=RT(n.element,n.triggerName,n.fromState,n.toState,r||n.phaseName,null==o?n.totalTime:o,!!t.disabled),b=n._data;return null!=b&&(p._data=b),p}function RT(n,r,t,o,u="",p=0,b){return{element:n,triggerName:r,fromState:t,toState:o,phaseName:u,totalTime:p,disabled:!!b}}function eu(n,r,t){let o;return n instanceof Map?(o=n.get(r),o||n.set(r,o=t)):(o=n[r],o||(o=n[r]=t)),o}function ID(n){const r=n.indexOf(":");return[n.substring(1,r),n.substr(r+1)]}let kT=(n,r)=>!1,PD=(n,r,t)=>[],OD=null;function LT(n){const r=n.parentNode||n.host;return r===OD?null:r}(OT()||"undefined"!=typeof Element)&&(PM()?(OD=(()=>document.documentElement)(),kT=(n,r)=>{for(;r;){if(r===n)return!0;r=LT(r)}return!1}):kT=(n,r)=>n.contains(r),PD=(n,r,t)=>{if(t)return Array.from(n.querySelectorAll(r));const o=n.querySelector(r);return o?[o]:[]});let P_=null,MD=!1;function ND(n){P_||(P_=function MM(){return"undefined"!=typeof document?document.body:null}()||{},MD=!!P_.style&&"WebkitAppearance"in P_.style);let r=!0;return P_.style&&!function OM(n){return"ebkit"==n.substring(1,6)}(n)&&(r=n in P_.style,!r&&MD&&(r="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in P_.style)),r}const RD=kT,kD=PD;let LD=(()=>{class n{validateStyleProperty(t){return ND(t)}matchesElement(t,o){return!1}containsElement(t,o){return RD(t,o)}getParentElement(t){return LT(t)}query(t,o,u){return kD(t,o,u)}computeStyle(t,o,u){return u||""}animate(t,o,u,p,b,x=[],N){return new jd(u,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),FT=(()=>{class n{}return n.NOOP=new LD,n})();const BT="ng-enter",Vb="ng-leave",Gb="ng-trigger",Hb=".ng-trigger",BD="ng-animating",UT=".ng-animating";function O_(n){if("number"==typeof n)return n;const r=n.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:jT(parseFloat(r[1]),r[2])}function jT(n,r){return"s"===r?1e3*n:n}function qb(n,r,t){return n.hasOwnProperty("duration")?n:function kM(n,r,t){let u,p=0,b="";if("string"==typeof n){const x=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===x)return r.push(xD()),{duration:0,delay:0,easing:""};u=jT(parseFloat(x[1]),x[2]);const N=x[3];null!=N&&(p=jT(parseFloat(N),x[4]));const K=x[5];K&&(b=K)}else u=n;if(!t){let x=!1,N=r.length;u<0&&(r.push(function YO(){return new e.vHH(3100,ii)}()),x=!0),p<0&&(r.push(function QO(){return new e.vHH(3101,ii)}()),x=!0),x&&r.splice(N,0,xD())}return{duration:u,delay:p,easing:b}}(n,r,t)}function mv(n,r={}){return Object.keys(n).forEach(t=>{r[t]=n[t]}),r}function Zg(n,r,t={}){if(r)for(let o in n)t[o]=n[o];else mv(n,t);return t}function jD(n,r,t){return t?r+":"+t+";":""}function VD(n){let r="";for(let t=0;t<n.style.length;t++){const o=n.style.item(t);r+=jD(0,o,n.style.getPropertyValue(o))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(r+=jD(0,BM(t),n.style[t]));n.setAttribute("style",r)}function sf(n,r,t){n.style&&(Object.keys(r).forEach(o=>{const u=GT(o);t&&!t.hasOwnProperty(o)&&(t[o]=n.style[u]),n.style[u]=r[o]}),OT()&&VD(n))}function M_(n,r){n.style&&(Object.keys(r).forEach(t=>{const o=GT(t);n.style[o]=""}),OT()&&VD(n))}function Oy(n){return Array.isArray(n)?1==n.length?n[0]:m0(n):n}const VT=new RegExp("{{\\s*(.+?)\\s*}}","g");function GD(n){let r=[];if("string"==typeof n){let t;for(;t=VT.exec(n);)r.push(t[1]);VT.lastIndex=0}return r}function Zb(n,r,t){const o=n.toString(),u=o.replace(VT,(p,b)=>{let x=r[b];return r.hasOwnProperty(b)||(t.push(function eM(n){return new e.vHH(3003,ii)}()),x=""),x.toString()});return u==o?n:u}function zb(n){const r=[];let t=n.next();for(;!t.done;)r.push(t.value),t=n.next();return r}const FM=/-+([a-z0-9])/g;function GT(n){return n.replace(FM,(...r)=>r[1].toUpperCase())}function BM(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tu(n,r,t){switch(r.type){case 7:return n.visitTrigger(r,t);case 0:return n.visitState(r,t);case 1:return n.visitTransition(r,t);case 2:return n.visitSequence(r,t);case 3:return n.visitGroup(r,t);case 4:return n.visitAnimate(r,t);case 5:return n.visitKeyframes(r,t);case 6:return n.visitStyle(r,t);case 8:return n.visitReference(r,t);case 9:return n.visitAnimateChild(r,t);case 10:return n.visitAnimateRef(r,t);case 11:return n.visitQuery(r,t);case 12:return n.visitStagger(r,t);default:throw function tM(n){return new e.vHH(3004,ii)}()}}function HD(n,r){return window.getComputedStyle(n)[r]}function qM(n,r){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(o=>function ZM(n,r,t){if(":"==n[0]){const N=function zM(n,r){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return r.push(function gM(n){return new e.vHH(3016,ii)}()),"* => *"}}(n,t);if("function"==typeof N)return void r.push(N);n=N}const o=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(function pM(n){return new e.vHH(3015,ii)}()),r;const u=o[1],p=o[2],b=o[3];r.push(qD(u,b));"<"==p[0]&&!("*"==u&&"*"==b)&&r.push(qD(b,u))}(o,t,r)):t.push(n),t}const Jb=new Set(["true","1"]),Yb=new Set(["false","0"]);function qD(n,r){const t=Jb.has(n)||Yb.has(n),o=Jb.has(r)||Yb.has(r);return(u,p)=>{let b="*"==n||n==u,x="*"==r||r==p;return!b&&t&&"boolean"==typeof u&&(b=u?Jb.has(n):Yb.has(n)),!x&&o&&"boolean"==typeof p&&(x=p?Jb.has(r):Yb.has(r)),b&&x}}const WM=new RegExp("s*:selfs*,?","g");function HT(n,r,t,o){return new $M(n).build(r,t,o)}class $M{constructor(r){this._driver=r}build(r,t,o){const u=new YM(t);this._resetContextStyleTimingState(u);const p=tu(this,Oy(r),u);return u.unsupportedCSSPropertiesFound.size&&u.unsupportedCSSPropertiesFound.keys(),p}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,t){let o=t.queryCount=0,u=t.depCount=0;const p=[],b=[];return"@"==r.name.charAt(0)&&t.errors.push(function rM(){return new e.vHH(3006,ii)}()),r.definitions.forEach(x=>{if(this._resetContextStyleTimingState(t),0==x.type){const N=x,K=N.name;K.toString().split(/\s*,\s*/).forEach(he=>{N.name=he,p.push(this.visitState(N,t))}),N.name=K}else if(1==x.type){const N=this.visitTransition(x,t);o+=N.queryCount,u+=N.depCount,b.push(N)}else t.errors.push(function iM(){return new e.vHH(3007,ii)}())}),{type:7,name:r.name,states:p,transitions:b,queryCount:o,depCount:u,options:null}}visitState(r,t){const o=this.visitStyle(r.styles,t),u=r.options&&r.options.params||null;if(o.containsDynamicStyles){const p=new Set,b=u||{};o.styles.forEach(x=>{if(Qb(x)){const N=x;Object.keys(N).forEach(K=>{GD(N[K]).forEach(he=>{b.hasOwnProperty(he)||p.add(he)})})}}),p.size&&(zb(p.values()),t.errors.push(function oM(n,r){return new e.vHH(3008,ii)}()))}return{type:0,name:r.name,style:o,options:u?{params:u}:null}}visitTransition(r,t){t.queryCount=0,t.depCount=0;const o=tu(this,Oy(r.animation),t);return{type:1,matchers:qM(r.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:N_(r.options)}}visitSequence(r,t){return{type:2,steps:r.steps.map(o=>tu(this,o,t)),options:N_(r.options)}}visitGroup(r,t){const o=t.currentTime;let u=0;const p=r.steps.map(b=>{t.currentTime=o;const x=tu(this,b,t);return u=Math.max(u,t.currentTime),x});return t.currentTime=u,{type:3,steps:p,options:N_(r.options)}}visitAnimate(r,t){const o=function XM(n,r){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return qT(qb(n,r).duration,0,"");const o=n;if(o.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=qT(0,0,"");return p.dynamic=!0,p.strValue=o,p}return t=t||qb(o,r),qT(t.duration,t.delay,t.easing)}(r.timings,t.errors);t.currentAnimateTimings=o;let u,p=r.styles?r.styles:np({});if(5==p.type)u=this.visitKeyframes(p,t);else{let b=r.styles,x=!1;if(!b){x=!0;const K={};o.easing&&(K.easing=o.easing),b=np(K)}t.currentTime+=o.duration+o.delay;const N=this.visitStyle(b,t);N.isEmptyStep=x,u=N}return t.currentAnimateTimings=null,{type:4,timings:o,style:u,options:null}}visitStyle(r,t){const o=this._makeStyleAst(r,t);return this._validateStyleAst(o,t),o}_makeStyleAst(r,t){const o=[];Array.isArray(r.styles)?r.styles.forEach(b=>{"string"==typeof b?b==tc?o.push(b):t.errors.push(function sM(n){return new e.vHH(3002,ii)}()):o.push(b)}):o.push(r.styles);let u=!1,p=null;return o.forEach(b=>{if(Qb(b)){const x=b,N=x.easing;if(N&&(p=N,delete x.easing),!u)for(let K in x)if(x[K].toString().indexOf("{{")>=0){u=!0;break}}}),{type:6,styles:o,easing:p,offset:r.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(r,t){const o=t.currentAnimateTimings;let u=t.currentTime,p=t.currentTime;o&&p>0&&(p-=o.duration+o.delay),r.styles.forEach(b=>{"string"!=typeof b&&Object.keys(b).forEach(x=>{if(!this._driver.validateStyleProperty(x))return delete b[x],void t.unsupportedCSSPropertiesFound.add(x);const N=t.collectedStyles[t.currentQuerySelector],K=N[x];let he=!0;K&&(p!=u&&p>=K.startTime&&u<=K.endTime&&(t.errors.push(function aM(n,r,t,o,u){return new e.vHH(3010,ii)}()),he=!1),p=K.startTime),he&&(N[x]={startTime:p,endTime:u}),t.options&&function LM(n,r,t){const o=r.params||{},u=GD(n);u.length&&u.forEach(p=>{o.hasOwnProperty(p)||t.push(function XO(n){return new e.vHH(3001,ii)}())})}(b[x],t.options,t.errors)})})}visitKeyframes(r,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function cM(){return new e.vHH(3011,ii)}()),o;let p=0;const b=[];let x=!1,N=!1,K=0;const he=r.steps.map(un=>{const bn=this._makeStyleAst(un,t);let lr=null!=bn.offset?bn.offset:function QM(n){if("string"==typeof n)return null;let r=null;if(Array.isArray(n))n.forEach(t=>{if(Qb(t)&&t.hasOwnProperty("offset")){const o=t;r=parseFloat(o.offset),delete o.offset}});else if(Qb(n)&&n.hasOwnProperty("offset")){const t=n;r=parseFloat(t.offset),delete t.offset}return r}(bn.styles),Sn=0;return null!=lr&&(p++,Sn=bn.offset=lr),N=N||Sn<0||Sn>1,x=x||Sn<K,K=Sn,b.push(Sn),bn});N&&t.errors.push(function lM(){return new e.vHH(3012,ii)}()),x&&t.errors.push(function uM(){return new e.vHH(3200,ii)}());const Ne=r.steps.length;let Je=0;p>0&&p<Ne?t.errors.push(function dM(){return new e.vHH(3202,ii)}()):0==p&&(Je=1/(Ne-1));const We=Ne-1,ft=t.currentTime,yt=t.currentAnimateTimings,$t=yt.duration;return he.forEach((un,bn)=>{const lr=Je>0?bn==We?1:Je*bn:b[bn],Sn=lr*$t;t.currentTime=ft+yt.delay+Sn,yt.duration=Sn,this._validateStyleAst(un,t),un.offset=lr,o.styles.push(un)}),o}visitReference(r,t){return{type:8,animation:tu(this,Oy(r.animation),t),options:N_(r.options)}}visitAnimateChild(r,t){return t.depCount++,{type:9,options:N_(r.options)}}visitAnimateRef(r,t){return{type:10,animation:this.visitReference(r.animation,t),options:N_(r.options)}}visitQuery(r,t){const o=t.currentQuerySelector,u=r.options||{};t.queryCount++,t.currentQuery=r;const[p,b]=function KM(n){const r=!!n.split(/\s*,\s*/).find(t=>":self"==t);return r&&(n=n.replace(WM,"")),n=n.replace(/@\*/g,Hb).replace(/@\w+/g,t=>Hb+"-"+t.substr(1)).replace(/:animating/g,UT),[n,r]}(r.selector);t.currentQuerySelector=o.length?o+" "+p:p,eu(t.collectedStyles,t.currentQuerySelector,{});const x=tu(this,Oy(r.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:p,limit:u.limit||0,optional:!!u.optional,includeSelf:b,animation:x,originalSelector:r.selector,options:N_(r.options)}}visitStagger(r,t){t.currentQuery||t.errors.push(function hM(){return new e.vHH(3013,ii)}());const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:qb(r.timings,t.errors,!0);return{type:12,animation:tu(this,Oy(r.animation),t),timings:o,options:null}}}class YM{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qb(n){return!Array.isArray(n)&&"object"==typeof n}function N_(n){return n?(n=mv(n)).params&&(n.params=function JM(n){return n?mv(n):null}(n.params)):n={},n}function qT(n,r,t){return{duration:n,delay:r,easing:t}}function ZT(n,r,t,o,u,p,b=null,x=!1){return{type:1,element:n,keyframes:r,preStyleProps:t,postStyleProps:o,duration:u,delay:p,totalTime:u+p,easing:b,subTimeline:x}}class Xb{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,t){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...t)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const nN=new RegExp(":enter","g"),iN=new RegExp(":leave","g");function zT(n,r,t,o,u,p={},b={},x,N,K=[]){return(new oN).buildKeyframes(n,r,t,o,u,p,b,x,N,K)}class oN{buildKeyframes(r,t,o,u,p,b,x,N,K,he=[]){K=K||new Xb;const Ne=new WT(r,t,K,u,p,he,[]);Ne.options=N,Ne.currentTimeline.setStyles([b],null,Ne.errors,N),tu(this,o,Ne);const Je=Ne.timelines.filter(We=>We.containsAnimation());if(Object.keys(x).length){let We;for(let ft=Je.length-1;ft>=0;ft--){const yt=Je[ft];if(yt.element===t){We=yt;break}}We&&!We.allowOnlyTimelineStyles()&&We.setStyles([x],null,Ne.errors,N)}return Je.length?Je.map(We=>We.buildKeyframes()):[ZT(t,[],[],[],0,0,"",!1)]}visitTrigger(r,t){}visitState(r,t){}visitTransition(r,t){}visitAnimateChild(r,t){const o=t.subInstructions.get(t.element);if(o){const u=t.createSubContext(r.options),p=t.currentTimeline.currentTime,b=this._visitSubInstructions(o,u,u.options);p!=b&&t.transformIntoNewTimeline(b)}t.previousNode=r}visitAnimateRef(r,t){const o=t.createSubContext(r.options);o.transformIntoNewTimeline(),this.visitReference(r.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=r}_visitSubInstructions(r,t,o){let p=t.currentTimeline.currentTime;const b=null!=o.duration?O_(o.duration):null,x=null!=o.delay?O_(o.delay):null;return 0!==b&&r.forEach(N=>{const K=t.appendInstructionToTimeline(N,b,x);p=Math.max(p,K.duration+K.delay)}),p}visitReference(r,t){t.updateOptions(r.options,!0),tu(this,r.animation,t),t.previousNode=r}visitSequence(r,t){const o=t.subContextCount;let u=t;const p=r.options;if(p&&(p.params||p.delay)&&(u=t.createSubContext(p),u.transformIntoNewTimeline(),null!=p.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=eC);const b=O_(p.delay);u.delayNextStep(b)}r.steps.length&&(r.steps.forEach(b=>tu(this,b,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>o&&u.transformIntoNewTimeline()),t.previousNode=r}visitGroup(r,t){const o=[];let u=t.currentTimeline.currentTime;const p=r.options&&r.options.delay?O_(r.options.delay):0;r.steps.forEach(b=>{const x=t.createSubContext(r.options);p&&x.delayNextStep(p),tu(this,b,x),u=Math.max(u,x.currentTimeline.currentTime),o.push(x.currentTimeline)}),o.forEach(b=>t.currentTimeline.mergeTimelineCollectedStyles(b)),t.transformIntoNewTimeline(u),t.previousNode=r}_visitTiming(r,t){if(r.dynamic){const o=r.strValue;return qb(t.params?Zb(o,t.params,t.errors):o,t.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,t){const o=t.currentAnimateTimings=this._visitTiming(r.timings,t),u=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),u.snapshotCurrentStyles());const p=r.style;5==p.type?this.visitKeyframes(p,t):(t.incrementTime(o.duration),this.visitStyle(p,t),u.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=r}visitStyle(r,t){const o=t.currentTimeline,u=t.currentAnimateTimings;!u&&o.getCurrentStyleProperties().length&&o.forwardFrame();const p=u&&u.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(p):o.setStyles(r.styles,p,t.errors,t.options),t.previousNode=r}visitKeyframes(r,t){const o=t.currentAnimateTimings,u=t.currentTimeline.duration,p=o.duration,x=t.createSubContext().currentTimeline;x.easing=o.easing,r.styles.forEach(N=>{x.forwardTime((N.offset||0)*p),x.setStyles(N.styles,N.easing,t.errors,t.options),x.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(x),t.transformIntoNewTimeline(u+p),t.previousNode=r}visitQuery(r,t){const o=t.currentTimeline.currentTime,u=r.options||{},p=u.delay?O_(u.delay):0;p&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=eC);let b=o;const x=t.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!u.optional,t.errors);t.currentQueryTotal=x.length;let N=null;x.forEach((K,he)=>{t.currentQueryIndex=he;const Ne=t.createSubContext(r.options,K);p&&Ne.delayNextStep(p),K===t.element&&(N=Ne.currentTimeline),tu(this,r.animation,Ne),Ne.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,Ne.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(b),N&&(t.currentTimeline.mergeTimelineCollectedStyles(N),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=r}visitStagger(r,t){const o=t.parentContext,u=t.currentTimeline,p=r.timings,b=Math.abs(p.duration),x=b*(t.currentQueryTotal-1);let N=b*t.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":N=x-N;break;case"full":N=o.currentStaggerTime}const he=t.currentTimeline;N&&he.delayNextStep(N);const Ne=he.currentTime;tu(this,r.animation,t),t.previousNode=r,o.currentStaggerTime=u.currentTime-Ne+(u.startTime-o.currentTimeline.startTime)}}const eC={};class WT{constructor(r,t,o,u,p,b,x,N){this._driver=r,this.element=t,this.subInstructions=o,this._enterClassName=u,this._leaveClassName=p,this.errors=b,this.timelines=x,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=N||new tC(this._driver,t,0),x.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,t){if(!r)return;const o=r;let u=this.options;null!=o.duration&&(u.duration=O_(o.duration)),null!=o.delay&&(u.delay=O_(o.delay));const p=o.params;if(p){let b=u.params;b||(b=this.options.params={}),Object.keys(p).forEach(x=>{(!t||!b.hasOwnProperty(x))&&(b[x]=Zb(p[x],b,this.errors))})}}_copyOptions(){const r={};if(this.options){const t=this.options.params;if(t){const o=r.params={};Object.keys(t).forEach(u=>{o[u]=t[u]})}}return r}createSubContext(r=null,t,o){const u=t||this.element,p=new WT(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,o||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(r),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(r){return this.previousNode=eC,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,t,o){const u={duration:null!=t?t:r.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+r.delay,easing:""},p=new sN(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,u,r.stretchStartingKeyframe);return this.timelines.push(p),u}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,t,o,u,p,b){let x=[];if(u&&x.push(this.element),r.length>0){r=(r=r.replace(nN,"."+this._enterClassName)).replace(iN,"."+this._leaveClassName);let K=this._driver.query(this.element,r,1!=o);0!==o&&(K=o<0?K.slice(K.length+o,K.length):K.slice(0,o)),x.push(...K)}return!p&&0==x.length&&b.push(function fM(n){return new e.vHH(3014,ii)}()),x}}class tC{constructor(r,t,o,u){this._driver=r,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=u,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+r),t&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,t){return this.applyStylesToKeyframe(),new tC(this._driver,r,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,t){this._localTimelineStyles[r]=t,this._globalTimelineStyles[r]=t,this._styleSummary[r]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||tc,this._currentKeyframe[t]=tc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,t,o,u){t&&(this._previousKeyframe.easing=t);const p=u&&u.params||{},b=function aN(n,r){const t={};let o;return n.forEach(u=>{"*"===u?(o=o||Object.keys(r),o.forEach(p=>{t[p]=tc})):Zg(u,!1,t)}),t}(r,this._globalTimelineStyles);Object.keys(b).forEach(x=>{const N=Zb(b[x],p,o);this._pendingStyles[x]=N,this._localTimelineStyles.hasOwnProperty(x)||(this._backFill[x]=this._globalTimelineStyles.hasOwnProperty(x)?this._globalTimelineStyles[x]:tc),this._updateStyle(x,N)})}applyStylesToKeyframe(){const r=this._pendingStyles,t=Object.keys(r);0!=t.length&&(this._pendingStyles={},t.forEach(o=>{this._currentKeyframe[o]=r[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const t=this._localTimelineStyles[r];this._pendingStyles[r]=t,this._updateStyle(r,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let t in this._currentKeyframe)r.push(t);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(t=>{const o=this._styleSummary[t],u=r._styleSummary[t];(!o||u.time>o.time)&&this._updateStyle(t,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((x,N)=>{const K=Zg(x,!0);Object.keys(K).forEach(he=>{const Ne=K[he];"!"==Ne?r.add(he):Ne==tc&&t.add(he)}),o||(K.offset=N/this.duration),u.push(K)});const p=r.size?zb(r.values()):[],b=t.size?zb(t.values()):[];if(o){const x=u[0],N=mv(x);x.offset=0,N.offset=1,u=[x,N]}return ZT(this.element,u,p,b,this.duration,this.startTime,this.easing,!1)}}class sN extends tC{constructor(r,t,o,u,p,b,x=!1){super(r,t,b.delay),this.keyframes=o,this.preStyleProps=u,this.postStyleProps=p,this._stretchStartingKeyframe=x,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:t,duration:o,easing:u}=this.timings;if(this._stretchStartingKeyframe&&t){const p=[],b=o+t,x=t/b,N=Zg(r[0],!1);N.offset=0,p.push(N);const K=Zg(r[0],!1);K.offset=WD(x),p.push(K);const he=r.length-1;for(let Ne=1;Ne<=he;Ne++){let Je=Zg(r[Ne],!1);Je.offset=WD((t+Je.offset*o)/b),p.push(Je)}o=b,t=0,u="",r=p}return ZT(this.element,r,this.preStyleProps,this.postStyleProps,o,t,u,!0)}}function WD(n,r=3){const t=Math.pow(10,r-1);return Math.round(n*t)/t}class $T{}class cN extends $T{normalizePropertyName(r,t){return GT(r)}normalizeStyleValue(r,t,o,u){let p="";const b=o.toString().trim();if(lN[t]&&0!==o&&"0"!==o)if("number"==typeof o)p="px";else{const x=o.match(/^[+-]?[\d\.]+([a-z]*)$/);x&&0==x[1].length&&u.push(function nM(n,r){return new e.vHH(3005,ii)}())}return b+p}}const lN=(()=>function uN(n){const r={};return n.forEach(t=>r[t]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function $D(n,r,t,o,u,p,b,x,N,K,he,Ne,Je){return{type:0,element:n,triggerName:r,isRemovalTransition:u,fromState:t,fromStyles:p,toState:o,toStyles:b,timelines:x,queriedElements:N,preStyleProps:K,postStyleProps:he,totalTime:Ne,errors:Je}}const KT={};class KD{constructor(r,t,o){this._triggerName=r,this.ast=t,this._stateStyles=o}match(r,t,o,u){return function dN(n,r,t,o,u){return n.some(p=>p(r,t,o,u))}(this.ast.matchers,r,t,o,u)}buildStyles(r,t,o){const u=this._stateStyles["*"],p=this._stateStyles[r],b=u?u.buildStyles(t,o):{};return p?p.buildStyles(t,o):b}build(r,t,o,u,p,b,x,N,K,he){const Ne=[],Je=this.ast.options&&this.ast.options.params||KT,ft=this.buildStyles(o,x&&x.params||KT,Ne),yt=N&&N.params||KT,$t=this.buildStyles(u,yt,Ne),un=new Set,bn=new Map,lr=new Map,Sn="void"===u,fr={params:Object.assign(Object.assign({},Je),yt)},gr=he?[]:zT(r,t,this.ast.animation,p,b,ft,$t,fr,K,Ne);let Sr=0;if(gr.forEach(Yi=>{Sr=Math.max(Yi.duration+Yi.delay,Sr)}),Ne.length)return $D(t,this._triggerName,o,u,Sn,ft,$t,[],[],bn,lr,Sr,Ne);gr.forEach(Yi=>{const Qi=Yi.element,yo=eu(bn,Qi,{});Yi.preStyleProps.forEach(fs=>yo[fs]=!0);const Aa=eu(lr,Qi,{});Yi.postStyleProps.forEach(fs=>Aa[fs]=!0),Qi!==t&&un.add(Qi)});const Ur=zb(un.values());return $D(t,this._triggerName,o,u,Sn,ft,$t,gr,Ur,bn,lr,Sr)}}class hN{constructor(r,t,o){this.styles=r,this.defaultParams=t,this.normalizer=o}buildStyles(r,t){const o={},u=mv(this.defaultParams);return Object.keys(r).forEach(p=>{const b=r[p];null!=b&&(u[p]=b)}),this.styles.styles.forEach(p=>{if("string"!=typeof p){const b=p;Object.keys(b).forEach(x=>{let N=b[x];N.length>1&&(N=Zb(N,u,t));const K=this.normalizer.normalizePropertyName(x,t);N=this.normalizer.normalizeStyleValue(x,K,N,t),o[K]=N})}}),o}}class pN{constructor(r,t,o){this.name=r,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(u=>{this.states[u.name]=new hN(u.style,u.options&&u.options.params||{},o)}),JD(this.states,"true","1"),JD(this.states,"false","0"),t.transitions.forEach(u=>{this.transitionFactories.push(new KD(r,u,this.states))}),this.fallbackTransition=function gN(n,r,t){return new KD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(b,x)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,t,o,u){return this.transitionFactories.find(b=>b.match(r,t,o,u))||null}matchStyles(r,t,o){return this.fallbackTransition.buildStyles(r,t,o)}}function JD(n,r,t){n.hasOwnProperty(r)?n.hasOwnProperty(t)||(n[t]=n[r]):n.hasOwnProperty(t)&&(n[r]=n[t])}const mN=new Xb;class _N{constructor(r,t,o){this.bodyNode=r,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(r,t){const o=[],p=HT(this._driver,t,o,[]);if(o.length)throw function bM(n){return new e.vHH(3503,ii)}();this._animations[r]=p}_buildPlayer(r,t,o){const u=r.element,p=AD(0,this._normalizer,0,r.keyframes,t,o);return this._driver.animate(u,p,r.duration,r.delay,r.easing,[],!0)}create(r,t,o={}){const u=[],p=this._animations[r];let b;const x=new Map;if(p?(b=zT(this._driver,t,p,BT,Vb,{},{},o,mN,u),b.forEach(he=>{const Ne=eu(x,he.element,{});he.postStyleProps.forEach(Je=>Ne[Je]=null)})):(u.push(function CM(){return new e.vHH(3300,ii)}()),b=[]),u.length)throw function wM(n){return new e.vHH(3504,ii)}();x.forEach((he,Ne)=>{Object.keys(he).forEach(Je=>{he[Je]=this._driver.computeStyle(Ne,Je,tc)})});const K=qg(b.map(he=>{const Ne=x.get(he.element);return this._buildPlayer(he,{},Ne)}));return this._playersById[r]=K,K.onDestroy(()=>this.destroy(r)),this.players.push(K),K}destroy(r){const t=this._getPlayer(r);t.destroy(),delete this._playersById[r];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(r){const t=this._playersById[r];if(!t)throw function TM(n){return new e.vHH(3301,ii)}();return t}listen(r,t,o,u){const p=RT(t,"","","");return MT(this._getPlayer(r),o,p,u),()=>{}}command(r,t,o,u){if("register"==o)return void this.register(r,u[0]);if("create"==o)return void this.create(r,t,u[0]||{});const p=this._getPlayer(r);switch(o){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(r)}}}const YD="ng-animate-queued",JT="ng-animate-disabled",wN=[],QD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},TN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ku="__ng_removed";class YT{constructor(r,t=""){this.namespaceId=t;const o=r&&r.hasOwnProperty("value");if(this.value=function xN(n){return null!=n?n:null}(o?r.value:r),o){const p=mv(r);delete p.value,this.options=p}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const t=r.params;if(t){const o=this.options.params;Object.keys(t).forEach(u=>{null==o[u]&&(o[u]=t[u])})}}}const My="void",QT=new YT(My);class EN{constructor(r,t,o){this.id=r,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Ju(t,this._hostClassName)}listen(r,t,o,u){if(!this._triggers.hasOwnProperty(t))throw function EM(n,r){return new e.vHH(3302,ii)}();if(null==o||0==o.length)throw function DM(n){return new e.vHH(3303,ii)}();if(!function AN(n){return"start"==n||"done"==n}(o))throw function SM(n,r){return new e.vHH(3400,ii)}();const p=eu(this._elementListeners,r,[]),b={name:t,phase:o,callback:u};p.push(b);const x=eu(this._engine.statesByElement,r,{});return x.hasOwnProperty(t)||(Ju(r,Gb),Ju(r,Gb+"-"+t),x[t]=QT),()=>{this._engine.afterFlush(()=>{const N=p.indexOf(b);N>=0&&p.splice(N,1),this._triggers[t]||delete x[t]})}}register(r,t){return!this._triggers[r]&&(this._triggers[r]=t,!0)}_getTrigger(r){const t=this._triggers[r];if(!t)throw function xM(n){return new e.vHH(3401,ii)}();return t}trigger(r,t,o,u=!0){const p=this._getTrigger(t),b=new XT(this.id,t,r);let x=this._engine.statesByElement.get(r);x||(Ju(r,Gb),Ju(r,Gb+"-"+t),this._engine.statesByElement.set(r,x={}));let N=x[t];const K=new YT(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&N&&K.absorbOptions(N.options),x[t]=K,N||(N=QT),K.value!==My&&N.value===K.value){if(!function ON(n,r){const t=Object.keys(n),o=Object.keys(r);if(t.length!=o.length)return!1;for(let u=0;u<t.length;u++){const p=t[u];if(!r.hasOwnProperty(p)||n[p]!==r[p])return!1}return!0}(N.params,K.params)){const yt=[],$t=p.matchStyles(N.value,N.params,yt),un=p.matchStyles(K.value,K.params,yt);yt.length?this._engine.reportError(yt):this._engine.afterFlush(()=>{M_(r,$t),sf(r,un)})}return}const Je=eu(this._engine.playersByElement,r,[]);Je.forEach(yt=>{yt.namespaceId==this.id&&yt.triggerName==t&&yt.queued&&yt.destroy()});let We=p.matchTransition(N.value,K.value,r,K.params),ft=!1;if(!We){if(!u)return;We=p.fallbackTransition,ft=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:t,transition:We,fromState:N,toState:K,player:b,isFallbackTransition:ft}),ft||(Ju(r,YD),b.onStart(()=>{_v(r,YD)})),b.onDone(()=>{let yt=this.players.indexOf(b);yt>=0&&this.players.splice(yt,1);const $t=this._engine.playersByElement.get(r);if($t){let un=$t.indexOf(b);un>=0&&$t.splice(un,1)}}),this.players.push(b),Je.push(b),b}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((t,o)=>{delete t[r]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(u=>u.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const t=this._engine.playersByElement.get(r);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,t){const o=this._engine.driver.query(r,Hb,!0);o.forEach(u=>{if(u[Ku])return;const p=this._engine.fetchNamespacesByElement(u);p.size?p.forEach(b=>b.triggerLeaveAnimation(u,t,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(r,t,o,u){const p=this._engine.statesByElement.get(r),b=new Map;if(p){const x=[];if(Object.keys(p).forEach(N=>{if(b.set(N,p[N].value),this._triggers[N]){const K=this.trigger(r,N,My,u);K&&x.push(K)}}),x.length)return this._engine.markElementAsRemoved(this.id,r,!0,t,b),o&&qg(x).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const t=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(t&&o){const u=new Set;t.forEach(p=>{const b=p.name;if(u.has(b))return;u.add(b);const N=this._triggers[b].fallbackTransition,K=o[b]||QT,he=new YT(My),Ne=new XT(this.id,b,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:b,transition:N,fromState:K,toState:he,player:Ne,isFallbackTransition:!0})})}}removeNode(r,t){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,t),this.triggerLeaveAnimation(r,t,!0))return;let u=!1;if(o.totalAnimations){const p=o.players.length?o.playersByQueriedElement.get(r):[];if(p&&p.length)u=!0;else{let b=r;for(;b=b.parentNode;)if(o.statesByElement.get(b)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(r),u)o.markElementAsRemoved(this.id,r,!1,t);else{const p=r[Ku];(!p||p===QD)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,t))}}insertNode(r,t){Ju(r,this._hostClassName)}drainQueuedTransitions(r){const t=[];return this._queue.forEach(o=>{const u=o.player;if(u.destroyed)return;const p=o.element,b=this._elementListeners.get(p);b&&b.forEach(x=>{if(x.name==o.triggerName){const N=RT(p,o.triggerName,o.fromState.value,o.toState.value);N._data=r,MT(o.player,x.phase,N,x.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):t.push(o)}),this._queue=[],t.sort((o,u)=>{const p=o.transition.ast.depCount,b=u.transition.ast.depCount;return 0==p||0==b?p-b:this._engine.driver.containsElement(o.element,u.element)?1:-1})}destroy(r){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let t=!1;return this._elementListeners.has(r)&&(t=!0),t=!!this._queue.find(o=>o.element===r)||t,t}}class DN{constructor(r,t,o){this.bodyNode=r,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,p)=>{}}_onRemovalComplete(r,t){this.onRemovalComplete(r,t)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,t){const o=new EN(r,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,t){const o=this._namespaceList,u=this.namespacesByHostElement,p=o.length-1;if(p>=0){let b=!1;if(void 0!==this.driver.getParentElement){let x=this.driver.getParentElement(t);for(;x;){const N=u.get(x);if(N){const K=o.indexOf(N);o.splice(K+1,0,r),b=!0;break}x=this.driver.getParentElement(x)}}else for(let x=p;x>=0;x--)if(this.driver.containsElement(o[x].hostElement,t)){o.splice(x+1,0,r),b=!0;break}b||o.unshift(r)}else o.push(r);return u.set(t,r),r}register(r,t){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,t)),o}registerTrigger(r,t,o){let u=this._namespaceLookup[r];u&&u.register(t,o)&&this.totalAnimations++}destroy(r,t){if(!r)return;const o=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[r];const u=this._namespaceList.indexOf(o);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const t=new Set,o=this.statesByElement.get(r);if(o){const u=Object.keys(o);for(let p=0;p<u.length;p++){const b=o[u[p]].namespaceId;if(b){const x=this._fetchNamespace(b);x&&t.add(x)}}}return t}trigger(r,t,o,u){if(nC(t)){const p=this._fetchNamespace(r);if(p)return p.trigger(t,o,u),!0}return!1}insertNode(r,t,o,u){if(!nC(t))return;const p=t[Ku];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const b=this.collectedLeaveElements.indexOf(t);b>=0&&this.collectedLeaveElements.splice(b,1)}if(r){const b=this._fetchNamespace(r);b&&b.insertNode(t,o)}u&&this.collectEnterElement(t)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,t){t?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Ju(r,JT)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),_v(r,JT))}removeNode(r,t,o,u){if(nC(t)){const p=r?this._fetchNamespace(r):null;if(p?p.removeNode(t,u):this.markElementAsRemoved(r,t,!1,u),o){const b=this.namespacesByHostElement.get(t);b&&b.id!==r&&b.removeNode(t,u)}}else this._onRemovalComplete(t,u)}markElementAsRemoved(r,t,o,u,p){this.collectedLeaveElements.push(t),t[Ku]={namespaceId:r,setForRemoval:u,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:p}}listen(r,t,o,u,p){return nC(t)?this._fetchNamespace(r).listen(t,o,u,p):()=>{}}_buildInstruction(r,t,o,u,p){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,u,r.fromState.options,r.toState.options,t,p)}destroyInnerAnimations(r){let t=this.driver.query(r,Hb,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(r,UT,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const t=this.playersByElement.get(r);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const t=this.playersByQueriedElement.get(r);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return qg(this.players).onDone(()=>r());r()})}processLeaveNode(r){var t;const o=r[Ku];if(o&&o.setForRemoval){if(r[Ku]=QD,o.namespaceId){this.destroyInnerAnimations(r);const u=this._fetchNamespace(o.namespaceId);u&&u.clearElementCache(r)}this._onRemovalComplete(r,o.setForRemoval)}(null===(t=r.classList)||void 0===t?void 0:t.contains(JT))&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(r=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,u)=>this._balanceNamespaceList(o,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Ju(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,r)}finally{for(let u=0;u<o.length;u++)o[u]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?qg(t).onDone(()=>{o.forEach(u=>u())}):o.forEach(u=>u())}}reportError(r){throw function AM(n){return new e.vHH(3402,ii)}()}_flushAnimations(r,t){const o=new Xb,u=[],p=new Map,b=[],x=new Map,N=new Map,K=new Map,he=new Set;this.disabledNodes.forEach(xn=>{he.add(xn);const qn=this.driver.query(xn,".ng-animate-queued",!0);for(let dr=0;dr<qn.length;dr++)he.add(qn[dr])});const Ne=this.bodyNode,Je=Array.from(this.statesByElement.keys()),We=tS(Je,this.collectedEnterElements),ft=new Map;let yt=0;We.forEach((xn,qn)=>{const dr=BT+yt++;ft.set(qn,dr),xn.forEach(kr=>Ju(kr,dr))});const $t=[],un=new Set,bn=new Set;for(let xn=0;xn<this.collectedLeaveElements.length;xn++){const qn=this.collectedLeaveElements[xn],dr=qn[Ku];dr&&dr.setForRemoval&&($t.push(qn),un.add(qn),dr.hasAnimation?this.driver.query(qn,".ng-star-inserted",!0).forEach(kr=>un.add(kr)):bn.add(qn))}const lr=new Map,Sn=tS(Je,Array.from(un));Sn.forEach((xn,qn)=>{const dr=Vb+yt++;lr.set(qn,dr),xn.forEach(kr=>Ju(kr,dr))}),r.push(()=>{We.forEach((xn,qn)=>{const dr=ft.get(qn);xn.forEach(kr=>_v(kr,dr))}),Sn.forEach((xn,qn)=>{const dr=lr.get(qn);xn.forEach(kr=>_v(kr,dr))}),$t.forEach(xn=>{this.processLeaveNode(xn)})});const fr=[],gr=[];for(let xn=this._namespaceList.length-1;xn>=0;xn--)this._namespaceList[xn].drainQueuedTransitions(t).forEach(dr=>{const kr=dr.player,Go=dr.element;if(fr.push(kr),this.collectedEnterElements.length){const ys=Go[Ku];if(ys&&ys.setForMove){if(ys.previousTriggersValues&&ys.previousTriggersValues.has(dr.triggerName)){const Ec=ys.previousTriggersValues.get(dr.triggerName),Yu=this.statesByElement.get(dr.element);Yu&&Yu[dr.triggerName]&&(Yu[dr.triggerName].value=Ec)}return void kr.destroy()}}const pl=!Ne||!this.driver.containsElement(Ne,Go),Rs=lr.get(Go),nu=ft.get(Go),Ei=this._buildInstruction(dr,o,nu,Rs,pl);if(Ei.errors&&Ei.errors.length)return void gr.push(Ei);if(pl)return kr.onStart(()=>M_(Go,Ei.fromStyles)),kr.onDestroy(()=>sf(Go,Ei.toStyles)),void u.push(kr);if(dr.isFallbackTransition)return kr.onStart(()=>M_(Go,Ei.fromStyles)),kr.onDestroy(()=>sf(Go,Ei.toStyles)),void u.push(kr);const Yd=[];Ei.timelines.forEach(ys=>{ys.stretchStartingKeyframe=!0,this.disabledNodes.has(ys.element)||Yd.push(ys)}),Ei.timelines=Yd,o.append(Go,Ei.timelines),b.push({instruction:Ei,player:kr,element:Go}),Ei.queriedElements.forEach(ys=>eu(x,ys,[]).push(kr)),Ei.preStyleProps.forEach((ys,Ec)=>{const Yu=Object.keys(ys);if(Yu.length){let Cp=N.get(Ec);Cp||N.set(Ec,Cp=new Set),Yu.forEach(k_=>Cp.add(k_))}}),Ei.postStyleProps.forEach((ys,Ec)=>{const Yu=Object.keys(ys);let Cp=K.get(Ec);Cp||K.set(Ec,Cp=new Set),Yu.forEach(k_=>Cp.add(k_))})});if(gr.length){const xn=[];gr.forEach(qn=>{xn.push(function IM(n,r){return new e.vHH(3505,ii)}())}),fr.forEach(qn=>qn.destroy()),this.reportError(xn)}const Sr=new Map,Ur=new Map;b.forEach(xn=>{const qn=xn.element;o.has(qn)&&(Ur.set(qn,qn),this._beforeAnimationBuild(xn.player.namespaceId,xn.instruction,Sr))}),u.forEach(xn=>{const qn=xn.element;this._getPreviousPlayers(qn,!1,xn.namespaceId,xn.triggerName,null).forEach(kr=>{eu(Sr,qn,[]).push(kr),kr.destroy()})});const Yi=$t.filter(xn=>rS(xn,N,K)),Qi=new Map;eS(Qi,this.driver,bn,K,tc).forEach(xn=>{rS(xn,N,K)&&Yi.push(xn)});const Aa=new Map;We.forEach((xn,qn)=>{eS(Aa,this.driver,new Set(xn),N,"!")}),Yi.forEach(xn=>{const qn=Qi.get(xn),dr=Aa.get(xn);Qi.set(xn,Object.assign(Object.assign({},qn),dr))});const fs=[],zg=[],Wg={};b.forEach(xn=>{const{element:qn,player:dr,instruction:kr}=xn;if(o.has(qn)){if(he.has(qn))return dr.onDestroy(()=>sf(qn,kr.toStyles)),dr.disabled=!0,dr.overrideTotalTime(kr.totalTime),void u.push(dr);let Go=Wg;if(Ur.size>1){let Rs=qn;const nu=[];for(;Rs=Rs.parentNode;){const Ei=Ur.get(Rs);if(Ei){Go=Ei;break}nu.push(Rs)}nu.forEach(Ei=>Ur.set(Ei,Go))}const pl=this._buildAnimation(dr.namespaceId,kr,Sr,p,Aa,Qi);if(dr.setRealPlayer(pl),Go===Wg)fs.push(dr);else{const Rs=this.playersByElement.get(Go);Rs&&Rs.length&&(dr.parentPlayer=qg(Rs)),u.push(dr)}}else M_(qn,kr.fromStyles),dr.onDestroy(()=>sf(qn,kr.toStyles)),zg.push(dr),he.has(qn)&&u.push(dr)}),zg.forEach(xn=>{const qn=p.get(xn.element);if(qn&&qn.length){const dr=qg(qn);xn.setRealPlayer(dr)}}),u.forEach(xn=>{xn.parentPlayer?xn.syncPlayerEvents(xn.parentPlayer):xn.destroy()});for(let xn=0;xn<$t.length;xn++){const qn=$t[xn],dr=qn[Ku];if(_v(qn,Vb),dr&&dr.hasAnimation)continue;let kr=[];if(x.size){let pl=x.get(qn);pl&&pl.length&&kr.push(...pl);let Rs=this.driver.query(qn,UT,!0);for(let nu=0;nu<Rs.length;nu++){let Ei=x.get(Rs[nu]);Ei&&Ei.length&&kr.push(...Ei)}}const Go=kr.filter(pl=>!pl.destroyed);Go.length?IN(this,qn,Go):this.processLeaveNode(qn)}return $t.length=0,fs.forEach(xn=>{this.players.push(xn),xn.onDone(()=>{xn.destroy();const qn=this.players.indexOf(xn);this.players.splice(qn,1)}),xn.play()}),fs}elementContainsData(r,t){let o=!1;const u=t[Ku];return u&&u.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(r).elementContainsData(t)||o}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,t,o,u,p){let b=[];if(t){const x=this.playersByQueriedElement.get(r);x&&(b=x)}else{const x=this.playersByElement.get(r);if(x){const N=!p||p==My;x.forEach(K=>{K.queued||!N&&K.triggerName!=u||b.push(K)})}}return(o||u)&&(b=b.filter(x=>!(o&&o!=x.namespaceId||u&&u!=x.triggerName))),b}_beforeAnimationBuild(r,t,o){const p=t.element,b=t.isRemovalTransition?void 0:r,x=t.isRemovalTransition?void 0:t.triggerName;for(const N of t.timelines){const K=N.element,he=K!==p,Ne=eu(o,K,[]);this._getPreviousPlayers(K,he,b,x,t.toState).forEach(We=>{const ft=We.getRealPlayer();ft.beforeDestroy&&ft.beforeDestroy(),We.destroy(),Ne.push(We)})}M_(p,t.fromStyles)}_buildAnimation(r,t,o,u,p,b){const x=t.triggerName,N=t.element,K=[],he=new Set,Ne=new Set,Je=t.timelines.map(ft=>{const yt=ft.element;he.add(yt);const $t=yt[Ku];if($t&&$t.removedBeforeQueried)return new jd(ft.duration,ft.delay);const un=yt!==N,bn=function PN(n){const r=[];return nS(n,r),r}((o.get(yt)||wN).map(Sr=>Sr.getRealPlayer())).filter(Sr=>!!Sr.element&&Sr.element===yt),lr=p.get(yt),Sn=b.get(yt),fr=AD(0,this._normalizer,0,ft.keyframes,lr,Sn),gr=this._buildPlayer(ft,fr,bn);if(ft.subTimeline&&u&&Ne.add(yt),un){const Sr=new XT(r,x,yt);Sr.setRealPlayer(gr),K.push(Sr)}return gr});K.forEach(ft=>{eu(this.playersByQueriedElement,ft.element,[]).push(ft),ft.onDone(()=>function SN(n,r,t){let o;if(n instanceof Map){if(o=n.get(r),o){if(o.length){const u=o.indexOf(t);o.splice(u,1)}0==o.length&&n.delete(r)}}else if(o=n[r],o){if(o.length){const u=o.indexOf(t);o.splice(u,1)}0==o.length&&delete n[r]}return o}(this.playersByQueriedElement,ft.element,ft))}),he.forEach(ft=>Ju(ft,BD));const We=qg(Je);return We.onDestroy(()=>{he.forEach(ft=>_v(ft,BD)),sf(N,t.toStyles)}),Ne.forEach(ft=>{eu(u,ft,[]).push(We)}),We}_buildPlayer(r,t,o){return t.length>0?this.driver.animate(r.element,t,r.duration,r.delay,r.easing,o):new jd(r.duration,r.delay)}}class XT{constructor(r,t,o){this.namespaceId=r,this.triggerName=t,this.element=o,this._player=new jd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>MT(r,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const t=this._player;t.triggerCallback&&r.onStart(()=>t.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,t){eu(this._queuedCallbacks,r,[]).push(t)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const t=this._player;t.triggerCallback&&t.triggerCallback(r)}}function nC(n){return n&&1===n.nodeType}function XD(n,r){const t=n.style.display;return n.style.display=null!=r?r:"none",t}function eS(n,r,t,o,u){const p=[];t.forEach(N=>p.push(XD(N)));const b=[];o.forEach((N,K)=>{const he={};N.forEach(Ne=>{const Je=he[Ne]=r.computeStyle(K,Ne,u);(!Je||0==Je.length)&&(K[Ku]=TN,b.push(K))}),n.set(K,he)});let x=0;return t.forEach(N=>XD(N,p[x++])),b}function tS(n,r){const t=new Map;if(n.forEach(x=>t.set(x,[])),0==r.length)return t;const u=new Set(r),p=new Map;function b(x){if(!x)return 1;let N=p.get(x);if(N)return N;const K=x.parentNode;return N=t.has(K)?K:u.has(K)?1:b(K),p.set(x,N),N}return r.forEach(x=>{const N=b(x);1!==N&&t.get(N).push(x)}),t}function Ju(n,r){var t;null===(t=n.classList)||void 0===t||t.add(r)}function _v(n,r){var t;null===(t=n.classList)||void 0===t||t.remove(r)}function IN(n,r,t){qg(t).onDone(()=>n.processLeaveNode(r))}function nS(n,r){for(let t=0;t<n.length;t++){const o=n[t];o instanceof ip?nS(o.players,r):r.push(o)}}function rS(n,r,t){const o=t.get(n);if(!o)return!1;let u=r.get(n);return u?o.forEach(p=>u.add(p)):r.set(n,o),t.delete(n),!0}class rC{constructor(r,t,o){this.bodyNode=r,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(u,p)=>{},this._transitionEngine=new DN(r,t,o),this._timelineEngine=new _N(r,t,o),this._transitionEngine.onRemovalComplete=(u,p)=>this.onRemovalComplete(u,p)}registerTrigger(r,t,o,u,p){const b=r+"-"+u;let x=this._triggerCache[b];if(!x){const N=[],he=HT(this._driver,p,N,[]);if(N.length)throw function vM(n,r){return new e.vHH(3404,ii)}();x=function fN(n,r,t){return new pN(n,r,t)}(u,he,this._normalizer),this._triggerCache[b]=x}this._transitionEngine.registerTrigger(t,u,x)}register(r,t){this._transitionEngine.register(r,t)}destroy(r,t){this._transitionEngine.destroy(r,t)}onInsert(r,t,o,u){this._transitionEngine.insertNode(r,t,o,u)}onRemove(r,t,o,u){this._transitionEngine.removeNode(r,t,u||!1,o)}disableAnimations(r,t){this._transitionEngine.markElementAsDisabled(r,t)}process(r,t,o,u){if("@"==o.charAt(0)){const[p,b]=ID(o);this._timelineEngine.command(p,t,b,u)}else this._transitionEngine.trigger(r,t,o,u)}listen(r,t,o,u,p){if("@"==o.charAt(0)){const[b,x]=ID(o);return this._timelineEngine.listen(b,t,x,p)}return this._transitionEngine.listen(r,t,o,u,p)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let NN=(()=>{class n{constructor(t,o,u){this._element=t,this._startStyles=o,this._endStyles=u,this._state=0;let p=n.initialStylesByElement.get(t);p||n.initialStylesByElement.set(t,p={}),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&sf(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sf(this._element,this._initialStyles),this._endStyles&&(sf(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(M_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(M_(this._element,this._endStyles),this._endStyles=null),sf(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function eE(n){let r=null;const t=Object.keys(n);for(let o=0;o<t.length;o++){const u=t[o];RN(u)&&(r=r||{},r[u]=n[u])}return r}function RN(n){return"display"===n||"position"===n}class iS{constructor(r,t,o,u){this.element=r,this.keyframes=t,this.options=o,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,t,o){return r.animate(t,o)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(o=>{"offset"!=o&&(r[o]=this._finished?t[o]:HD(this.element,o))})}this.currentSnapshot=r}triggerCallback(r){const t="start"==r?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class kN{validateStyleProperty(r){return ND(r)}matchesElement(r,t){return!1}containsElement(r,t){return RD(r,t)}getParentElement(r){return LT(r)}query(r,t,o){return kD(r,t,o)}computeStyle(r,t,o){return window.getComputedStyle(r)[t]}animate(r,t,o,u,p,b=[]){const N={duration:o,delay:u,fill:0==u?"both":"forwards"};p&&(N.easing=p);const K={},he=b.filter(Je=>Je instanceof iS);(function UM(n,r){return 0===n||0===r})(o,u)&&he.forEach(Je=>{let We=Je.currentSnapshot;Object.keys(We).forEach(ft=>K[ft]=We[ft])}),t=function jM(n,r,t){const o=Object.keys(t);if(o.length&&r.length){let p=r[0],b=[];if(o.forEach(x=>{p.hasOwnProperty(x)||b.push(x),p[x]=t[x]}),b.length)for(var u=1;u<r.length;u++){let x=r[u];b.forEach(function(N){x[N]=HD(n,N)})}}return r}(r,t=t.map(Je=>Zg(Je,!1)),K);const Ne=function MN(n,r){let t=null,o=null;return Array.isArray(r)&&r.length?(t=eE(r[0]),r.length>1&&(o=eE(r[r.length-1]))):r&&(t=eE(r)),t||o?new NN(n,t,o):null}(r,t);return new iS(r,t,N,Ne)}}let LN=(()=>{class n extends hg{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:e.ifc.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(t)?m0(t):t;return oS(this._renderer,null,o,"register",[u]),new FN(o,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.FYo),e.LFG(q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class FN extends class Uy{}{constructor(r,t){super(),this._id=r,this._renderer=t}create(r,t){return new BN(this._id,r,t||{},this._renderer)}}class BN{constructor(r,t,o,u){this.id=r,this.element=t,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(r,t){return this._renderer.listen(this.element,`@@${this.id}:${r}`,t)}_command(r,...t){return oS(this._renderer,this.element,this.id,r,t)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,t;return null!==(t=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==t?t:0}}function oS(n,r,t,o,u){return n.setProperty(r,`@@${t}:${o}`,u)}const sS="@.disabled";let UN=(()=>{class n{constructor(t,o,u){this.delegate=t,this.engine=o,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(p,b)=>{const x=null==b?void 0:b.parentNode(p);x&&b.removeChild(x,p)}}createRenderer(t,o){const p=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let he=this._rendererCache.get(p);return he||(he=new aS("",p,this.engine),this._rendererCache.set(p,he)),he}const b=o.id,x=o.id+"-"+this._currentId;this._currentId++,this.engine.register(x,t);const N=he=>{Array.isArray(he)?he.forEach(N):this.engine.registerTrigger(b,x,t,he.name,he)};return o.data.animation.forEach(N),new jN(this,x,p,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,u){t>=0&&t<this._microtaskId?this._zone.run(()=>o(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(p=>{const[b,x]=p;b(x)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.FYo),e.LFG(rC),e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class aS{constructor(r,t,o){this.namespaceId=r,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,t){return this.delegate.createElement(r,t)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,t){this.delegate.appendChild(r,t),this.engine.onInsert(this.namespaceId,t,r,!1)}insertBefore(r,t,o,u=!0){this.delegate.insertBefore(r,t,o),this.engine.onInsert(this.namespaceId,t,r,u)}removeChild(r,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(r,t){return this.delegate.selectRootElement(r,t)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,t,o,u){this.delegate.setAttribute(r,t,o,u)}removeAttribute(r,t,o){this.delegate.removeAttribute(r,t,o)}addClass(r,t){this.delegate.addClass(r,t)}removeClass(r,t){this.delegate.removeClass(r,t)}setStyle(r,t,o,u){this.delegate.setStyle(r,t,o,u)}removeStyle(r,t,o){this.delegate.removeStyle(r,t,o)}setProperty(r,t,o){"@"==t.charAt(0)&&t==sS?this.disableAnimations(r,!!o):this.delegate.setProperty(r,t,o)}setValue(r,t){this.delegate.setValue(r,t)}listen(r,t,o){return this.delegate.listen(r,t,o)}disableAnimations(r,t){this.engine.disableAnimations(r,t)}}class jN extends aS{constructor(r,t,o,u){super(t,o,u),this.factory=r,this.namespaceId=t}setProperty(r,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==sS?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,t.substr(1),o):this.delegate.setProperty(r,t,o)}listen(r,t,o){if("@"==t.charAt(0)){const u=function VN(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(r);let p=t.substr(1),b="";return"@"!=p.charAt(0)&&([p,b]=function GN(n){const r=n.indexOf(".");return[n.substring(0,r),n.substr(r+1)]}(p)),this.engine.listen(this.namespaceId,u,p,b,x=>{this.factory.scheduleListenerCallback(x._data||-1,o,x)})}return this.delegate.listen(r,t,o)}}let HN=(()=>{class n extends rC{constructor(t,o,u){super(t.body,o,u)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q),e.LFG(FT),e.LFG($T))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const cS=new e.OlP("AnimationModuleType"),lS=[{provide:hg,useClass:LN},{provide:$T,useFactory:function qN(){return new cN}},{provide:rC,useClass:HN},{provide:e.FYo,useFactory:function ZN(n,r,t){return new UN(n,r,t)},deps:[ci,rC,e.R0b]}],uS=[{provide:FT,useFactory:()=>new kN},{provide:cS,useValue:"BrowserAnimations"},...lS],zN=[{provide:FT,useClass:LD},{provide:cS,useValue:"NoopAnimations"},...lS];let WN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?zN:uS}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:uS,imports:[Va]}),n})();var dS=O(3692),hS=O(2292);const fS={production:!0,firebaseConfig:{apiKey:"AIzaSyDR3QjCu6YuestW0oujyiLiAkzuX0N3tIo",authDomain:"proddle.firebaseapp.com",projectId:"proddle",storageBucket:"proddle.appspot.com",messagingSenderId:"374263447281",appId:"1:374263447281:web:73cfe081647f70fabb7350"}};!function Zn(n,r,t){(0,e.dwT)(n,r,t)}(lx,"es");let $N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n,bootstrap:[pp]}),n.\u0275inj=e.cJS({providers:[Jd,DT,{provide:e.soG,useValue:"es"},{provide:zl.Dh,useValue:fS.firebaseConfig}],imports:[[Va,WN,ax,Te,Yo,qu,Tf,r1,Fm.forRoot(JO),Hd,Jm.forRoot({defaultLanguage:Za.q.defaultLanguage}),(0,dS.hX)(()=>(0,dS.ZF)(fS.firebaseConfig)),(0,hS.Cm)(()=>(0,hS.ad)())]]}),n})();cc().bootstrapModule($N).then(n=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=n}).catch(n=>console.error(n))},8955:(tt,A,O)=>{"use strict";O(8583);const C="undefined"!=typeof globalThis&&globalThis,E="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V=C||"undefined"!=typeof global&&global||E||R,q=function(ne,...ae){if(q.translate){const qe=q.translate(ne,ae);ne=qe[0],ae=qe[1]}let Ye=Y(ne[0],ne.raw[0]);for(let qe=1;qe<ne.length;qe++)Ye+=ae[qe-1]+Y(ne[qe],ne.raw[qe]);return Ye};function Y(ne,ae){return":"===ae.charAt(0)?ne.substring(function $(ne,ae){for(let Ye=1,qe=1;Ye<ne.length;Ye++,qe++)if("\\"===ae[qe])qe++;else if(":"===ne[Ye])return Ye;throw new Error(`Unterminated $localize metadata block in "${ae}".`)}(ne,ae)+1):ne}V.$localize=q},5867:(tt,A,O)=>{"use strict";O.d(A,{C6:()=>e.getApps,KN:()=>e.registerVersion,Mq:()=>e.getApp,ZF:()=>e.initializeApp});var e=O(9681);(0,e.registerVersion)("firebase","9.6.9","app")},127:(tt,A,O)=>{"use strict";O.d(A,{Z:()=>e.Z});var e=O(3942);e.Z.registerVersion("firebase","9.6.9","app-compat")},3209:(tt,A,O)=>{"use strict";O.d(A,{ET:()=>ll,hJ:()=>Km,oe:()=>is,JU:()=>oa,ad:()=>Qm,cf:()=>F0,pl:()=>l_,qs:()=>h_});var W,e=O(5861),C=O(9681),E=O(4859),R=O(1877),P=O(2090),V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},q={},Y=Y||{},$=V||self;function ne(){}function ae(l){var i=typeof l;return"array"==(i="object"!=i?i:l?Array.isArray(l)?"array":i:"null")||"object"==i&&"number"==typeof l.length}function Ye(l){var i=typeof l;return"object"==i&&null!=l||"function"==i}var Ge="closure_uid_"+(1e9*Math.random()>>>0),lt=0;function le(l,i,c){return l.call.apply(l.bind,arguments)}function Oe(l,i,c){if(!l)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),l.apply(i,g)}}return function(){return l.apply(i,arguments)}}function De(l,i,c){return(De=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:Oe).apply(null,arguments)}function rt(l,i){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),l.apply(this,h)}}function Ue(l,i){function c(){}c.prototype=i.prototype,l.Z=i.prototype,l.prototype=new c,l.prototype.constructor=l,l.Vb=function(h,g,y){for(var D=Array(arguments.length-2),L=2;L<arguments.length;L++)D[L-2]=arguments[L];return i.prototype[g].apply(h,D)}}function Ze(){this.s=this.s,this.o=this.o}var He={};Ze.prototype.s=!1,Ze.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var l=function qe(l){return Object.prototype.hasOwnProperty.call(l,Ge)&&l[Ge]||(l[Ge]=++lt)}(this);delete He[l]}},Ze.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ie=Array.prototype.indexOf?function(l,i){return Array.prototype.indexOf.call(l,i,void 0)}:function(l,i){if("string"==typeof l)return"string"!=typeof i||1!=i.length?-1:l.indexOf(i,0);for(let c=0;c<l.length;c++)if(c in l&&l[c]===i)return c;return-1},it=Array.prototype.forEach?function(l,i,c){Array.prototype.forEach.call(l,i,c)}:function(l,i,c){const h=l.length,g="string"==typeof l?l.split(""):l;for(let y=0;y<h;y++)y in g&&i.call(c,g[y],y,l)};function oe(l){return Array.prototype.concat.apply([],arguments)}function Q(l){const i=l.length;if(0<i){const c=Array(i);for(let h=0;h<i;h++)c[h]=l[h];return c}return[]}function ge(l){return/^[\s\xa0]*$/.test(l)}var Dt,Pe=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]};function de(l,i){return-1!=l.indexOf(i)}function gt(l,i){return l<i?-1:l>i?1:0}e:{var pn=$.navigator;if(pn){var wt=pn.userAgent;if(wt){Dt=wt;break e}}Dt=""}function mt(l,i,c){for(const h in l)i.call(c,l[h],h,l)}function At(l){const i={};for(const c in l)i[c]=l[c];return i}var an="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function er(l,i){let c,h;for(let g=1;g<arguments.length;g++){for(c in h=arguments[g],h)l[c]=h[c];for(let y=0;y<an.length;y++)c=an[y],Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])}}function Ln(l){return Ln[" "](l),l}Ln[" "]=ne;var Lr,l,ir=de(Dt,"Opera"),Yn=de(Dt,"Trident")||de(Dt,"MSIE"),qr=de(Dt,"Edge"),mr=qr||Yn,Ir=de(Dt,"Gecko")&&!(de(Dt.toLowerCase(),"webkit")&&!de(Dt,"Edge"))&&!(de(Dt,"Trident")||de(Dt,"MSIE"))&&!de(Dt,"Edge"),Bi=de(Dt.toLowerCase(),"webkit")&&!de(Dt,"Edge");function Ti(){var l=$.document;return l?l.documentMode:void 0}e:{var jr="",Di=(l=Dt,Ir?/rv:([^\);]+)(\)|;)/.exec(l):qr?/Edge\/([\d\.]+)/.exec(l):Yn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Bi?/WebKit\/(\S+)/.exec(l):ir?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Di&&(jr=Di?Di[1]:""),Yn){var gn=Ti();if(null!=gn&&gn>parseFloat(jr)){Lr=String(gn);break e}}Lr=jr}var Fi={};var Qe=$.document&&Yn&&(Ti()||parseInt(Lr,10))||void 0,ct=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var l=!1,i=Object.defineProperty({},"passive",{get:function(){l=!0}});try{$.addEventListener("test",ne,i),$.removeEventListener("test",ne,i)}catch(c){}return l}();function Xe(l,i){this.type=l,this.g=this.target=i,this.defaultPrevented=!1}function vt(l,i){if(Xe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var c=this.type=l.type,h=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=i,i=l.relatedTarget){if(Ir){e:{try{Ln(i.nodeName);var g=!0;break e}catch(y){}g=!1}g||(i=null)}}else"mouseover"==c?i=l.fromElement:"mouseout"==c&&(i=l.toElement);this.relatedTarget=i,h?(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:kt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&vt.Z.h.call(this)}}Xe.prototype.h=function(){this.defaultPrevented=!0},Ue(vt,Xe);var kt={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.Z.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),Ct=0;function Ft(l,i,c,h,g){this.listener=l,this.proxy=null,this.src=i,this.type=c,this.capture=!!h,this.ia=g,this.key=++Ct,this.ca=this.fa=!1}function mn(l){l.ca=!0,l.listener=null,l.proxy=null,l.src=null,l.ia=null}function en(l){this.src=l,this.g={},this.h=0}function Qt(l,i){var c=i.type;if(c in l.g){var y,h=l.g[c],g=Ie(h,i);(y=0<=g)&&Array.prototype.splice.call(h,g,1),y&&(mn(i),0==l.g[c].length&&(delete l.g[c],l.h--))}}function Pn(l,i,c,h){for(var g=0;g<l.length;++g){var y=l[g];if(!y.ca&&y.listener==i&&y.capture==!!c&&y.ia==h)return g}return-1}en.prototype.add=function(l,i,c,h,g){var y=l.toString();(l=this.g[y])||(l=this.g[y]=[],this.h++);var D=Pn(l,i,h,g);return-1<D?(i=l[D],c||(i.fa=!1)):((i=new Ft(i,this.src,y,!!h,g)).fa=c,l.push(i)),i};var Cn="closure_lm_"+(1e6*Math.random()|0),Wn={};function Ht(l,i,c,h,g){if(h&&h.once)return Tt(l,i,c,h,g);if(Array.isArray(i)){for(var y=0;y<i.length;y++)Ht(l,i[y],c,h,g);return null}return c=pe(c),l&&l[Pt]?l.N(i,c,Ye(h)?!!h.capture:!!h,g):br(l,i,c,!1,h,g)}function br(l,i,c,h,g,y){if(!i)throw Error("Invalid event type");var D=Ye(g)?!!g.capture:!!g,L=vn(l);if(L||(l[Cn]=L=new en(l)),(c=L.add(i,c,h,D,y)).proxy)return c;if(h=function En(){var i=An;return function l(c){return i.call(l.src,l.listener,c)}}(),c.proxy=h,h.src=l,h.listener=c,l.addEventListener)ct||(g=D),void 0===g&&(g=!1),l.addEventListener(i.toString(),h,g);else if(l.attachEvent)l.attachEvent(Wt(i.toString()),h);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(h)}return c}function Tt(l,i,c,h,g){if(Array.isArray(i)){for(var y=0;y<i.length;y++)Tt(l,i[y],c,h,g);return null}return c=pe(c),l&&l[Pt]?l.O(i,c,Ye(h)?!!h.capture:!!h,g):br(l,i,c,!0,h,g)}function et(l,i,c,h,g){if(Array.isArray(i))for(var y=0;y<i.length;y++)et(l,i[y],c,h,g);else h=Ye(h)?!!h.capture:!!h,c=pe(c),l&&l[Pt]?(l=l.i,(i=String(i).toString())in l.g&&-1<(c=Pn(y=l.g[i],c,h,g))&&(mn(y[c]),Array.prototype.splice.call(y,c,1),0==y.length&&(delete l.g[i],l.h--))):l&&(l=vn(l))&&(i=l.g[i.toString()],l=-1,i&&(l=Pn(i,c,h,g)),(c=-1<l?i[l]:null)&&jt(c))}function jt(l){if("number"!=typeof l&&l&&!l.ca){var i=l.src;if(i&&i[Pt])Qt(i.i,l);else{var c=l.type,h=l.proxy;i.removeEventListener?i.removeEventListener(c,h,l.capture):i.detachEvent?i.detachEvent(Wt(c),h):i.addListener&&i.removeListener&&i.removeListener(h),(c=vn(i))?(Qt(c,l),0==c.h&&(c.src=null,i[Cn]=null)):mn(l)}}}function Wt(l){return l in Wn?Wn[l]:Wn[l]="on"+l}function An(l,i){if(l.ca)l=!0;else{i=new vt(i,this);var c=l.listener,h=l.ia||l.src;l.fa&&jt(l),l=c.call(h,i)}return l}function vn(l){return(l=l[Cn])instanceof en?l:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(l){return"function"==typeof l?l:(l[ye]||(l[ye]=function(i){return l.handleEvent(i)}),l[ye])}function me(){Ze.call(this),this.i=new en(this),this.P=this,this.I=null}function ze(l,i){var c,h=l.I;if(h)for(c=[];h;h=h.I)c.push(h);if(l=l.P,h=i.type||i,"string"==typeof i)i=new Xe(i,l);else if(i instanceof Xe)i.target=i.target||l;else{var g=i;er(i=new Xe(h,l),g)}if(g=!0,c)for(var y=c.length-1;0<=y;y--){var D=i.g=c[y];g=Le(D,h,!0,i)&&g}if(g=Le(D=i.g=l,h,!0,i)&&g,g=Le(D,h,!1,i)&&g,c)for(y=0;y<c.length;y++)g=Le(D=i.g=c[y],h,!1,i)&&g}function Le(l,i,c,h){if(!(i=l.i.g[String(i)]))return!0;i=i.concat();for(var g=!0,y=0;y<i.length;++y){var D=i[y];if(D&&!D.ca&&D.capture==c){var L=D.listener,Z=D.ia||D.src;D.fa&&Qt(l.i,D),g=!1!==L.call(Z,h)&&g}}return g&&!h.defaultPrevented}Ue(me,Ze),me.prototype[Pt]=!0,me.prototype.removeEventListener=function(l,i,c,h){et(this,l,i,c,h)},me.prototype.M=function(){if(me.Z.M.call(this),this.i){var i,l=this.i;for(i in l.g){for(var c=l.g[i],h=0;h<c.length;h++)mn(c[h]);delete l.g[i],l.h--}}this.I=null},me.prototype.N=function(l,i,c,h){return this.i.add(String(l),i,!1,c,h)},me.prototype.O=function(l,i,c,h){return this.i.add(String(l),i,!0,c,h)};var Rt=$.JSON.stringify;function wn(){var l=st;let i=null;return l.g&&(i=l.g,l.g=l.g.next,l.g||(l.h=null),i.next=null),i}var Dn,or=new class{constructor(l,i){this.i=l,this.j=i,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}(()=>new Gn,l=>l.reset());class Gn{constructor(){this.next=this.g=this.h=null}set(i,c){this.h=i,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}function tr(l){$.setTimeout(()=>{throw l},0)}function tn(l,i){Dn||function nn(){var l=$.Promise.resolve(void 0);Dn=function(){l.then(cn)}}(),Fe||(Dn(),Fe=!0),st.add(l,i)}var Fe=!1,st=new class On{constructor(){this.h=this.g=null}add(i,c){const h=or.get();h.set(i,c),this.h?this.h.next=h:this.g=h,this.h=h}};function cn(){for(var l;l=wn();){try{l.h.call(l.g)}catch(c){tr(c)}var i=or;i.j(l),100>i.h&&(i.h++,l.next=i.g,i.g=l)}Fe=!1}function Fn(l,i){me.call(this),this.h=l||1,this.g=i||$,this.j=De(this.kb,this),this.l=Date.now()}function sr(l){l.da=!1,l.S&&(l.g.clearTimeout(l.S),l.S=null)}function Vt(l,i,c){if("function"==typeof l)c&&(l=De(l,c));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=De(l.handleEvent,l)}return 2147483647<Number(i)?-1:$.setTimeout(l,i||0)}function Ut(l){l.g=Vt(()=>{l.g=null,l.i&&(l.i=!1,Ut(l))},l.j);const i=l.h;l.h=null,l.m.apply(null,i)}Ue(Fn,me),(W=Fn.prototype).da=!1,W.S=null,W.kb=function(){if(this.da){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-l):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ze(this,"tick"),this.da&&(sr(this),this.start()))}},W.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.M=function(){Fn.Z.M.call(this),sr(this),delete this.g};class Ve extends Ze{constructor(i,c){super(),this.m=i,this.j=c,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:Ut(this)}M(){super.M(),this.g&&($.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(l){Ze.call(this),this.h=l,this.g={}}Ue(bt,Ze);var qt=[];function Xt(l,i,c,h){Array.isArray(c)||(c&&(qt[0]=c.toString()),c=qt);for(var g=0;g<c.length;g++){var y=Ht(i,c[g],h||l.handleEvent,!1,l.h||l);if(!y)break;l.g[y.key]=y}}function on(l){mt(l.g,function(i,c){this.g.hasOwnProperty(c)&&jt(i)},l),l.g={}}function Tn(){this.g=!0}function Nn(l,i,c,h){l.info(function(){return"XMLHTTP TEXT ("+i+"): "+function Zn(l,i){if(!l.g)return i;if(!i)return null;try{var c=JSON.parse(i);if(c)for(l=0;l<c.length;l++)if(Array.isArray(c[l])){var h=c[l];if(!(2>h.length)){var g=h[1];if(Array.isArray(g)&&!(1>g.length)){var y=g[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var D=1;D<g.length;D++)g[D]=""}}}return Rt(c)}catch(L){return i}}(l,c)+(h?" "+h:"")})}bt.prototype.M=function(){bt.Z.M.call(this),on(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tn.prototype.Aa=function(){this.g=!1},Tn.prototype.info=function(){};var Pr={},Tr=null;function bo(){return Tr=Tr||new me}function Ui(l){Xe.call(this,Pr.Ma,l)}function nr(l){const i=bo();ze(i,new Ui(i,l))}function Xi(l,i){Xe.call(this,Pr.STAT_EVENT,l),this.stat=i}function Or(l){const i=bo();ze(i,new Xi(i,l))}function ke(l,i){Xe.call(this,Pr.Na,l),this.size=i}function Me(l,i){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return $.setTimeout(function(){l()},i)}Pr.Ma="serverreachability",Ue(Ui,Xe),Pr.STAT_EVENT="statevent",Ue(Xi,Xe),Pr.Na="timingevent",Ue(ke,Xe);var ot={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},St={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ot(){}function ar(){}Ot.prototype.h=null;var ss,Mr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pr(){Xe.call(this,"d")}function ui(){Xe.call(this,"c")}function Gr(){}function ks(l,i,c,h){this.l=l,this.j=i,this.m=c,this.X=h||1,this.V=new bt(this),this.P=Ia,this.W=new Fn(l=mr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ji}function ji(){this.i=null,this.g="",this.h=!1}Ue(pr,Xe),Ue(ui,Xe),Ue(Gr,Ot),Gr.prototype.g=function(){return new XMLHttpRequest},Gr.prototype.i=function(){return{}},ss=new Gr;var Ia=45e3,Pa={},Mo={};function aa(l,i,c){l.K=1,l.v=we(ue(i)),l.s=c,l.U=!0,Ls(l,null)}function Ls(l,i){l.F=Date.now(),Cs(l),l.A=ue(l.v);var c=l.A,h=l.X;Array.isArray(h)||(h=[String(h)]),Kr(c.h,"t",h),l.C=0,c=l.l.H,l.h=new ji,l.g=Hs(l.l,c?i:null,!l.s),0<l.O&&(l.L=new Ve(De(l.Ia,l,l.g),l.O)),Xt(l.V,l.g,"readystatechange",l.gb),i=l.H?At(l.H):{},l.s?(l.u||(l.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.s,i)):(l.u="GET",l.g.ea(l.A,l.u,null,i)),nr(1),function jn(l,i,c,h,g,y){l.info(function(){if(l.g)if(y)for(var D="",L=y.split("&"),Z=0;Z<L.length;Z++){var te=L[Z].split("=");if(1<te.length){var xe=te[0];te=te[1];var je=xe.split("_");D=2<=je.length&&"type"==je[1]?D+(xe+"=")+te+"&":D+(xe+"=redacted&")}}else D=null;else D=y;return"XMLHTTP REQ ("+h+") [attempt "+g+"]: "+i+"\n"+c+"\n"+D})}(l.j,l.u,l.A,l.m,l.X,l.s)}function Si(l){return!!l.g&&"GET"==l.u&&2!=l.K&&l.l.Ba}function bs(l,i,c){let g,h=!0;for(;!l.I&&l.C<c.length;){if(g=Dc(l,c),g==Mo){4==i&&(l.o=4,Or(14),h=!1),Nn(l.j,l.m,null,"[Incomplete Response]");break}if(g==Pa){l.o=4,Or(15),Nn(l.j,l.m,c,"[Invalid Chunk]"),h=!1;break}Nn(l.j,l.m,g,null),Oa(l,g)}Si(l)&&g!=Mo&&g!=Pa&&(l.h.g="",l.C=0),4!=i||0!=c.length||l.h.h||(l.o=1,Or(16),h=!1),l.i=l.i&&h,h?0<c.length&&!l.aa&&(l.aa=!0,(i=l.l).g==l&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+c.length),ed(i),i.L=!0,Or(11))):(Nn(l.j,l.m,c,"[Invalid Chunked Response]"),No(l),as(l))}function Dc(l,i){var c=l.C,h=i.indexOf("\n",c);return-1==h?Mo:(c=Number(i.substring(c,h)),isNaN(c)?Pa:(h+=1)+c>i.length?Mo:(i=i.substr(h,c),l.C=h+c,i))}function Cs(l){l.Y=Date.now()+l.P,Fs(l,l.P)}function Fs(l,i){if(null!=l.B)throw Error("WatchDog timer not null");l.B=Me(De(l.eb,l),i)}function Co(l){l.B&&($.clearTimeout(l.B),l.B=null)}function as(l){0==l.l.G||l.I||td(l.l,l)}function No(l){Co(l);var i=l.L;i&&"function"==typeof i.na&&i.na(),l.L=null,sr(l.W),on(l.V),l.g&&(i=l.g,l.g=null,i.abort(),i.na())}function Oa(l,i){try{var c=l.l;if(0!=c.G&&(c.g==l||co(c.i,l)))if(c.I=l.N,!l.J&&co(c.i,l)&&3==c.G){try{var h=c.Ca.g.parse(i)}catch(te){h=null}if(Array.isArray(h)&&3==h.length){var g=h;if(0==g[0])e:if(c.u)c.ta=g[1],0<c.ta-c.U&&37500>g[2]&&c.N&&0==c.A&&!c.v&&(c.v=Me(De(c.ab,c),6e3));else{if(c.g){if(!(c.g.F+3e3<l.F))break e;Pc(c),da(c)}Ic(c),Or(18)}if(1>=cs(c.i)&&c.ka){try{c.ka()}catch(te){}c.ka=void 0}}else us(c,11)}else if((l.J||c.g==l)&&Pc(c),!ge(i))for(g=c.Ca.g.parse(i),i=0;i<g.length;i++){let te=g[i];if(c.U=te[0],te=te[1],2==c.G)if("c"==te[0]){c.J=te[1],c.la=te[2];const xe=te[3];null!=xe&&(c.ma=xe,c.h.info("VER="+c.ma));const je=te[4];null!=je&&(c.za=je,c.h.info("SVER="+c.za));const ht=te[5];null!=ht&&"number"==typeof ht&&0<ht&&(c.K=h=1.5*ht,c.h.info("backChannelRequestTimeoutMs_="+h)),h=c;const xt=l.g;if(xt){const Bt=xt.g?xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bt){var y=h.i;!y.g&&(de(Bt,"spdy")||de(Bt,"quic")||de(Bt,"h2"))&&(y.j=y.l,y.g=new Set,y.h&&(ws(y,y.h),y.h=null))}if(h.D){const kn=xt.g?xt.g.getResponseHeader("X-HTTP-Session-Id"):null;kn&&(h.sa=kn,J(h.F,h.D,kn))}}c.G=3,c.j&&c.j.xa(),c.$&&(c.O=Date.now()-l.F,c.h.info("Handshake RTT: "+c.O+"ms"));var D=l;if((h=c).oa=Eo(h,h.H?h.la:null,h.W),D.J){La(h.i,D);var L=D,Z=h.K;Z&&L.setTimeout(Z),L.B&&(Co(L),Cs(L)),h.g=D}else vl(h);0<c.l.length&&_l(c)}else"stop"!=te[0]&&"close"!=te[0]||us(c,7);else 3==c.G&&("stop"==te[0]||"close"==te[0]?"stop"==te[0]?us(c,7):Qd(c):"noop"!=te[0]&&c.j&&c.j.wa(te),c.A=0)}nr(4)}catch(te){}}function ce(l,i){if(l.forEach&&"function"==typeof l.forEach)l.forEach(i,void 0);else if(ae(l)||"string"==typeof l)it(l,i,void 0);else{if(l.T&&"function"==typeof l.T)var c=l.T();else if(l.R&&"function"==typeof l.R)c=void 0;else if(ae(l)||"string"==typeof l){c=[];for(var h=l.length,g=0;g<h;g++)c.push(g)}else for(g in c=[],h=0,l)c[h++]=g;h=function Ho(l){if(l.R&&"function"==typeof l.R)return l.R();if("string"==typeof l)return l.split("");if(ae(l)){for(var i=[],c=l.length,h=0;h<c;h++)i.push(l[h]);return i}for(h in i=[],c=0,l)i[c++]=l[h];return i}(l),g=h.length;for(var y=0;y<g;y++)i.call(void 0,h[y],c&&c[y],l)}}function be(l,i){this.h={},this.g=[],this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(l)if(l instanceof be)for(c=l.T(),h=0;h<c.length;h++)this.set(c[h],l.get(c[h]));else for(h in l)this.set(h,l[h])}function re(l){if(l.i!=l.g.length){for(var i=0,c=0;i<l.g.length;){var h=l.g[i];M(l.h,h)&&(l.g[c++]=h),i++}l.g.length=c}if(l.i!=l.g.length){var g={};for(c=i=0;i<l.g.length;)M(g,h=l.g[i])||(l.g[c++]=h,g[h]=1),i++;l.g.length=c}}function M(l,i){return Object.prototype.hasOwnProperty.call(l,i)}(W=ks.prototype).setTimeout=function(l){this.P=l},W.gb=function(l){l=l.target;const i=this.L;i&&3==wo(l)?i.l():this.Ia(l)},W.Ia=function(l){try{if(l==this.g)e:{const xe=wo(this.g);var i=this.g.Da();const je=this.g.ba();if(!(3>xe)&&(3!=xe||mr||this.g&&(this.h.h||this.g.ga()||To(this.g)))){this.I||4!=xe||7==i||nr(8==i||0>=je?3:2),Co(this);var c=this.g.ba();this.N=c;t:if(Si(this)){var h=To(this.g);l="";var g=h.length,y=4==wo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){No(this),as(this);var D="";break t}this.h.i=new $.TextDecoder}for(i=0;i<g;i++)this.h.h=!0,l+=this.h.i.decode(h[i],{stream:y&&i==g-1});h.splice(0,g),this.h.g+=l,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==c,function ln(l,i,c,h,g,y,D){l.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+g+"]: "+i+"\n"+c+"\n"+y+" "+D})}(this.j,this.u,this.A,this.m,this.X,xe,c),this.i){if(this.$&&!this.J){t:{if(this.g){var L,Z=this.g;if((L=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(L)){var te=L;break t}}te=null}if(!(c=te)){this.i=!1,this.o=3,Or(12),No(this),as(this);break e}Nn(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oa(this,c)}this.U?(bs(this,xe,D),mr&&this.i&&3==xe&&(Xt(this.V,this.W,"tick",this.fb),this.W.start())):(Nn(this.j,this.m,D,null),Oa(this,D)),4==xe&&No(this),this.i&&!this.I&&(4==xe?td(this.l,this):(this.i=!1,Cs(this)))}else 400==c&&0<D.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),No(this),as(this)}}}catch(xe){}},W.fb=function(){if(this.g){var l=wo(this.g),i=this.g.ga();this.C<i.length&&(Co(this),bs(this,l,i),this.i&&4!=l&&Cs(this))}},W.cancel=function(){this.I=!0,No(this)},W.eb=function(){this.B=null;const l=Date.now();0<=l-this.Y?(function Cr(l,i){l.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(nr(3),Or(17)),No(this),this.o=2,as(this)):Fs(this,this.Y-l)},(W=be.prototype).R=function(){re(this);for(var l=[],i=0;i<this.g.length;i++)l.push(this.h[this.g[i]]);return l},W.T=function(){return re(this),this.g.concat()},W.get=function(l,i){return M(this.h,l)?this.h[l]:i},W.set=function(l,i){M(this.h,l)||(this.i++,this.g.push(l)),this.h[l]=i},W.forEach=function(l,i){for(var c=this.T(),h=0;h<c.length;h++){var g=c[h],y=this.get(g);l.call(i,y,g,this)}};var U=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function z(l,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,l instanceof z){this.g=void 0!==i?i:l.g,_e(this,l.j),this.s=l.s,fe(this,l.i),Te(this,l.m),this.l=l.l,i=l.h;var c=new Bs;c.i=i.i,i.g&&(c.g=new be(i.g),c.h=i.h),$e(this,c),this.o=l.o}else l&&(c=String(l).match(U))?(this.g=!!i,_e(this,c[1]||"",!0),this.s=Zt(c[2]||""),fe(this,c[3]||"",!0),Te(this,c[4]),this.l=Zt(c[5]||"",!0),$e(this,c[6]||"",!0),this.o=Zt(c[7]||"")):(this.g=!!i,this.h=new Bs(null,this.g))}function ue(l){return new z(l)}function _e(l,i,c){l.j=c?Zt(i,!0):i,l.j&&(l.j=l.j.replace(/:$/,""))}function fe(l,i,c){l.i=c?Zt(i,!0):i}function Te(l,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);l.m=i}else l.m=null}function $e(l,i,c){i instanceof Bs?(l.h=i,function Ra(l,i){i&&!l.j&&(xr(l),l.i=null,l.g.forEach(function(c,h){var g=h.toLowerCase();h!=g&&(sc(this,h),Kr(this,g,c))},l)),l.j=i}(l.h,l.g)):(c||(i=dn(i,Fr)),l.h=new Bs(i,l.g))}function J(l,i,c){l.h.set(i,c)}function we(l){return J(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Zt(l,i){return l?i?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function dn(l,i,c){return"string"==typeof l?(l=encodeURI(l).replace(i,sn),c&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function sn(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}z.prototype.toString=function(){var l=[],i=this.j;i&&l.push(dn(i,_n,!0),":");var c=this.i;return(c||"file"==i)&&(l.push("//"),(i=this.s)&&l.push(dn(i,_n,!0),"@"),l.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.m)&&l.push(":",String(c))),(c=this.l)&&(this.i&&"/"!=c.charAt(0)&&l.push("/"),l.push(dn(c,"/"==c.charAt(0)?zr:Kn,!0))),(c=this.h.toString())&&l.push("?",c),(c=this.o)&&l.push("#",dn(c,eo)),l.join("")};var _n=/[#\/\?@]/g,Kn=/[#\?:]/g,zr=/[#\?]/g,Fr=/[#\?@]/g,eo=/#/g;function Bs(l,i){this.h=this.g=null,this.i=l||null,this.j=!!i}function xr(l){l.g||(l.g=new be,l.h=0,l.i&&function G(l,i){if(l){l=l.split("&");for(var c=0;c<l.length;c++){var h=l[c].indexOf("="),g=null;if(0<=h){var y=l[c].substring(0,h);g=l[c].substring(h+1)}else y=l[c];i(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(l.i,function(i,c){l.add(decodeURIComponent(i.replace(/\+/g," ")),c)}))}function sc(l,i){xr(l),i=Na(l,i),M(l.g.h,i)&&(l.i=null,l.h-=l.g.get(i).length,M((l=l.g).h,i)&&(delete l.h[i],l.i--,l.g.length>2*l.i&&re(l)))}function Ma(l,i){return xr(l),i=Na(l,i),M(l.g.h,i)}function Kr(l,i,c){sc(l,i),0<c.length&&(l.i=null,l.g.set(Na(l,i),Q(c)),l.h+=c.length)}function Na(l,i){return i=String(i),l.j&&(i=i.toLowerCase()),i}function Ro(l){this.l=l||Vi,l=$.PerformanceNavigationTiming?0<(l=$.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!($.g&&$.g.Ea&&$.g.Ea()&&$.g.Ea().Zb),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(W=Bs.prototype).add=function(l,i){xr(this),this.i=null,l=Na(this,l);var c=this.g.get(l);return c||this.g.set(l,c=[]),c.push(i),this.h+=1,this},W.forEach=function(l,i){xr(this),this.g.forEach(function(c,h){it(c,function(g){l.call(i,g,h,this)},this)},this)},W.T=function(){xr(this);for(var l=this.g.R(),i=this.g.T(),c=[],h=0;h<i.length;h++)for(var g=l[h],y=0;y<g.length;y++)c.push(i[h]);return c},W.R=function(l){xr(this);var i=[];if("string"==typeof l)Ma(this,l)&&(i=oe(i,this.g.get(Na(this,l))));else{l=this.g.R();for(var c=0;c<l.length;c++)i=oe(i,l[c])}return i},W.set=function(l,i){return xr(this),this.i=null,Ma(this,l=Na(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[i]),this.h+=1,this},W.get=function(l,i){return l&&0<(l=this.R(l)).length?String(l[0]):i},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var l=[],i=this.g.T(),c=0;c<i.length;c++){var h=i[c],g=encodeURIComponent(String(h));h=this.R(h);for(var y=0;y<h.length;y++){var D=g;""!==h[y]&&(D+="="+encodeURIComponent(String(h[y]))),l.push(D)}}return this.i=l.join("&")};var Vi=10;function gl(l){return!!l.h||!!l.g&&l.g.size>=l.j}function cs(l){return l.h?1:l.g?l.g.size:0}function co(l,i){return l.h?l.h==i:!!l.g&&l.g.has(i)}function ws(l,i){l.g?l.g.add(i):l.h=i}function La(l,i){l.h&&l.h==i?l.h=null:l.g&&l.g.has(i)&&l.g.delete(i)}function ac(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let i=l.i;for(const c of l.g.values())i=i.concat(c.D);return i}return Q(l.i)}function ls(){}function Us(){this.g=new ls}function Sc(l,i,c){const h=c||"";try{ce(l,function(g,y){let D=g;Ye(g)&&(D=Rt(g)),i.push(h+y+"="+encodeURIComponent(D))})}catch(g){throw i.push(h+"type="+encodeURIComponent("_badmap")),g}}function ru(l,i,c,h,g){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,g(h)}catch(y){}}function Fa(l){this.l=l.$b||null,this.j=l.ib||!1}function ca(l,i){me.call(this),this.D=l,this.u=i,this.m=void 0,this.readyState=xc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ro.prototype.cancel=function(){if(this.i=ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}},ls.prototype.stringify=function(l){return $.JSON.stringify(l,void 0)},ls.prototype.parse=function(l){return $.JSON.parse(l,void 0)},Ue(Fa,Ot),Fa.prototype.g=function(){return new ca(this.l,this.j)},Fa.prototype.i=function(l){return function(){return l}}({}),Ue(ca,me);var xc=0;function Ba(l){l.j.read().then(l.Sa.bind(l)).catch(l.ha.bind(l))}function iu(l){l.readyState=4,l.l=null,l.j=null,l.A=null,la(l)}function la(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(W=ca.prototype).open=function(l,i){if(this.readyState!=xc)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=i,this.readyState=1,la(this)},W.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(i.body=l),(this.D||$).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iu(this)),this.readyState=xc},W.Va=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$.ReadableStream&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ba(this)}else l.text().then(this.Ua.bind(this),this.ha.bind(this))},W.Sa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var i=l.value?l.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!l.done}))&&(this.response=this.responseText+=i)}l.done?iu(this):la(this),3==this.readyState&&Ba(this)}},W.Ua=function(l){this.g&&(this.response=this.responseText=l,iu(this))},W.Ta=function(l){this.g&&(this.response=l,iu(this))},W.ha=function(){this.g&&iu(this)},W.setRequestHeader=function(l,i){this.v.append(l,i)},W.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],i=this.h.entries();for(var c=i.next();!c.done;)l.push((c=c.value)[0]+": "+c[1]),c=i.next();return l.join("\r\n")},Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var Mt=$.JSON.parse;function Vn(l){me.call(this),this.headers=new be,this.u=l||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=af,this.K=this.L=!1}Ue(Vn,me);var af="",ci=/^https?$/i,ou=["POST","PUT"];function js(l){return"content-type"==l.toLowerCase()}function Ac(l,i){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=i,l.m=5,Qu(l),ml(l)}function Qu(l){l.D||(l.D=!0,ze(l,"complete"),ze(l,"error"))}function Xu(l){if(l.h&&void 0!==Y&&(!l.C[1]||4!=wo(l)||2!=l.ba()))if(l.v&&4==wo(l))Vt(l.Fa,0,l);else if(ze(l,"readystatechange"),4==wo(l)){l.h=!1;try{const L=l.ba();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var c;if(!(c=i)){var h;if(h=0===L){var g=String(l.H).match(U)[1]||null;if(!g&&$.self&&$.self.location){var y=$.self.location.protocol;g=y.substr(0,y.length-1)}h=!ci.test(g?g.toLowerCase():"")}c=h}if(c)ze(l,"complete"),ze(l,"success");else{l.m=6;try{var D=2<wo(l)?l.g.statusText:""}catch(Z){D=""}l.j=D+" ["+l.ba()+"]",Qu(l)}}finally{ml(l)}}}function ml(l,i){if(l.g){su(l);const c=l.g,h=l.C[0]?ne:null;l.g=null,l.C=null,i||ze(l,"ready");try{c.onreadystatechange=h}catch(g){}}}function su(l){l.g&&l.K&&(l.g.ontimeout=null),l.A&&($.clearTimeout(l.A),l.A=null)}function wo(l){return l.g?l.g.readyState:0}function To(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.J){case af:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch(i){return null}}function ja(l,i,c){e:{for(h in c){var h=!1;break e}h=!0}h||(c=function ua(l){let i="";return mt(l,function(c,h){i+=h,i+=":",i+=c,i+="\r\n"}),i}(c),"string"==typeof l?null!=c&&encodeURIComponent(String(c)):J(l,i,c))}function Vs(l,i,c){return c&&c.internalChannelParams&&c.internalChannelParams[l]||i}function qo(l){this.za=0,this.l=[],this.h=new Tn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vs("failFast",!1,l),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vs("baseRetryDelayMs",5e3,l),this.$a=Vs("retryDelaySeedMs",1e4,l),this.Ya=Vs("forwardChannelMaxRetries",2,l),this.ra=Vs("forwardChannelRequestTimeoutMs",2e4,l),this.qa=l&&l.xmlHttpFactory||void 0,this.Ba=l&&l.Yb||!1,this.K=void 0,this.H=l&&l.supportsCrossDomainXhr||!1,this.J="",this.i=new Ro(l&&l.concurrentRequestLimit),this.Ca=new Us,this.ja=l&&l.fastHandshake||!1,this.Ra=l&&l.Wb||!1,l&&l.Aa&&this.h.Aa(),l&&l.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&l&&l.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!l||!1!==l.Xb}function Qd(l){if(Xd(l),3==l.G){var i=l.V++,c=ue(l.F);J(c,"SID",l.J),J(c,"RID",i),J(c,"TYPE","terminate"),ha(l,c),(i=new ks(l,l.h,i,void 0)).K=2,i.v=we(ue(c)),c=!1,$.navigator&&$.navigator.sendBeacon&&(c=$.navigator.sendBeacon(i.v.toString(),"")),!c&&$.Image&&((new Image).src=i.v,c=!0),c||(i.g=Hs(i.l,null),i.g.ea(i.v)),i.F=Date.now(),Cs(i)}cu(l)}function da(l){l.g&&(ed(l),l.g.cancel(),l.g=null)}function Xd(l){da(l),l.u&&($.clearTimeout(l.u),l.u=null),Pc(l),l.i.cancel(),l.m&&("number"==typeof l.m&&$.clearTimeout(l.m),l.m=null)}function cc(l,i){l.l.push(new class{constructor(l,i){this.h=l,this.g=i}}(l.Za++,i)),3==l.G&&_l(l)}function _l(l){gl(l.i)||l.m||(l.m=!0,tn(l.Ha,l),l.C=0)}function eh(l,i){var c;c=i?i.m:l.V++;const h=ue(l.F);J(h,"SID",l.J),J(h,"RID",c),J(h,"AID",l.U),ha(l,h),l.o&&l.s&&ja(h,l.o,l.s),c=new ks(l,l.h,c,l.C+1),null===l.o&&(c.H=l.s),i&&(l.l=i.D.concat(l.l)),i=th(l,c,1e3),c.setTimeout(Math.round(.5*l.ra)+Math.round(.5*l.ra*Math.random())),ws(l.i,c),aa(c,h,i)}function ha(l,i){l.j&&ce({},function(c,h){J(i,h,c)})}function th(l,i,c){c=Math.min(l.l.length,c);var h=l.j?De(l.j.Oa,l.j,l):null;e:{var g=l.l;let y=-1;for(;;){const D=["count="+c];-1==y?0<c?(y=g[0].h,D.push("ofs="+y)):y=0:D.push("ofs="+y);let L=!0;for(let Z=0;Z<c;Z++){let te=g[Z].h;const xe=g[Z].g;if(te-=y,0>te)y=Math.max(0,g[Z].h-100),L=!1;else try{Sc(xe,D,"req"+te+"_")}catch(je){h&&h(xe)}}if(L){h=D.join("&");break e}}}return l=l.l.splice(0,c),i.D=l,h}function vl(l){l.g||l.u||(l.Y=1,tn(l.Ga,l),l.A=0)}function Ic(l){return!(l.g||l.u||3<=l.A||(l.Y++,l.u=Me(De(l.Ga,l),Gs(l,l.A)),l.A++,0))}function ed(l){null!=l.B&&($.clearTimeout(l.B),l.B=null)}function au(l){l.g=new ks(l,l.h,"rpc",l.Y),null===l.o&&(l.g.H=l.s),l.g.O=0;var i=ue(l.oa);J(i,"RID","rpc"),J(i,"SID",l.J),J(i,"CI",l.N?"0":"1"),J(i,"AID",l.U),ha(l,i),J(i,"TYPE","xmlhttp"),l.o&&l.s&&ja(i,l.o,l.s),l.K&&l.g.setTimeout(l.K);var c=l.g;l=l.la,c.K=1,c.v=we(ue(i)),c.s=null,c.U=!0,Ls(c,l)}function Pc(l){null!=l.v&&($.clearTimeout(l.v),l.v=null)}function td(l,i){var c=null;if(l.g==i){Pc(l),ed(l),l.g=null;var h=2}else{if(!co(l.i,i))return;c=i.D,La(l.i,i),h=1}if(l.I=i.N,0!=l.G)if(i.i)if(1==h){c=i.s?i.s.length:0,i=Date.now()-i.F;var g=l.C;ze(h=bo(),new ke(h,c,i,g)),_l(l)}else vl(l);else if(3==(g=i.o)||0==g&&0<l.I||!(1==h&&function Va(l,i){return!(cs(l.i)>=l.i.j-(l.m?1:0)||(l.m?(l.l=i.D.concat(l.l),0):1==l.G||2==l.G||l.C>=(l.Xa?0:l.Ya)||(l.m=Me(De(l.Ha,l,i),Gs(l,l.C)),l.C++,0)))}(l,i)||2==h&&Ic(l)))switch(c&&0<c.length&&(i=l.i,i.i=i.i.concat(c)),g){case 1:us(l,5);break;case 4:us(l,10);break;case 3:us(l,6);break;default:us(l,2)}}function Gs(l,i){let c=l.Pa+Math.floor(Math.random()*l.$a);return l.j||(c*=2),c*i}function us(l,i){if(l.h.info("Error code "+i),2==i){var c=null;l.j&&(c=null);var h=De(l.jb,l);c||(c=new z("//www.google.com/images/cleardot.gif"),$.location&&"http"==$.location.protocol||_e(c,"https"),we(c)),function $n(l,i){const c=new Tn;if($.Image){const h=new Image;h.onload=rt(ru,c,h,"TestLoadImage: loaded",!0,i),h.onerror=rt(ru,c,h,"TestLoadImage: error",!1,i),h.onabort=rt(ru,c,h,"TestLoadImage: abort",!1,i),h.ontimeout=rt(ru,c,h,"TestLoadImage: timeout",!1,i),$.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=l}else i(!1)}(c.toString(),h)}else Or(2);l.G=0,l.j&&l.j.va(i),cu(l),Xd(l)}function cu(l){l.G=0,l.I=-1,l.j&&((0!=ac(l.i).length||0!=l.l.length)&&(l.i.i.length=0,Q(l.l),l.l.length=0),l.j.ua())}function Eo(l,i,c){let h=function Ae(l){return l instanceof z?ue(l):new z(l,void 0)}(c);if(""!=h.i)i&&fe(h,i+"."+h.i),Te(h,h.m);else{const g=$.location;h=function at(l,i,c,h){var g=new z(null,void 0);return l&&_e(g,l),i&&fe(g,i),c&&Te(g,c),h&&(g.l=h),g}(g.protocol,i?i+"."+g.hostname:g.hostname,+g.port,c)}return l.aa&&mt(l.aa,function(g,y){J(h,y,g)}),c=l.sa,(i=l.D)&&c&&J(h,i,c),J(h,"VER",l.ma),ha(l,h),h}function Hs(l,i,c){if(i&&!l.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new Vn(c&&l.Ba&&!l.qa?new Fa({ib:!0}):l.qa)).L=l.H,i}function yi(){}function lu(){if(Yn&&!(10<=Number(Qe)))throw Error("Environmental error: no available transport.")}function qs(l,i){me.call(this),this.g=new qo(i),this.l=l,this.h=i&&i.messageUrlParams||null,l=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(l?l["X-WebChannel-Content-Type"]=i.messageContentType:l={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(l?l["X-WebChannel-Client-Profile"]=i.ya:l={"X-WebChannel-Client-Profile":i.ya}),this.g.P=l,(l=i&&i.httpHeadersOverwriteParam)&&!ge(l)&&(this.g.o=l),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!ge(i)&&(this.g.D=i,null!==(l=this.h)&&i in l&&i in(l=this.h)&&delete l[i]),this.j=new du(this)}function $g(l){pr.call(this);var i=l.__sm__;if(i){e:{for(const c in i){l=c;break e}l=void 0}(this.i=l)&&(l=this.i,i=null!==i&&l in i?i[l]:void 0),this.data=i}else this.data=l}function uu(){ui.call(this),this.status=1}function du(l){this.g=l}(W=Vn.prototype).ea=function(l,i,c,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+l);i=i?i.toUpperCase():"GET",this.H=l,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ss.g(),this.C=function Jt(l){return l.h||(l.h=l.i())}(this.u?this.u:ss),this.g.onreadystatechange=De(this.Fa,this);try{this.F=!0,this.g.open(i,String(l),!0),this.F=!1}catch(y){return void Ac(this,y)}l=c||"";const g=new be(this.headers);h&&ce(h,function(y,D){g.set(D,y)}),h=function se(l){e:{var i=js;const c=l.length,h="string"==typeof l?l.split(""):l;for(let g=0;g<c;g++)if(g in h&&i.call(void 0,h[g],g,l)){i=g;break e}i=-1}return 0>i?null:"string"==typeof l?l.charAt(i):l[i]}(g.T()),c=$.FormData&&l instanceof $.FormData,!(0<=Ie(ou,i))||h||c||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(y,D){this.g.setRequestHeader(D,y)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{su(this),0<this.B&&((this.K=function Ua(l){return Yn&&function Vr(){return function vr(l){var i=Fi;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=l(9)}(function(){let l=0;const i=Pe(String(Lr)).split("."),c=Pe("9").split("."),h=Math.max(i.length,c.length);for(let D=0;0==l&&D<h;D++){var g=i[D]||"",y=c[D]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==g[0].length&&0==y[0].length)break;l=gt(0==g[1].length?0:parseInt(g[1],10),0==y[1].length?0:parseInt(y[1],10))||gt(0==g[2].length,0==y[2].length)||gt(g[2],y[2]),g=g[3],y=y[3]}while(0==l)}return 0<=l})}()&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=De(this.pa,this)):this.A=Vt(this.pa,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(y){Ac(this,y)}},W.pa=function(){void 0!==Y&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ze(this,"timeout"),this.abort(8))},W.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,ze(this,"complete"),ze(this,"abort"),ml(this))},W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ml(this,!0)),Vn.Z.M.call(this)},W.Fa=function(){this.s||(this.F||this.v||this.l?Xu(this):this.cb())},W.cb=function(){Xu(this)},W.ba=function(){try{return 2<wo(this)?this.g.status:-1}catch(l){return-1}},W.ga=function(){try{return this.g?this.g.responseText:""}catch(l){return""}},W.Qa=function(l){if(this.g){var i=this.g.responseText;return l&&0==i.indexOf(l)&&(i=i.substring(l.length)),Mt(i)}},W.Da=function(){return this.m},W.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=qo.prototype).ma=8,W.G=1,W.hb=function(l){try{this.h.info("Origin Trials invoked: "+l)}catch(i){}},W.Ha=function(l){if(this.m)if(this.m=null,1==this.G){if(!l){this.V=Math.floor(1e5*Math.random()),l=this.V++;const g=new ks(this,this.h,l,void 0);let y=this.s;if(this.P&&(y?(y=At(y),er(y,this.P)):y=this.P),null===this.o&&(g.H=y),this.ja)e:{for(var i=0,c=0;c<this.l.length;c++){var h=this.l[c];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(i+=h)){i=c;break e}if(4096===i||c===this.l.length-1){i=c+1;break e}}i=1e3}else i=1e3;i=th(this,g,i),J(c=ue(this.F),"RID",l),J(c,"CVER",22),this.D&&J(c,"X-HTTP-Session-Id",this.D),ha(this,c),this.o&&y&&ja(c,this.o,y),ws(this.i,g),this.Ra&&J(c,"TYPE","init"),this.ja?(J(c,"$req",i),J(c,"SID","null"),g.$=!0,aa(g,c,null)):aa(g,c,i),this.G=2}}else 3==this.G&&(l?eh(this,l):0==this.l.length||gl(this.i)||eh(this))},W.Ga=function(){if(this.u=null,au(this),this.$&&!(this.L||null==this.g||0>=this.O)){var l=2*this.O;this.h.info("BP detection timer enabled: "+l),this.B=Me(De(this.bb,this),l)}},W.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Or(10),da(this),au(this))},W.ab=function(){null!=this.v&&(this.v=null,da(this),Ic(this),Or(19))},W.jb=function(l){l?(this.h.info("Successfully pinged google.com"),Or(2)):(this.h.info("Failed to ping google.com"),Or(1))},(W=yi.prototype).xa=function(){},W.wa=function(){},W.va=function(){},W.ua=function(){},W.Oa=function(){},lu.prototype.g=function(l,i){return new qs(l,i)},Ue(qs,me),qs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var l=this.g,i=this.l,c=this.h||void 0;l.Wa&&(l.h.info("Origin Trials enabled."),tn(De(l.hb,l,i))),Or(0),l.W=i,l.aa=c||{},l.N=l.X,l.F=Eo(l,null,l.W),_l(l)},qs.prototype.close=function(){Qd(this.g)},qs.prototype.u=function(l){if("string"==typeof l){var i={};i.__data__=l,cc(this.g,i)}else this.v?((i={}).__data__=Rt(l),cc(this.g,i)):cc(this.g,l)},qs.prototype.M=function(){this.g.j=null,delete this.j,Qd(this.g),delete this.g,qs.Z.M.call(this)},Ue($g,pr),Ue(uu,ui),Ue(du,yi),du.prototype.xa=function(){ze(this.g,"a")},du.prototype.wa=function(l){ze(this.g,new $g(l))},du.prototype.va=function(l){ze(this.g,new uu(l))},du.prototype.ua=function(){ze(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,St.COMPLETE="complete",ar.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",me.prototype.listen=me.prototype.N,Vn.prototype.listenOnce=Vn.prototype.O,Vn.prototype.getLastError=Vn.prototype.La,Vn.prototype.getLastErrorCode=Vn.prototype.Da,Vn.prototype.getStatus=Vn.prototype.ba,Vn.prototype.getResponseJson=Vn.prototype.Qa,Vn.prototype.getResponseText=Vn.prototype.ga,Vn.prototype.send=Vn.prototype.ea;var wp=q.createWebChannelTransport=function(){return new lu},nh=q.getStatEventTarget=function(){return bo()},hu=q.ErrorCode=ot,Oc=q.EventType=St,di=q.Event=Pr,yl=q.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Kg=q.FetchXmlHttpFactory=Fa,Zs=q.WebChannel=ar,fu=q.XhrIo=Vn;const nd="@firebase/firestore";class to{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}to.UNAUTHENTICATED=new to(null),to.GOOGLE_CREDENTIALS=new to("google-credentials-uid"),to.FIRST_PARTY=new to("first-party-uid"),to.MOCK_USER=new to("mock-user");let ko="9.6.9";const fa=new R.Yd("@firebase/firestore");function bl(){return fa.logLevel}function zt(l,...i){if(fa.logLevel<=R.in.DEBUG){const c=i.map(rd);fa.debug(`Firestore (${ko}): ${l}`,...c)}}function cr(l,...i){if(fa.logLevel<=R.in.ERROR){const c=i.map(rd);fa.error(`Firestore (${ko}): ${l}`,...c)}}function xi(l,...i){if(fa.logLevel<=R.in.WARN){const c=i.map(rd);fa.warn(`Firestore (${ko}): ${l}`,...c)}}function rd(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch(c){return l}}function Rn(l="Unexpected state"){const i=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: `+l;throw cr(i),new Error(i)}function Jn(l,i){l||Rn()}function rn(l,i){return l}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends P.ZR{constructor(i,c){super(i,c),this.code=i,this.message=c,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((i,c)=>{this.resolve=i,this.reject=c})}}class _r{constructor(i,c){this.user=c,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class Qn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,c){i.enqueueRetryable(()=>c(to.UNAUTHENTICATED))}shutdown(){}}class lf{constructor(i){this.t=i,this.currentUser=to.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,c){var h=this;let g=this.i;const y=te=>this.i!==g?(g=this.i,c(te)):Promise.resolve();let D=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new Wr,i.enqueueRetryable(()=>y(this.currentUser))};const L=()=>{const te=D;i.enqueueRetryable((0,e.Z)(function*(){yield te.promise,yield y(h.currentUser)}))},Z=te=>{zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.auth.addAuthTokenListener(this.o),L()};this.t.onInit(te=>Z(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?Z(te):(zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new Wr)}},0),L()}getToken(){const i=this.i,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(h=>this.i!==i?(zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):h?(Jn("string"==typeof h.accessToken),new _r(h.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Jn(null===i||"string"==typeof i),new to(i)}}class Mc{constructor(i,c,h){this.type="FirstParty",this.user=to.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",c);const g=i.auth.getAuthHeaderValueForFirstParty([]);g&&this.headers.set("Authorization",g),h&&this.headers.set("X-Goog-Iam-Authorization-Token",h)}}class uf{constructor(i,c,h){this.h=i,this.l=c,this.m=h}getToken(){return Promise.resolve(new Mc(this.h,this.l,this.m))}start(i,c){i.enqueueRetryable(()=>c(to.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pu{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lc{constructor(i){this.g=i,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(i,c){const h=y=>{null!=y.error&&zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const D=y.token!==this.p;return this.p=y.token,zt("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?c(y.token):Promise.resolve()};this.o=y=>{i.enqueueRetryable(()=>h(y))};const g=y=>{zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.g.onInit(y=>g(y)),setTimeout(()=>{if(!this.appCheck){const y=this.g.getImmediate({optional:!0});y?g(y):zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(c=>c?(Jn("string"==typeof c.token),this.p=c.token,new pu(c.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Jr{constructor(i,c){this.previousValue=i,c&&(c.sequenceNumberHandler=h=>this.I(h),this.T=h=>c.writeSequenceNumber(h))}I(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.T&&this.T(i),i}}function ds(l){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),c=new Uint8Array(l);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(c);else for(let h=0;h<l;h++)c[h]=Math.floor(256*Math.random());return c}Jr.A=-1;class Do{static R(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=Math.floor(256/i.length)*i.length;let h="";for(;h.length<20;){const g=ds(40);for(let y=0;y<g.length;++y)h.length<20&&g[y]<c&&(h+=i.charAt(g[y]%i.length))}return h}}function wr(l,i){return l<i?-1:l>i?1:0}function Ws(l,i,c){return l.length===i.length&&l.every((h,g)=>c(h,i[g]))}class Yr{constructor(i,c){if(this.seconds=i,this.nanoseconds=c,c<0)throw new It(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(c>=1e9)throw new It(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(i<-62135596800)throw new It(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new It(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Yr.fromMillis(Date.now())}static fromDate(i){return Yr.fromMillis(i.getTime())}static fromMillis(i){const c=Math.floor(i/1e3),h=Math.floor(1e6*(i-1e3*c));return new Yr(c,h)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?wr(this.nanoseconds,i.nanoseconds):wr(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Mn(i)}static min(){return new Mn(new Yr(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function mu(l){let i=0;for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&i++;return i}function bi(l,i){for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&i(c,l[c])}function Ts(l){for(const i in l)if(Object.prototype.hasOwnProperty.call(l,i))return!1;return!0}class Ga{constructor(i,c,h){void 0===c?c=0:c>i.length&&Rn(),void 0===h?h=i.length-c:h>i.length-c&&Rn(),this.segments=i,this.offset=c,this.len=h}get length(){return this.len}isEqual(i){return 0===Ga.comparator(this,i)}child(i){const c=this.segments.slice(this.offset,this.limit());return i instanceof Ga?i.forEach(h=>{c.push(h)}):c.push(i),this.construct(c)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0}forEach(i){for(let c=this.offset,h=this.limit();c<h;c++)i(this.segments[c])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,c){const h=Math.min(i.length,c.length);for(let g=0;g<h;g++){const y=i.get(g),D=c.get(g);if(y<D)return-1;if(y>D)return 1}return i.length<c.length?-1:i.length>c.length?1:0}}class $r extends Ga{construct(i,c,h){return new $r(i,c,h)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const c=[];for(const h of i){if(h.indexOf("//")>=0)throw new It(pt.INVALID_ARGUMENT,`Invalid segment (${h}). Paths must not contain // in them.`);c.push(...h.split("/").filter(g=>g.length>0))}return new $r(c)}static emptyPath(){return new $r([])}}const _u=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gi extends Ga{construct(i,c,h){return new Gi(i,c,h)}static isValidIdentifier(i){return _u.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gi.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gi(["__name__"])}static fromServerFormat(i){const c=[];let h="",g=0;const y=()=>{if(0===h.length)throw new It(pt.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);c.push(h),h=""};let D=!1;for(;g<i.length;){const L=i[g];if("\\"===L){if(g+1===i.length)throw new It(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const Z=i[g+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new It(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);h+=Z,g+=2}else"`"===L?(D=!D,g++):"."!==L||D?(h+=L,g++):(y(),g++)}if(y(),D)throw new It(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Gi(c)}static emptyPath(){return new Gi([])}}class Zo{constructor(i){this.fields=i,i.sort(Gi.comparator)}covers(i){for(const c of this.fields)if(c.isPrefixOf(i))return!0;return!1}isEqual(i){return Ws(this.fields,i.fields,(c,h)=>c.isEqual(h))}}class _i{constructor(i){this.binaryString=i}static fromBase64String(i){const c=atob(i);return new _i(c)}static fromUint8Array(i){const c=function(h){let g="";for(let y=0;y<h.length;++y)g+=String.fromCharCode(h[y]);return g}(i);return new _i(c)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const c=new Uint8Array(i.length);for(let h=0;h<i.length;h++)c[h]=i.charCodeAt(h);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return wr(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const Nc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(l){if(Jn(!!l),"string"==typeof l){let i=0;const c=Nc.exec(l);if(Jn(!!c),c[1]){let g=c[1];g=(g+"000000000").substr(0,9),i=Number(g)}const h=new Date(l);return{seconds:Math.floor(h.getTime()/1e3),nanos:i}}return{seconds:Qr(l.seconds),nanos:Qr(l.nanos)}}function Qr(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function no(l){return"string"==typeof l?_i.fromBase64String(l):_i.fromUint8Array(l)}function vu(l){var i,c;return"server_timestamp"===(null===(c=((null===(i=null==l?void 0:l.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===c?void 0:c.stringValue)}function Cl(l){const i=l.mapValue.fields.__previous_value__;return vu(i)?Cl(i):i}function zo(l){const i=So(l.mapValue.fields.__local_write_time__.timestampValue);return new Yr(i.seconds,i.nanos)}class id{constructor(i,c,h,g,y,D,L,Z){this.databaseId=i,this.appId=c,this.persistenceKey=h,this.host=g,this.ssl=y,this.forceLongPolling=D,this.autoDetectLongPolling=L,this.useFetchStreams=Z}}class uc{constructor(i,c){this.projectId=i,this.database=c||"(default)"}static empty(){return new uc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof uc&&i.projectId===this.projectId&&i.database===this.database}}function oi(l){return null==l}function dc(l){return 0===l&&1/l==-1/0}class hn{constructor(i){this.path=i}static fromPath(i){return new hn($r.fromString(i))}static fromName(i){return new hn($r.fromString(i).popFirst(5))}static empty(){return new hn($r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===$r.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,c){return $r.comparator(i.path,c.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new hn(new $r(i.slice()))}}function hc(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?vu(l)?4:kc(l)?9:10:Rn()}function Es(l,i){if(l===i)return!0;const c=hc(l);if(c!==hc(i))return!1;switch(c){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===i.booleanValue;case 4:return zo(l).isEqual(zo(i));case 3:return function(h,g){if("string"==typeof h.timestampValue&&"string"==typeof g.timestampValue&&h.timestampValue.length===g.timestampValue.length)return h.timestampValue===g.timestampValue;const y=So(h.timestampValue),D=So(g.timestampValue);return y.seconds===D.seconds&&y.nanos===D.nanos}(l,i);case 5:return l.stringValue===i.stringValue;case 6:return g=i,no(l.bytesValue).isEqual(no(g.bytesValue));case 7:return l.referenceValue===i.referenceValue;case 8:return function(h,g){return Qr(h.geoPointValue.latitude)===Qr(g.geoPointValue.latitude)&&Qr(h.geoPointValue.longitude)===Qr(g.geoPointValue.longitude)}(l,i);case 2:return function(h,g){if("integerValue"in h&&"integerValue"in g)return Qr(h.integerValue)===Qr(g.integerValue);if("doubleValue"in h&&"doubleValue"in g){const y=Qr(h.doubleValue),D=Qr(g.doubleValue);return y===D?dc(y)===dc(D):isNaN(y)&&isNaN(D)}return!1}(l,i);case 9:return Ws(l.arrayValue.values||[],i.arrayValue.values||[],Es);case 10:return function(h,g){const y=h.mapValue.fields||{},D=g.mapValue.fields||{};if(mu(y)!==mu(D))return!1;for(const L in y)if(y.hasOwnProperty(L)&&(void 0===D[L]||!Es(y[L],D[L])))return!1;return!0}(l,i);default:return Rn()}var g}function Ds(l,i){return void 0!==(l.values||[]).find(c=>Es(c,i))}function pa(l,i){if(l===i)return 0;const c=hc(l),h=hc(i);if(c!==h)return wr(c,h);switch(c){case 0:case 9007199254740991:return 0;case 1:return wr(l.booleanValue,i.booleanValue);case 2:return function(g,y){const D=Qr(g.integerValue||g.doubleValue),L=Qr(y.integerValue||y.doubleValue);return D<L?-1:D>L?1:D===L?0:isNaN(D)?isNaN(L)?0:-1:1}(l,i);case 3:return Ai(l.timestampValue,i.timestampValue);case 4:return Ai(zo(l),zo(i));case 5:return wr(l.stringValue,i.stringValue);case 6:return function(g,y){const D=no(g),L=no(y);return D.compareTo(L)}(l.bytesValue,i.bytesValue);case 7:return function(g,y){const D=g.split("/"),L=y.split("/");for(let Z=0;Z<D.length&&Z<L.length;Z++){const te=wr(D[Z],L[Z]);if(0!==te)return te}return wr(D.length,L.length)}(l.referenceValue,i.referenceValue);case 8:return function(g,y){const D=wr(Qr(g.latitude),Qr(y.latitude));return 0!==D?D:wr(Qr(g.longitude),Qr(y.longitude))}(l.geoPointValue,i.geoPointValue);case 9:return function(g,y){const D=g.values||[],L=y.values||[];for(let Z=0;Z<D.length&&Z<L.length;++Z){const te=pa(D[Z],L[Z]);if(te)return te}return wr(D.length,L.length)}(l.arrayValue,i.arrayValue);case 10:return function(g,y){const D=g.fields||{},L=Object.keys(D),Z=y.fields||{},te=Object.keys(Z);L.sort(),te.sort();for(let xe=0;xe<L.length&&xe<te.length;++xe){const je=wr(L[xe],te[xe]);if(0!==je)return je;const ht=pa(D[L[xe]],Z[te[xe]]);if(0!==ht)return ht}return wr(L.length,te.length)}(l.mapValue,i.mapValue);default:throw Rn()}}function Ai(l,i){if("string"==typeof l&&"string"==typeof i&&l.length===i.length)return wr(l,i);const c=So(l),h=So(i),g=wr(c.seconds,h.seconds);return 0!==g?g:wr(c.nanos,h.nanos)}function Ss(l){return Rc(l)}function Rc(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(h){const g=So(h);return`time(${g.seconds},${g.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?no(l.bytesValue).toBase64():"referenceValue"in l?hn.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(i=l.geoPointValue).latitude},${i.longitude})`:"arrayValue"in l?function(h){let g="[",y=!0;for(const D of h.values||[])y?y=!1:g+=",",g+=Rc(D);return g+"]"}(l.arrayValue):"mapValue"in l?function(h){const g=Object.keys(h.fields||{}).sort();let y="{",D=!0;for(const L of g)D?D=!1:y+=",",y+=`${L}:${Rc(h.fields[L])}`;return y+"}"}(l.mapValue):Rn();var i}function lo(l){return!!l&&"integerValue"in l}function Hi(l){return!!l&&"arrayValue"in l}function $s(l){return!!l&&"nullValue"in l}function wl(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Ii(l){return!!l&&"mapValue"in l}function hs(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const i={mapValue:{fields:{}}};return bi(l.mapValue.fields,(c,h)=>i.mapValue.fields[c]=hs(h)),i}if(l.arrayValue){const i={arrayValue:{values:[]}};for(let c=0;c<(l.arrayValue.values||[]).length;++c)i.arrayValue.values[c]=hs(l.arrayValue.values[c]);return i}return Object.assign({},l)}function kc(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}class hi{constructor(i){this.value=i}static empty(){return new hi({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let c=this.value;for(let h=0;h<i.length-1;++h)if(c=(c.mapValue.fields||{})[i.get(h)],!Ii(c))return null;return c=(c.mapValue.fields||{})[i.lastSegment()],c||null}}set(i,c){this.getFieldsMap(i.popLast())[i.lastSegment()]=hs(c)}setAll(i){let c=Gi.emptyPath(),h={},g=[];i.forEach((D,L)=>{if(!c.isImmediateParentOf(L)){const Z=this.getFieldsMap(c);this.applyChanges(Z,h,g),h={},g=[],c=L.popLast()}D?h[L.lastSegment()]=hs(D):g.push(L.lastSegment())});const y=this.getFieldsMap(c);this.applyChanges(y,h,g)}delete(i){const c=this.field(i.popLast());Ii(c)&&c.mapValue.fields&&delete c.mapValue.fields[i.lastSegment()]}isEqual(i){return Es(this.value,i.value)}getFieldsMap(i){let c=this.value;c.mapValue.fields||(c.mapValue={fields:{}});for(let h=0;h<i.length;++h){let g=c.mapValue.fields[i.get(h)];Ii(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},c.mapValue.fields[i.get(h)]=g),c=g}return c.mapValue.fields}applyChanges(i,c,h){bi(c,(g,y)=>i[g]=y);for(const g of h)delete i[g]}clone(){return new hi(hs(this.value))}}function Tl(l){const i=[];return bi(l.fields,(c,h)=>{const g=new Gi([c]);if(Ii(h)){const y=Tl(h.mapValue).fields;if(0===y.length)i.push(g);else for(const D of y)i.push(g.child(D))}else i.push(g)}),new Zo(i)}class fi{constructor(i,c,h,g,y,D){this.key=i,this.documentType=c,this.version=h,this.readTime=g,this.data=y,this.documentState=D}static newInvalidDocument(i){return new fi(i,0,Mn.min(),Mn.min(),hi.empty(),0)}static newFoundDocument(i,c,h){return new fi(i,1,c,Mn.min(),h,0)}static newNoDocument(i,c){return new fi(i,2,c,Mn.min(),hi.empty(),0)}static newUnknownDocument(i,c){return new fi(i,3,c,Mn.min(),hi.empty(),2)}convertToFoundDocument(i,c){return this.version=i,this.documentType=1,this.data=c,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof fi&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new fi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class El{constructor(i,c=null,h=[],g=[],y=null,D=null,L=null){this.path=i,this.collectionGroup=c,this.orderBy=h,this.filters=g,this.limit=y,this.startAt=D,this.endAt=L,this.P=null}}function hf(l,i=null,c=[],h=[],g=null,y=null,D=null){return new El(l,i,c,h,g,y,D)}function ma(l){const i=rn(l);if(null===i.P){let c=i.path.canonicalString();null!==i.collectionGroup&&(c+="|cg:"+i.collectionGroup),c+="|f:",c+=i.filters.map(h=>{return(g=h).field.canonicalString()+g.op.toString()+Ss(g.value);var g}).join(","),c+="|ob:",c+=i.orderBy.map(h=>{return(g=h).field.canonicalString()+g.dir;var g}).join(","),oi(i.limit)||(c+="|l:",c+=i.limit),i.startAt&&(c+="|lb:",c+=i.startAt.inclusive?"b:":"a:",c+=i.startAt.position.map(h=>Ss(h)).join(",")),i.endAt&&(c+="|ub:",c+=i.endAt.inclusive?"a:":"b:",c+=i.endAt.position.map(h=>Ss(h)).join(",")),i.P=c}return i.P}function As(l,i){if(l.limit!==i.limit||l.orderBy.length!==i.orderBy.length)return!1;for(let g=0;g<l.orderBy.length;g++)if(!Gt(l.orderBy[g],i.orderBy[g]))return!1;if(l.filters.length!==i.filters.length)return!1;for(let g=0;g<l.filters.length;g++)if((c=l.filters[g]).op!==(h=i.filters[g]).op||!c.field.isEqual(h.field)||!Es(c.value,h.value))return!1;var c,h;return l.collectionGroup===i.collectionGroup&&!!l.path.isEqual(i.path)&&!!ur(l.startAt,i.startAt)&&ur(l.endAt,i.endAt)}function ro(l){return hn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}class Pi extends class{}{constructor(i,c,h){super(),this.field=i,this.op=c,this.value=h}static create(i,c,h){return i.isKeyField()?"in"===c||"not-in"===c?this.V(i,c,h):new Fc(i,c,h):"array-contains"===c?new B(i,h):"in"===c?new j(i,h):"not-in"===c?new ee(i,h):"array-contains-any"===c?new Se(i,h):new Pi(i,c,h)}static V(i,c,h){return"in"===c?new Dl(i,h):new va(i,h)}matches(i){const c=i.data.field(this.field);return"!="===this.op?null!==c&&this.v(pa(c,this.value)):null!==c&&hc(this.value)===hc(c)&&this.v(pa(c,this.value))}v(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Rn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Fc extends Pi{constructor(i,c,h){super(i,c,h),this.key=hn.fromName(h.referenceValue)}matches(i){const c=hn.comparator(i.key,this.key);return this.v(c)}}class Dl extends Pi{constructor(i,c){super(i,"in",c),this.keys=Cu(0,c)}matches(i){return this.keys.some(c=>c.isEqual(i.key))}}class va extends Pi{constructor(i,c){super(i,"not-in",c),this.keys=Cu(0,c)}matches(i){return!this.keys.some(c=>c.isEqual(i.key))}}function Cu(l,i){var c;return((null===(c=i.arrayValue)||void 0===c?void 0:c.values)||[]).map(h=>hn.fromName(h.referenceValue))}class B extends Pi{constructor(i,c){super(i,"array-contains",c)}matches(i){const c=i.data.field(this.field);return Hi(c)&&Ds(c.arrayValue,this.value)}}class j extends Pi{constructor(i,c){super(i,"in",c)}matches(i){const c=i.data.field(this.field);return null!==c&&Ds(this.value.arrayValue,c)}}class ee extends Pi{constructor(i,c){super(i,"not-in",c)}matches(i){if(Ds(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const c=i.data.field(this.field);return null!==c&&!Ds(this.value.arrayValue,c)}}class Se extends Pi{constructor(i,c){super(i,"array-contains-any",c)}matches(i){const c=i.data.field(this.field);return!(!Hi(c)||!c.arrayValue.values)&&c.arrayValue.values.some(h=>Ds(this.value.arrayValue,h))}}class Ke{constructor(i,c){this.position=i,this.inclusive=c}}class dt{constructor(i,c="asc"){this.field=i,this.dir=c}}function Gt(l,i){return l.dir===i.dir&&l.field.isEqual(i.field)}function Yt(l,i,c){let h=0;for(let g=0;g<l.position.length;g++){const y=i[g],D=l.position[g];if(h=y.field.isKeyField()?hn.comparator(hn.fromName(D.referenceValue),c.key):pa(D,c.data.field(y.field)),"desc"===y.dir&&(h*=-1),0!==h)break}return h}function ur(l,i){if(null===l)return null===i;if(null===i||l.inclusive!==i.inclusive||l.position.length!==i.position.length)return!1;for(let c=0;c<l.position.length;c++)if(!Es(l.position[c],i.position[c]))return!1;return!0}class Hn{constructor(i,c=null,h=[],g=[],y=null,D="F",L=null,Z=null){this.path=i,this.collectionGroup=c,this.explicitOrderBy=h,this.filters=g,this.limit=y,this.limitType=D,this.startAt=L,this.endAt=Z,this.D=null,this.C=null}}function zn(l){return new Hn(l)}function qi(l){return!oi(l.limit)&&"F"===l.limitType}function Oi(l){return!oi(l.limit)&&"L"===l.limitType}function ho(l){const i=rn(l);if(null===i.D){i.D=[];const c=function Is(l){for(const i of l.filters)if(i.S())return i.field;return null}(i),h=function fc(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}(i);if(null!==c&&null===h)c.isKeyField()||i.D.push(new dt(c)),i.D.push(new dt(Gi.keyField(),"asc"));else{let g=!1;for(const y of i.explicitOrderBy)i.D.push(y),y.field.isKeyField()&&(g=!0);if(!g){const y=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.D.push(new dt(Gi.keyField(),y))}}}return i.D}function ni(l){const i=rn(l);if(!i.C)if("F"===i.limitType)i.C=hf(i.path,i.collectionGroup,ho(i),i.filters,i.limit,i.startAt,i.endAt);else{const c=[];for(const y of ho(i))c.push(new dt(y.field,"desc"===y.dir?"asc":"desc"));const h=i.endAt?new Ke(i.endAt.position,!i.endAt.inclusive):null,g=i.startAt?new Ke(i.startAt.position,!i.startAt.inclusive):null;i.C=hf(i.path,i.collectionGroup,c,i.filters,i.limit,h,g)}return i.C}function wu(l,i){return As(ni(l),ni(i))&&l.limitType===i.limitType}function Sl(l){return`${ma(ni(l))}|lt:${l.limitType}`}function Bc(l){return`Query(target=${function Lc(l){let i=l.path.canonicalString();return null!==l.collectionGroup&&(i+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(i+=`, filters: [${l.filters.map(c=>{return`${(h=c).field.canonicalString()} ${h.op} ${Ss(h.value)}`;var h}).join(", ")}]`),oi(l.limit)||(i+=", limit: "+l.limit),l.orderBy.length>0&&(i+=`, orderBy: [${l.orderBy.map(c=>{return`${(h=c).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),l.startAt&&(i+=", startAt: ",i+=l.startAt.inclusive?"b:":"a:",i+=l.startAt.position.map(c=>Ss(c)).join(",")),l.endAt&&(i+=", endAt: ",i+=l.endAt.inclusive?"a:":"b:",i+=l.endAt.position.map(c=>Ss(c)).join(",")),`Target(${i})`}(ni(l))}; limitType=${l.limitType})`}function Tu(l,i){return i.isFoundDocument()&&function(c,h){const g=h.key.path;return null!==c.collectionGroup?h.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(g):hn.isDocumentKey(c.path)?c.path.isEqual(g):c.path.isImmediateParentOf(g)}(l,i)&&function(c,h){for(const g of c.explicitOrderBy)if(!g.field.isKeyField()&&null===h.data.field(g.field))return!1;return!0}(l,i)&&function(c,h){for(const g of c.filters)if(!g.matches(h))return!1;return!0}(l,i)&&(h=i,!((c=l).startAt&&!function(g,y,D){const L=Yt(g,y,D);return g.inclusive?L<=0:L<0}(c.startAt,ho(c),h)||c.endAt&&!function(g,y,D){const L=Yt(g,y,D);return g.inclusive?L>=0:L>0}(c.endAt,ho(c),h)));var c,h}function ff(l){return(i,c)=>{let h=!1;for(const g of ho(l)){const y=Eu(g,i,c);if(0!==y)return y;h=h||g.field.isKeyField()}return 0}}function Eu(l,i,c){const h=l.field.isKeyField()?hn.comparator(i.key,c.key):function(g,y,D){const L=y.data.field(g),Z=D.data.field(g);return null!==L&&null!==Z?pa(L,Z):Rn()}(l.field,i,c);switch(l.dir){case"asc":return h;case"desc":return-1*h;default:return Rn()}}function Uc(l,i){if(l.N){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(i)?"-0":i}}function jc(l){return{integerValue:""+l}}function Tp(l,i){return function oh(l){return"number"==typeof l&&Number.isInteger(l)&&!dc(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}(i)?jc(i):Uc(l,i)}class Du{constructor(){this._=void 0}}function pf(l,i,c){return l instanceof xl?function(h,g){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return g&&(y.fields.__previous_value__=g),{mapValue:y}}(c,i):l instanceof Ks?Dp(l,i):l instanceof qa?Vc(l,i):function(h,g){const y=sh(h,g),D=gf(y)+gf(h.k);return lo(y)&&lo(h.k)?jc(D):Uc(h.M,D)}(l,i)}function Ep(l,i,c){return l instanceof Ks?Dp(l,i):l instanceof qa?Vc(l,i):c}function sh(l,i){return l instanceof Ps?lo(c=i)||(h=c)&&"doubleValue"in h?i:{integerValue:0}:null;var h,c}class xl extends Du{}class Ks extends Du{constructor(i){super(),this.elements=i}}function Dp(l,i){const c=Jg(i);for(const h of l.elements)c.some(g=>Es(g,h))||c.push(h);return{arrayValue:{values:c}}}class qa extends Du{constructor(i){super(),this.elements=i}}function Vc(l,i){let c=Jg(i);for(const h of l.elements)c=c.filter(g=>!Es(g,h));return{arrayValue:{values:c}}}class Ps extends Du{constructor(i,c){super(),this.M=i,this.k=c}}function gf(l){return Qr(l.integerValue||l.doubleValue)}function Jg(l){return Hi(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class ah{constructor(i,c){this.version=i,this.transformResults=c}}class Zi{constructor(i,c){this.updateTime=i,this.exists=c}static none(){return new Zi}static exists(i){return new Zi(void 0,i)}static updateTime(i){return new Zi(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function Su(l,i){return void 0!==l.updateTime?i.isFoundDocument()&&i.version.isEqual(l.updateTime):void 0===l.exists||l.exists===i.isFoundDocument()}class cd{}function Gc(l,i,c){l instanceof ud?function(h,g,y){const D=h.value.clone(),L=vf(h.fieldTransforms,g,y.transformResults);D.setAll(L),g.convertToFoundDocument(y.version,D).setHasCommittedMutations()}(l,i,c):l instanceof ps?function(h,g,y){if(!Su(h.precondition,g))return void g.convertToUnknownDocument(y.version);const D=vf(h.fieldTransforms,g,y.transformResults),L=g.data;L.setAll(gc(h)),L.setAll(D),g.convertToFoundDocument(y.version,L).setHasCommittedMutations()}(l,i,c):i.convertToNoDocument(c.version).setHasCommittedMutations()}function Ko(l,i,c){var g;l instanceof ud?function(h,g,y){if(!Su(h.precondition,g))return;const D=h.value.clone(),L=dd(h.fieldTransforms,y,g);D.setAll(L),g.convertToFoundDocument(ld(g),D).setHasLocalMutations()}(l,i,c):l instanceof ps?function(h,g,y){if(!Su(h.precondition,g))return;const D=dd(h.fieldTransforms,y,g),L=g.data;L.setAll(gc(h)),L.setAll(D),g.convertToFoundDocument(ld(g),L).setHasLocalMutations()}(l,i,c):Su(l.precondition,g=i)&&g.convertToNoDocument(Mn.min())}function Sp(l,i){let c=null;for(const h of l.fieldTransforms){const g=i.data.field(h.field),y=sh(h.transform,g||null);null!=y&&(null==c&&(c=hi.empty()),c.set(h.field,y))}return c||null}function xp(l,i){return l.type===i.type&&!!l.key.isEqual(i.key)&&!!l.precondition.isEqual(i.precondition)&&(h=i.fieldTransforms,!!(void 0===(c=l.fieldTransforms)&&void 0===h||c&&h&&Ws(c,h,(g,y)=>function _f(l,i){return l.field.isEqual(i.field)&&(h=i.transform,(c=l.transform)instanceof Ks&&h instanceof Ks||c instanceof qa&&h instanceof qa?Ws(c.elements,h.elements,Es):c instanceof Ps&&h instanceof Ps?Es(c.k,h.k):c instanceof xl&&h instanceof xl);var c,h}(g,y))))&&(0===l.type?l.value.isEqual(i.value):1!==l.type||l.data.isEqual(i.data)&&l.fieldMask.isEqual(i.fieldMask));var c,h}function ld(l){return l.isFoundDocument()?l.version:Mn.min()}class ud extends cd{constructor(i,c,h,g=[]){super(),this.key=i,this.value=c,this.precondition=h,this.fieldTransforms=g,this.type=0}}class ps extends cd{constructor(i,c,h,g,y=[]){super(),this.key=i,this.data=c,this.fieldMask=h,this.precondition=g,this.fieldTransforms=y,this.type=1}}function gc(l){const i=new Map;return l.fieldMask.fields.forEach(c=>{if(!c.isEmpty()){const h=l.data.field(c);i.set(c,h)}}),i}function vf(l,i,c){const h=new Map;Jn(l.length===c.length);for(let g=0;g<c.length;g++){const y=l[g],D=y.transform,L=i.data.field(y.field);h.set(y.field,Ep(D,L,c[g]))}return h}function dd(l,i,c){const h=new Map;for(const g of l){const y=g.transform,D=c.data.field(g.field);h.set(g.field,pf(y,D,i))}return h}class ch extends cd{constructor(i,c){super(),this.key=i,this.precondition=c,this.type=2,this.fieldTransforms=[]}}class lh extends cd{constructor(i,c){super(),this.key=i,this.precondition=c,this.type=3,this.fieldTransforms=[]}}class Yg{constructor(i){this.count=i}}var zi,Rr;function yf(l){switch(l){default:return Rn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function hd(l){if(void 0===l)return cr("GRPC error has no .code"),pt.UNKNOWN;switch(l){case zi.OK:return pt.OK;case zi.CANCELLED:return pt.CANCELLED;case zi.UNKNOWN:return pt.UNKNOWN;case zi.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case zi.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case zi.INTERNAL:return pt.INTERNAL;case zi.UNAVAILABLE:return pt.UNAVAILABLE;case zi.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case zi.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case zi.NOT_FOUND:return pt.NOT_FOUND;case zi.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case zi.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case zi.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case zi.ABORTED:return pt.ABORTED;case zi.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case zi.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case zi.DATA_LOSS:return pt.DATA_LOSS;default:return Rn()}}(Rr=zi||(zi={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";class Hc{constructor(i,c){this.mapKeyFn=i,this.equalsFn=c,this.inner={},this.innerSize=0}get(i){const c=this.mapKeyFn(i),h=this.inner[c];if(void 0!==h)for(const[g,y]of h)if(this.equalsFn(g,i))return y}has(i){return void 0!==this.get(i)}set(i,c){const h=this.mapKeyFn(i),g=this.inner[h];if(void 0===g)return this.inner[h]=[[i,c]],void this.innerSize++;for(let y=0;y<g.length;y++)if(this.equalsFn(g[y][0],i))return void(g[y]=[i,c]);g.push([i,c]),this.innerSize++}delete(i){const c=this.mapKeyFn(i),h=this.inner[c];if(void 0===h)return!1;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],i))return 1===h.length?delete this.inner[c]:h.splice(g,1),this.innerSize--,!0;return!1}forEach(i){bi(this.inner,(c,h)=>{for(const[g,y]of h)i(g,y)})}isEmpty(){return Ts(this.inner)}size(){return this.innerSize}}class Mi{constructor(i,c){this.comparator=i,this.root=c||xo.EMPTY}insert(i,c){return new Mi(this.comparator,this.root.insert(i,c,this.comparator).copy(null,null,xo.BLACK,null,null))}remove(i){return new Mi(this.comparator,this.root.remove(i,this.comparator).copy(null,null,xo.BLACK,null,null))}get(i){let c=this.root;for(;!c.isEmpty();){const h=this.comparator(i,c.key);if(0===h)return c.value;h<0?c=c.left:h>0&&(c=c.right)}return null}indexOf(i){let c=0,h=this.root;for(;!h.isEmpty();){const g=this.comparator(i,h.key);if(0===g)return c+h.left.size;g<0?h=h.left:(c+=h.left.size+1,h=h.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((c,h)=>(i(c,h),!1))}toString(){const i=[];return this.inorderTraversal((c,h)=>(i.push(`${c}:${h}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new bf(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new bf(this.root,i,this.comparator,!1)}getReverseIterator(){return new bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new bf(this.root,i,this.comparator,!0)}}class bf{constructor(i,c,h,g){this.isReverse=g,this.nodeStack=[];let y=1;for(;!i.isEmpty();)if(y=c?h(i.key,c):1,c&&g&&(y*=-1),y<0)i=this.isReverse?i.left:i.right;else{if(0===y){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const c={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return c}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class xo{constructor(i,c,h,g,y){this.key=i,this.value=c,this.color=null!=h?h:xo.RED,this.left=null!=g?g:xo.EMPTY,this.right=null!=y?y:xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,c,h,g,y){return new xo(null!=i?i:this.key,null!=c?c:this.value,null!=h?h:this.color,null!=g?g:this.left,null!=y?y:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,c,h){let g=this;const y=h(i,g.key);return g=y<0?g.copy(null,null,null,g.left.insert(i,c,h),null):0===y?g.copy(null,c,null,null,null):g.copy(null,null,null,null,g.right.insert(i,c,h)),g.fixUp()}removeMin(){if(this.left.isEmpty())return xo.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,c){let h,g=this;if(c(i,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(i,c),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===c(i,g.key)){if(g.right.isEmpty())return xo.EMPTY;h=g.right.min(),g=g.copy(h.key,h.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(i,c))}return g.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,c)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rn();const i=this.left.check();if(i!==this.right.check())throw Rn();return i+(this.isRed()?0:1)}}xo.EMPTY=null,xo.RED=!0,xo.BLACK=!1,xo.EMPTY=new class{constructor(){this.size=0}get key(){throw Rn()}get value(){throw Rn()}get color(){throw Rn()}get left(){throw Rn()}get right(){throw Rn()}copy(l,i,c,h,g){return this}insert(l,i,c){return new xo(l,i)}remove(l,i){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ri{constructor(i){this.comparator=i,this.data=new Mi(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((c,h)=>(i(c),!1))}forEachInRange(i,c){const h=this.data.getIteratorFrom(i[0]);for(;h.hasNext();){const g=h.getNext();if(this.comparator(g.key,i[1])>=0)return;c(g.key)}}forEachWhile(i,c){let h;for(h=void 0!==c?this.data.getIteratorFrom(c):this.data.getIterator();h.hasNext();)if(!i(h.getNext().key))return}firstAfterOrEqual(i){const c=this.data.getIteratorFrom(i);return c.hasNext()?c.getNext().key:null}getIterator(){return new fd(this.data.getIterator())}getIteratorFrom(i){return new fd(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let c=this;return c.size<i.size&&(c=i,i=this),i.forEach(h=>{c=c.add(h)}),c}isEqual(i){if(!(i instanceof ri)||this.size!==i.size)return!1;const c=this.data.getIterator(),h=i.data.getIterator();for(;c.hasNext();){const g=c.getNext().key,y=h.getNext().key;if(0!==this.comparator(g,y))return!1}return!0}toArray(){const i=[];return this.forEach(c=>{i.push(c)}),i}toString(){const i=[];return this.forEach(c=>i.push(c)),"SortedSet("+i.toString()+")"}copy(i){const c=new ri(this.comparator);return c.data=i,c}}class fd{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const uh=new Mi(hn.comparator);function Jo(){return uh}const Ap=new Mi(hn.comparator);function qc(){return Ap}function pd(){return new Hc(l=>l.toString(),(l,i)=>l.isEqual(i))}const vv=new Mi(hn.comparator),Qg=new ri(hn.comparator);function Xr(...l){let i=Qg;for(const c of l)i=i.add(c);return i}const Xg=new ri(wr);function Al(){return Xg}class gd{constructor(i,c,h,g,y){this.snapshotVersion=i,this.targetChanges=c,this.targetMismatches=h,this.documentUpdates=g,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(i,c){const h=new Map;return h.set(i,dh.createSynthesizedTargetChangeForCurrentChange(i,c)),new gd(Mn.min(),h,Al(),Jo(),Xr())}}class dh{constructor(i,c,h,g,y){this.resumeToken=i,this.current=c,this.addedDocuments=h,this.modifiedDocuments=g,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(i,c){return new dh(_i.EMPTY_BYTE_STRING,c,Xr(),Xr(),Xr())}}class hh{constructor(i,c,h,g){this.O=i,this.removedTargetIds=c,this.key=h,this.$=g}}class Ip{constructor(i,c){this.targetId=i,this.F=c}}class Il{constructor(i,c,h=_i.EMPTY_BYTE_STRING,g=null){this.state=i,this.targetIds=c,this.resumeToken=h,this.cause=g}}class em{constructor(){this.B=0,this.L=md(),this.q=_i.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(i){i.approximateByteSize()>0&&(this.K=!0,this.q=i)}H(){let i=Xr(),c=Xr(),h=Xr();return this.L.forEach((g,y)=>{switch(y){case 0:i=i.add(g);break;case 2:c=c.add(g);break;case 1:h=h.add(g);break;default:Rn()}}),new dh(this.q,this.U,i,c,h)}J(){this.K=!1,this.L=md()}Y(i,c){this.K=!0,this.L=this.L.insert(i,c)}X(i){this.K=!0,this.L=this.L.remove(i)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class tm{constructor(i){this.nt=i,this.st=new Map,this.it=Jo(),this.rt=Pp(),this.ot=new ri(wr)}at(i){for(const c of i.O)i.$&&i.$.isFoundDocument()?this.ut(c,i.$):this.ct(c,i.key,i.$);for(const c of i.removedTargetIds)this.ct(c,i.key,i.$)}ht(i){this.forEachTarget(i,c=>{const h=this.lt(c);switch(i.state){case 0:this.ft(c)&&h.W(i.resumeToken);break;case 1:h.tt(),h.G||h.J(),h.W(i.resumeToken);break;case 2:h.tt(),h.G||this.removeTarget(c);break;case 3:this.ft(c)&&(h.et(),h.W(i.resumeToken));break;case 4:this.ft(c)&&(this.dt(c),h.W(i.resumeToken));break;default:Rn()}})}forEachTarget(i,c){i.targetIds.length>0?i.targetIds.forEach(c):this.st.forEach((h,g)=>{this.ft(g)&&c(g)})}_t(i){const c=i.targetId,h=i.F.count,g=this.wt(c);if(g){const y=g.target;if(ro(y))if(0===h){const D=new hn(y.path);this.ct(c,D,fi.newNoDocument(D,Mn.min()))}else Jn(1===h);else this.gt(c)!==h&&(this.dt(c),this.ot=this.ot.add(c))}}yt(i){const c=new Map;this.st.forEach((y,D)=>{const L=this.wt(D);if(L){if(y.current&&ro(L.target)){const Z=new hn(L.target.path);null!==this.it.get(Z)||this.It(D,Z)||this.ct(D,Z,fi.newNoDocument(Z,i))}y.j&&(c.set(D,y.H()),y.J())}});let h=Xr();this.rt.forEach((y,D)=>{let L=!0;D.forEachWhile(Z=>{const te=this.wt(Z);return!te||2===te.purpose||(L=!1,!1)}),L&&(h=h.add(y))}),this.it.forEach((y,D)=>D.setReadTime(i));const g=new gd(i,c,this.ot,this.it,h);return this.it=Jo(),this.rt=Pp(),this.ot=new ri(wr),g}ut(i,c){if(!this.ft(i))return;const h=this.It(i,c.key)?2:0;this.lt(i).Y(c.key,h),this.it=this.it.insert(c.key,c),this.rt=this.rt.insert(c.key,this.Tt(c.key).add(i))}ct(i,c,h){if(!this.ft(i))return;const g=this.lt(i);this.It(i,c)?g.Y(c,1):g.X(c),this.rt=this.rt.insert(c,this.Tt(c).delete(i)),h&&(this.it=this.it.insert(c,h))}removeTarget(i){this.st.delete(i)}gt(i){const c=this.lt(i).H();return this.nt.getRemoteKeysForTarget(i).size+c.addedDocuments.size-c.removedDocuments.size}Z(i){this.lt(i).Z()}lt(i){let c=this.st.get(i);return c||(c=new em,this.st.set(i,c)),c}Tt(i){let c=this.rt.get(i);return c||(c=new ri(wr),this.rt=this.rt.insert(i,c)),c}ft(i){const c=null!==this.wt(i);return c||zt("WatchChangeAggregator","Detected inactive target",i),c}wt(i){const c=this.st.get(i);return c&&c.G?null:this.nt.Et(i)}dt(i){this.st.set(i,new em),this.nt.getRemoteKeysForTarget(i).forEach(c=>{this.ct(i,c,null)})}It(i,c){return this.nt.getRemoteKeysForTarget(i).has(c)}}function Pp(){return new Mi(hn.comparator)}function md(){return new Mi(hn.comparator)}const nm={asc:"ASCENDING",desc:"DESCENDING"},Op={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Mp{constructor(i,c){this.databaseId=i,this.N=c}}function Ci(l,i){return l.N?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function Np(l,i){return l.N?i.toBase64():i.toUint8Array()}function rm(l,i){return Ci(l,i.toTimestamp())}function fo(l){return Jn(!!l),Mn.fromTimestamp(function(i){const c=So(i);return new Yr(c.seconds,c.nanos)}(l))}function fh(l,i){return(c=l,new $r(["projects",c.projectId,"databases",c.database])).child("documents").child(i).canonicalString();var c}function im(l){const i=$r.fromString(l);return Jn(gh(i)),i}function Pl(l,i){return fh(l.databaseId,i.path)}function mc(l,i){const c=im(i);if(c.get(1)!==l.databaseId.projectId)throw new It(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+c.get(1)+" vs "+l.databaseId.projectId);if(c.get(3)!==l.databaseId.database)throw new It(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+c.get(3)+" vs "+l.databaseId.database);return new hn(yv(c))}function Cf(l,i){return fh(l.databaseId,i)}function Rp(l){return new $r(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function yv(l){return Jn(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function _d(l,i,c){return{name:Pl(l,i),fields:c.value.mapValue.fields}}function Tf(l,i){return{documents:[Cf(l,i.path)]}}function Za(l,i){const c={structuredQuery:{}},h=i.path;null!==i.collectionGroup?(c.parent=Cf(l,h),c.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(c.parent=Cf(l,h.popLast()),c.structuredQuery.from=[{collectionId:h.lastSegment()}]);const g=function(Z){if(0===Z.length)return;const te=Z.map(xe=>function(je){if("=="===je.op){if(wl(je.value))return{unaryFilter:{field:xu(je.field),op:"IS_NAN"}};if($s(je.value))return{unaryFilter:{field:xu(je.field),op:"IS_NULL"}}}else if("!="===je.op){if(wl(je.value))return{unaryFilter:{field:xu(je.field),op:"IS_NOT_NAN"}};if($s(je.value))return{unaryFilter:{field:xu(je.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(je.field),op:vd(je.op),value:je.value}}}(xe));return 1===te.length?te[0]:{compositeFilter:{op:"AND",filters:te}}}(i.filters);g&&(c.structuredQuery.where=g);const y=function(Z){if(0!==Z.length)return Z.map(te=>{return{field:xu((xe=te).field),direction:po(xe.dir)};var xe})}(i.orderBy);y&&(c.structuredQuery.orderBy=y);const D=(te=i.limit,l.N||oi(te)?te:{value:te});var te,L,Z;return null!==D&&(c.structuredQuery.limit=D),i.startAt&&(c.structuredQuery.startAt={before:(L=i.startAt).inclusive,values:L.position}),i.endAt&&(c.structuredQuery.endAt={before:!(Z=i.endAt).inclusive,values:Z.position}),c}function Ni(l){let i=function B_(l){const i=im(l);return 4===i.length?$r.emptyPath():yv(i)}(l.parent);const c=l.structuredQuery,h=c.from?c.from.length:0;let g=null;if(h>0){Jn(1===h);const xe=c.from[0];xe.allDescendants?g=xe.collectionId:i=i.child(xe.collectionId)}let y=[];c.where&&(y=si(c.where));let D=[];c.orderBy&&(D=c.orderBy.map(xe=>{return new dt(Ol((je=xe).field),function(ht){switch(ht){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(je.direction));var je}));let L=null;c.limit&&(L=function(xe){let je;return je="object"==typeof xe?xe.value:xe,oi(je)?null:je}(c.limit));let Z=null;var xe;c.startAt&&(Z=new Ke((xe=c.startAt).values||[],!!xe.before));let te=null;return c.endAt&&(te=function(xe){return new Ke(xe.values||[],!xe.before)}(c.endAt)),function Nr(l,i,c,h,g,y,D,L){return new Hn(l,i,c,h,g,y,D,L)}(i,g,D,y,L,"F",Z,te)}function si(l){return l?void 0!==l.unaryFilter?[Ef(l)]:void 0!==l.fieldFilter?[j_(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(i=>si(i)).reduce((i,c)=>i.concat(c)):Rn():[]}function po(l){return nm[l]}function vd(l){return Op[l]}function xu(l){return{fieldPath:l.canonicalString()}}function Ol(l){return Gi.fromServerFormat(l.fieldPath)}function j_(l){return Pi.create(Ol(l.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rn()}}(l.fieldFilter.op),l.fieldFilter.value)}function Ef(l){switch(l.unaryFilter.op){case"IS_NAN":const i=Ol(l.unaryFilter.field);return Pi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=Ol(l.unaryFilter.field);return Pi.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ol(l.unaryFilter.field);return Pi.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Ol(l.unaryFilter.field);return Pi.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Rn()}}function ya(l){const i=[];return l.fields.forEach(c=>i.push(c.canonicalString())),{fieldPaths:i}}function gh(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}const Fp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _t{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(c=>{this.isDone=!0,this.result=c,this.nextCallback&&this.nextCallback(c)},c=>{this.isDone=!0,this.error=c,this.catchCallback&&this.catchCallback(c)})}catch(i){return this.next(void 0,i)}next(i,c){return this.callbackAttached&&Rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(i,this.result):new _t((h,g)=>{this.nextCallback=y=>{this.wrapSuccess(i,y).next(h,g)},this.catchCallback=y=>{this.wrapFailure(c,y).next(h,g)}})}toPromise(){return new Promise((i,c)=>{this.next(i,c)})}wrapUserFunction(i){try{const c=i();return c instanceof _t?c:_t.resolve(c)}catch(c){return _t.reject(c)}}wrapSuccess(i,c){return i?this.wrapUserFunction(()=>i(c)):_t.resolve(c)}wrapFailure(i,c){return i?this.wrapUserFunction(()=>i(c)):_t.reject(c)}static resolve(i){return new _t((c,h)=>{c(i)})}static reject(i){return new _t((c,h)=>{h(i)})}static waitFor(i){return new _t((c,h)=>{let g=0,y=0,D=!1;i.forEach(L=>{++g,L.next(()=>{++y,D&&y===g&&c()},Z=>h(Z))}),D=!0,y===g&&c()})}static or(i){let c=_t.resolve(!1);for(const h of i)c=c.next(g=>g?_t.resolve(g):h());return c}static forEach(i,c){const h=[];return i.forEach((g,y)=>{h.push(c.call(this,g,y))}),this.waitFor(h)}}function ms(l){return"IndexedDbTransactionError"===l.name}class yd{constructor(i,c,h,g){this.batchId=i,this.localWriteTime=c,this.baseMutations=h,this.mutations=g}applyToRemoteDocument(i,c){const h=c.mutationResults;for(let g=0;g<this.mutations.length;g++){const y=this.mutations[g];y.key.isEqual(i.key)&&Gc(y,i,h[g])}}applyToLocalView(i){for(const c of this.baseMutations)c.key.isEqual(i.key)&&Ko(c,i,this.localWriteTime);for(const c of this.mutations)c.key.isEqual(i.key)&&Ko(c,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(c=>{const h=i.get(c.key),g=h;this.applyToLocalView(g),h.isValidDocument()||g.convertToNoDocument(Mn.min())})}keys(){return this.mutations.reduce((i,c)=>i.add(c.key),Xr())}isEqual(i){return this.batchId===i.batchId&&Ws(this.mutations,i.mutations,(c,h)=>xp(c,h))&&Ws(this.baseMutations,i.baseMutations,(c,h)=>xp(c,h))}}class bd{constructor(i,c,h,g){this.batch=i,this.commitVersion=c,this.mutationResults=h,this.docVersions=g}static from(i,c,h){Jn(i.mutations.length===h.length);let g=vv;const y=i.mutations;for(let D=0;D<y.length;D++)g=g.insert(y[D].key,h[D].version);return new bd(i,c,h,g)}}class Ch{constructor(i,c){this.largestBatchId=i,this.mutation=c}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _c{constructor(i,c,h,g,y=Mn.min(),D=Mn.min(),L=_i.EMPTY_BYTE_STRING){this.target=i,this.targetId=c,this.purpose=h,this.sequenceNumber=g,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=L}withSequenceNumber(i){return new _c(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,c){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,c,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class am{constructor(i){this.Jt=i}}function Bp(l){const i=Ni({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?function pc(l,i,c){return new Hn(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),i,c,l.startAt,l.endAt)}(i,i.limit,"L"):i}class Ao{constructor(){}Zt(i,c){this.te(i,c),c.ee()}te(i,c){if("nullValue"in i)this.ne(c,5);else if("booleanValue"in i)this.ne(c,10),c.se(i.booleanValue?1:0);else if("integerValue"in i)this.ne(c,15),c.se(Qr(i.integerValue));else if("doubleValue"in i){const h=Qr(i.doubleValue);isNaN(h)?this.ne(c,13):(this.ne(c,15),dc(h)?c.se(0):c.se(h))}else if("timestampValue"in i){const h=i.timestampValue;this.ne(c,20),"string"==typeof h?c.ie(h):(c.ie(`${h.seconds||""}`),c.se(h.nanos||0))}else if("stringValue"in i)this.re(i.stringValue,c),this.oe(c);else if("bytesValue"in i)this.ne(c,30),c.ae(no(i.bytesValue)),this.oe(c);else if("referenceValue"in i)this.ue(i.referenceValue,c);else if("geoPointValue"in i){const h=i.geoPointValue;this.ne(c,45),c.se(h.latitude||0),c.se(h.longitude||0)}else"mapValue"in i?kc(i)?this.ne(c,Number.MAX_SAFE_INTEGER):(this.ce(i.mapValue,c),this.oe(c)):"arrayValue"in i?(this.he(i.arrayValue,c),this.oe(c)):Rn()}re(i,c){this.ne(c,25),this.le(i,c)}le(i,c){c.ie(i)}ce(i,c){const h=i.fields||{};this.ne(c,55);for(const g of Object.keys(h))this.re(g,c),this.te(h[g],c)}he(i,c){const h=i.values||[];this.ne(c,50);for(const g of h)this.te(g,c)}ue(i,c){this.ne(c,37),hn.fromName(i).path.forEach(h=>{this.ne(c,60),this.le(h,c)})}ne(i,c){i.se(c)}oe(i){i.se(2)}}Ao.fe=new Ao;class Nl{constructor(){this.Ue=new Dr}addToCollectionParentIndex(i,c){return this.Ue.add(c),_t.resolve()}getCollectionParents(i,c){return _t.resolve(this.Ue.getEntries(c))}addFieldIndex(i,c){return _t.resolve()}deleteFieldIndex(i,c){return _t.resolve()}getDocumentsMatchingTarget(i,c){return _t.resolve(null)}getFieldIndex(i,c){return _t.resolve(null)}getFieldIndexes(i,c){return _t.resolve([])}getNextCollectionGroupToUpdate(i){return _t.resolve(null)}updateCollectionGroup(i,c,h){return _t.resolve()}updateIndexEntries(i,c){return _t.resolve()}}class Dr{constructor(){this.index={}}add(i){const c=i.lastSegment(),h=i.popLast(),g=this.index[c]||new ri($r.comparator),y=!g.has(h);return this.index[c]=g.add(h),y}has(i){const c=i.lastSegment(),h=i.popLast(),g=this.index[c];return g&&g.has(h)}getEntries(i){return(this.index[i]||new ri($r.comparator)).toArray()}}new Uint8Array(0);class Fo{constructor(i,c,h){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=c,this.maximumSequenceNumbersToCollect=h}static withCacheSize(i){return new Fo(i,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fo.DEFAULT_COLLECTION_PERCENTILE=10,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fo.DEFAULT=new Fo(41943040,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fo.DISABLED=new Fo(-1,0,0);class Rl{constructor(i){this.wn=i}next(){return this.wn+=2,this.wn}static mn(){return new Rl(0)}static gn(){return new Rl(-1)}}function Ou(l){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,e.Z)(function*(l){if(l.code!==pt.FAILED_PRECONDITION||l.message!==Fp)throw l;zt("LocalStore","Unexpectedly lost primary lease")}),Rf.apply(this,arguments)}class Ad{constructor(i,c,h){this.ls=i,this.Fs=c,this.indexManager=h}Bs(i,c){return this.Fs.getAllMutationBatchesAffectingDocumentKey(i,c).next(h=>this.Ls(i,c,h))}Ls(i,c,h){return this.ls.getEntry(i,c).next(g=>{for(const y of h)y.applyToLocalView(g);return g})}qs(i,c){i.forEach((h,g)=>{for(const y of c)y.applyToLocalView(g)})}Us(i,c){return this.ls.getEntries(i,c).next(h=>this.Ks(i,h).next(()=>h))}Ks(i,c){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(i,c).next(h=>this.qs(c,h))}Gs(i,c,h){return hn.isDocumentKey((g=c).path)&&null===g.collectionGroup&&0===g.filters.length?this.Qs(i,c.path):function uo(l){return null!==l.collectionGroup}(c)?this.js(i,c,h):this.Ws(i,c,h);var g}Qs(i,c){return this.Bs(i,new hn(c)).next(h=>{let g=qc();return h.isFoundDocument()&&(g=g.insert(h.key,h)),g})}js(i,c,h){const g=c.collectionGroup;let y=qc();return this.indexManager.getCollectionParents(i,g).next(D=>_t.forEach(D,L=>{const Z=(te=c,xe=L.child(g),new Hn(xe,null,te.explicitOrderBy.slice(),te.filters.slice(),te.limit,te.limitType,te.startAt,te.endAt));var te,xe;return this.Ws(i,Z,h).next(te=>{te.forEach((xe,je)=>{y=y.insert(xe,je)})})}).next(()=>y))}Ws(i,c,h){let g;return this.ls.getAll(i,c.path,h).next(y=>(g=y,this.Fs.getAllMutationBatchesAffectingQuery(i,c))).next(y=>{for(const D of y)for(const L of D.mutations){const Z=L.key;let te=g.get(Z);null==te&&(te=fi.newInvalidDocument(Z),g=g.insert(Z,te)),Ko(L,te,D.localWriteTime),te.isFoundDocument()||(g=g.remove(Z))}}).next(()=>(g.forEach((y,D)=>{Tu(c,D)||(g=g.remove(y))}),g))}}class Ya{constructor(i,c,h,g){this.targetId=i,this.fromCache=c,this.zs=h,this.Hs=g}static Js(i,c){let h=Xr(),g=Xr();for(const y of c.docChanges)switch(y.type){case 0:h=h.add(y.doc.key);break;case 1:g=g.add(y.doc.key)}return new Ya(i,c.fromCache,h,g)}}class Mu{Ys(i){this.Xs=i}Gs(i,c,h,g){return 0===(y=c).filters.length&&null===y.limit&&null==y.startAt&&null==y.endAt&&(0===y.explicitOrderBy.length||1===y.explicitOrderBy.length&&y.explicitOrderBy[0].field.isKeyField())||h.isEqual(Mn.min())?this.Zs(i,c):this.Xs.Us(i,g).next(y=>{const D=this.ti(c,y);return(qi(c)||Oi(c))&&this.ei(c.limitType,D,g,h)?this.Zs(i,c):(bl()<=R.in.DEBUG&&zt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Bc(c)),this.Xs.Gs(i,c,h).next(L=>(D.forEach(Z=>{L=L.insert(Z.key,Z)}),L)))});var y}ti(i,c){let h=new ri(ff(i));return c.forEach((g,y)=>{Tu(i,y)&&(h=h.add(y))}),h}ei(i,c,h,g){if(h.size!==c.size)return!0;const y="F"===i?c.last():c.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(g)>0)}Zs(i,c){return bl()<=R.in.DEBUG&&zt("QueryEngine","Using full collection scan to execute query:",Bc(c)),this.Xs.Gs(i,c,Mn.min())}}class Sh{constructor(i,c,h,g){this.persistence=i,this.ni=c,this.M=g,this.si=new Mi(wr),this.ii=new Hc(y=>ma(y),As),this.ri=Mn.min(),this.oi=i.getRemoteDocumentCache(),this.hs=i.getTargetCache(),this.fs=i.getBundleCache(),this.ai(h)}ai(i){this.indexManager=this.persistence.getIndexManager(i),this.Fs=this.persistence.getMutationQueue(i,this.indexManager),this.ui=new Ad(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",c=>i.collect(c,this.si))}}function kl(l,i){return el.apply(this,arguments)}function el(){return el=(0,e.Z)(function*(l,i){const c=rn(l);return yield c.persistence.runTransaction("Handle user change","readonly",h=>{let g;return c.Fs.getAllMutationBatches(h).next(y=>(g=y,c.ai(i),c.Fs.getAllMutationBatches(h))).next(y=>{const D=[],L=[];let Z=Xr();for(const te of g){D.push(te.batchId);for(const xe of te.mutations)Z=Z.add(xe.key)}for(const te of y){L.push(te.batchId);for(const xe of te.mutations)Z=Z.add(xe.key)}return c.ui.Us(h,Z).next(te=>({ci:te,removedBatchIds:D,addedBatchIds:L}))})})}),el.apply(this,arguments)}function kf(l,i){const c=rn(l);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",h=>{const g=i.batch.keys(),y=c.oi.newChangeBuffer({trackRemovals:!0});return function(D,L,Z,te){const xe=Z.batch,je=xe.keys();let ht=_t.resolve();return je.forEach(xt=>{ht=ht.next(()=>te.getEntry(L,xt)).next(Bt=>{const kn=Z.docVersions.get(xt);Jn(null!==kn),Bt.version.compareTo(kn)<0&&(xe.applyToRemoteDocument(Bt,Z),Bt.isValidDocument()&&(Bt.setReadTime(Z.commitVersion),te.addEntry(Bt)))})}),ht.next(()=>D.Fs.removeMutationBatch(L,xe))}(c,h,i,y).next(()=>y.apply(h)).next(()=>c.Fs.performConsistencyCheck(h)).next(()=>c.ui.Us(h,g))})}function Id(l){const i=rn(l);return i.persistence.runTransaction("Get last remote snapshot version","readonly",c=>i.hs.getLastRemoteSnapshotVersion(c))}function Lf(l,i){const c=rn(l),h=i.snapshotVersion;let g=c.si;return c.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const D=c.oi.newChangeBuffer({trackRemovals:!0});g=c.si;const L=[];i.targetChanges.forEach((te,xe)=>{const je=g.get(xe);if(!je)return;L.push(c.hs.removeMatchingKeys(y,te.removedDocuments,xe).next(()=>c.hs.addMatchingKeys(y,te.addedDocuments,xe)));let ht=je.withSequenceNumber(y.currentSequenceNumber);var xt,Bt,kn;i.targetMismatches.has(xe)?ht=ht.withResumeToken(_i.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):te.resumeToken.approximateByteSize()>0&&(ht=ht.withResumeToken(te.resumeToken,h)),g=g.insert(xe,ht),Bt=ht,kn=te,(0===(xt=je).resumeToken.approximateByteSize()||Bt.snapshotVersion.toMicroseconds()-xt.snapshotVersion.toMicroseconds()>=3e8||kn.addedDocuments.size+kn.modifiedDocuments.size+kn.removedDocuments.size>0)&&L.push(c.hs.updateTargetData(y,ht))});let Z=Jo();if(i.documentUpdates.forEach(te=>{i.resolvedLimboDocuments.has(te)&&L.push(c.persistence.referenceDelegate.updateLimboDocument(y,te))}),L.push(function bv(l,i,c){let h=Xr();return c.forEach(g=>h=h.add(g)),i.getEntries(l,h).next(g=>{let y=Jo();return c.forEach((D,L)=>{const Z=g.get(D);L.isNoDocument()&&L.version.isEqual(Mn.min())?(i.removeEntry(D,L.readTime),y=y.insert(D,L)):!Z.isValidDocument()||L.version.compareTo(Z.version)>0||0===L.version.compareTo(Z.version)&&Z.hasPendingWrites?(i.addEntry(L),y=y.insert(D,L)):zt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",Z.version," Watch version:",L.version)}),y})}(y,D,i.documentUpdates).next(te=>{Z=te})),!h.isEqual(Mn.min())){const te=c.hs.getLastRemoteSnapshotVersion(y).next(xe=>c.hs.setTargetsMetadata(y,y.currentSequenceNumber,h));L.push(te)}return _t.waitFor(L).next(()=>D.apply(y)).next(()=>c.ui.Ks(y,Z)).next(()=>Z)}).then(y=>(c.si=g,y))}function fm(l,i){const c=rn(l);return c.persistence.runTransaction("Get next mutation batch","readonly",h=>(void 0===i&&(i=-1),c.Fs.getNextMutationBatchAfterBatchId(h,i)))}function Ff(l,i){const c=rn(l);return c.persistence.runTransaction("Allocate target","readwrite",h=>{let g;return c.hs.getTargetData(h,i).next(y=>y?(g=y,_t.resolve(g)):c.hs.allocateTargetId(h).next(D=>(g=new _c(i,D,0,h.currentSequenceNumber),c.hs.addTargetData(h,g).next(()=>g))))}).then(h=>{const g=c.si.get(h.targetId);return(null===g||h.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(c.si=c.si.insert(h.targetId,h),c.ii.set(i,h.targetId)),h})}function Pd(l,i,c){return $p.apply(this,arguments)}function $p(){return $p=(0,e.Z)(function*(l,i,c){const h=rn(l),g=h.si.get(i),y=c?"readwrite":"readwrite-primary";try{c||(yield h.persistence.runTransaction("Release target",y,D=>h.persistence.referenceDelegate.removeTarget(D,g)))}catch(D){if(!ms(D))throw D;zt("LocalStore",`Failed to update sequence numbers for target ${i}: ${D}`)}h.si=h.si.remove(i),h.ii.delete(g.target)}),$p.apply(this,arguments)}function Bf(l,i,c){const h=rn(l);let g=Mn.min(),y=Xr();return h.persistence.runTransaction("Execute query","readonly",D=>function(L,Z,te){const xe=rn(L),je=xe.ii.get(te);return void 0!==je?_t.resolve(xe.si.get(je)):xe.hs.getTargetData(Z,te)}(h,D,ni(i)).next(L=>{if(L)return g=L.lastLimboFreeSnapshotVersion,h.hs.getMatchingKeysForTargetId(D,L.targetId).next(Z=>{y=Z})}).next(()=>h.ni.Gs(D,i,c?g:Mn.min(),c?y:Xr())).next(L=>({documents:L,hi:y})))}class Ry{constructor(i){this.M=i,this._i=new Map,this.wi=new Map}getBundleMetadata(i,c){return _t.resolve(this._i.get(c))}saveBundleMetadata(i,c){var h;return this._i.set(c.id,{id:(h=c).id,version:h.version,createTime:fo(h.createTime)}),_t.resolve()}getNamedQuery(i,c){return _t.resolve(this.wi.get(c))}saveNamedQuery(i,c){return this.wi.set(c.name,{name:(h=c).name,query:Bp(h.bundledQuery),readTime:fo(h.readTime)}),_t.resolve();var h}}class K_{constructor(){this.overlays=new Mi(hn.comparator),this.mi=new Map}getOverlay(i,c){return _t.resolve(this.overlays.get(c))}saveOverlays(i,c,h){return h.forEach((g,y)=>{this.Xt(i,c,y)}),_t.resolve()}removeOverlaysForBatchId(i,c,h){const g=this.mi.get(h);return void 0!==g&&(g.forEach(y=>this.overlays=this.overlays.remove(y)),this.mi.delete(h)),_t.resolve()}getOverlaysForCollection(i,c,h){const g=pd(),y=c.length+1,D=new hn(c.child("")),L=this.overlays.getIteratorFrom(D);for(;L.hasNext();){const Z=L.getNext().value,te=Z.getKey();if(!c.isPrefixOf(te.path))break;te.path.length===y&&Z.largestBatchId>h&&g.set(Z.getKey(),Z)}return _t.resolve(g)}getOverlaysForCollectionGroup(i,c,h,g){let y=new Mi((te,xe)=>te-xe);const D=this.overlays.getIterator();for(;D.hasNext();){const te=D.getNext().value;if(te.getKey().getCollectionGroup()===c&&te.largestBatchId>h){let xe=y.get(te.largestBatchId);null===xe&&(xe=pd(),y=y.insert(te.largestBatchId,xe)),xe.set(te.getKey(),te)}}const L=pd(),Z=y.getIterator();for(;Z.hasNext()&&(Z.getNext().value.forEach((te,xe)=>L.set(te,xe)),!(L.size()>=g)););return _t.resolve(L)}Xt(i,c,h){if(null===h)return;const g=this.overlays.get(h.key);if(null!==g){const D=this.mi.get(g.largestBatchId).delete(h.key);this.mi.set(g.largestBatchId,D)}this.overlays=this.overlays.insert(h.key,new Ch(c,h));let y=this.mi.get(c);void 0===y&&(y=Xr(),this.mi.set(c,y)),this.mi.set(c,y.add(h.key))}}class Ll{constructor(){this.gi=new ri(ki.yi),this.pi=new ri(ki.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(i,c){const h=new ki(i,c);this.gi=this.gi.add(h),this.pi=this.pi.add(h)}Ti(i,c){i.forEach(h=>this.addReference(h,c))}removeReference(i,c){this.Ei(new ki(i,c))}Ai(i,c){i.forEach(h=>this.removeReference(h,c))}Ri(i){const c=new hn(new $r([])),h=new ki(c,i),g=new ki(c,i+1),y=[];return this.pi.forEachInRange([h,g],D=>{this.Ei(D),y.push(D.key)}),y}bi(){this.gi.forEach(i=>this.Ei(i))}Ei(i){this.gi=this.gi.delete(i),this.pi=this.pi.delete(i)}Pi(i){const c=new hn(new $r([])),h=new ki(c,i),g=new ki(c,i+1);let y=Xr();return this.pi.forEachInRange([h,g],D=>{y=y.add(D.key)}),y}containsKey(i){const c=new ki(i,0),h=this.gi.firstAfterOrEqual(c);return null!==h&&i.isEqual(h.key)}}class ki{constructor(i,c){this.key=i,this.Vi=c}static yi(i,c){return hn.comparator(i.key,c.key)||wr(i.Vi,c.Vi)}static Ii(i,c){return wr(i.Vi,c.Vi)||hn.comparator(i.key,c.key)}}class Fl{constructor(i,c){this.indexManager=i,this.referenceDelegate=c,this.Fs=[],this.vi=1,this.Si=new ri(ki.yi)}checkEmpty(i){return _t.resolve(0===this.Fs.length)}addMutationBatch(i,c,h,g){const y=this.vi;this.vi++;const D=new yd(y,c,h,g);this.Fs.push(D);for(const L of g)this.Si=this.Si.add(new ki(L.key,y)),this.indexManager.addToCollectionParentIndex(i,L.key.path.popLast());return _t.resolve(D)}lookupMutationBatch(i,c){return _t.resolve(this.Di(c))}getNextMutationBatchAfterBatchId(i,c){const g=this.Ci(c+1),y=g<0?0:g;return _t.resolve(this.Fs.length>y?this.Fs[y]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(i){return _t.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(i,c){const h=new ki(c,0),g=new ki(c,Number.POSITIVE_INFINITY),y=[];return this.Si.forEachInRange([h,g],D=>{const L=this.Di(D.Vi);y.push(L)}),_t.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(i,c){let h=new ri(wr);return c.forEach(g=>{const y=new ki(g,0),D=new ki(g,Number.POSITIVE_INFINITY);this.Si.forEachInRange([y,D],L=>{h=h.add(L.Vi)})}),_t.resolve(this.xi(h))}getAllMutationBatchesAffectingQuery(i,c){const h=c.path,g=h.length+1;let y=h;hn.isDocumentKey(y)||(y=y.child(""));const D=new ki(new hn(y),0);let L=new ri(wr);return this.Si.forEachWhile(Z=>{const te=Z.key.path;return!!h.isPrefixOf(te)&&(te.length===g&&(L=L.add(Z.Vi)),!0)},D),_t.resolve(this.xi(L))}xi(i){const c=[];return i.forEach(h=>{const g=this.Di(h);null!==g&&c.push(g)}),c}removeMutationBatch(i,c){Jn(0===this.Ni(c.batchId,"removed")),this.Fs.shift();let h=this.Si;return _t.forEach(c.mutations,g=>{const y=new ki(g.key,c.batchId);return h=h.delete(y),this.referenceDelegate.markPotentiallyOrphaned(i,g.key)}).next(()=>{this.Si=h})}dn(i){}containsKey(i,c){const h=new ki(c,0),g=this.Si.firstAfterOrEqual(h);return _t.resolve(c.isEqual(g&&g.key))}performConsistencyCheck(i){return _t.resolve()}Ni(i,c){return this.Ci(i)}Ci(i){return 0===this.Fs.length?0:i-this.Fs[0].batchId}Di(i){const c=this.Ci(i);return c<0||c>=this.Fs.length?null:this.Fs[c]}}class Tv{constructor(i){this.ki=i,this.docs=new Mi(hn.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,c){const h=c.key,g=this.docs.get(h),y=g?g.size:0,D=this.ki(c);return this.docs=this.docs.insert(h,{document:c.mutableCopy(),size:D}),this.size+=D-y,this.indexManager.addToCollectionParentIndex(i,h.path.popLast())}removeEntry(i){const c=this.docs.get(i);c&&(this.docs=this.docs.remove(i),this.size-=c.size)}getEntry(i,c){const h=this.docs.get(c);return _t.resolve(h?h.document.mutableCopy():fi.newInvalidDocument(c))}getEntries(i,c){let h=Jo();return c.forEach(g=>{const y=this.docs.get(g);h=h.insert(g,y?y.document.mutableCopy():fi.newInvalidDocument(g))}),_t.resolve(h)}getAll(i,c,h){let g=Jo();const y=new hn(c.child("")),D=this.docs.getIteratorFrom(y);for(;D.hasNext();){const{key:L,value:{document:Z}}=D.getNext();if(!c.isPrefixOf(L.path))break;L.path.length>c.length+1||Z.readTime.compareTo(h)<=0||(g=g.insert(Z.key,Z.mutableCopy()))}return _t.resolve(g)}Mi(i,c){return _t.forEach(this.docs,h=>c(h))}newChangeBuffer(i){return new J_(this)}getSize(i){return _t.resolve(this.size)}}class J_ extends class k{constructor(){this.changes=new Hc(i=>i.toString(),(i,c)=>i.isEqual(c)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,c){this.assertNotApplied(),this.changes.set(i,fi.newInvalidDocument(i).setReadTime(c))}getEntry(i,c){this.assertNotApplied();const h=this.changes.get(c);return void 0!==h?_t.resolve(h):this.getFromCache(i,c)}getEntries(i,c){return this.getAllFromCache(i,c)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}{constructor(i){super(),this.Un=i}applyChanges(i){const c=[];return this.changes.forEach((h,g)=>{g.isValidDocument()?c.push(this.Un.addEntry(i,g)):this.Un.removeEntry(h)}),_t.waitFor(c)}getFromCache(i,c){return this.Un.getEntry(i,c)}getAllFromCache(i,c){return this.Un.getEntries(i,c)}}class gm{constructor(i){this.persistence=i,this.Oi=new Hc(c=>ma(c),As),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.$i=0,this.Fi=new Ll,this.targetCount=0,this.Bi=Rl.mn()}forEachTarget(i,c){return this.Oi.forEach((h,g)=>c(g)),_t.resolve()}getLastRemoteSnapshotVersion(i){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return _t.resolve(this.$i)}allocateTargetId(i){return this.highestTargetId=this.Bi.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(i,c,h){return h&&(this.lastRemoteSnapshotVersion=h),c>this.$i&&(this.$i=c),_t.resolve()}In(i){this.Oi.set(i.target,i);const c=i.targetId;c>this.highestTargetId&&(this.Bi=new Rl(c),this.highestTargetId=c),i.sequenceNumber>this.$i&&(this.$i=i.sequenceNumber)}addTargetData(i,c){return this.In(c),this.targetCount+=1,_t.resolve()}updateTargetData(i,c){return this.In(c),_t.resolve()}removeTargetData(i,c){return this.Oi.delete(c.target),this.Fi.Ri(c.targetId),this.targetCount-=1,_t.resolve()}removeTargets(i,c,h){let g=0;const y=[];return this.Oi.forEach((D,L)=>{L.sequenceNumber<=c&&null===h.get(L.targetId)&&(this.Oi.delete(D),y.push(this.removeMatchingKeysForTargetId(i,L.targetId)),g++)}),_t.waitFor(y).next(()=>g)}getTargetCount(i){return _t.resolve(this.targetCount)}getTargetData(i,c){const h=this.Oi.get(c)||null;return _t.resolve(h)}addMatchingKeys(i,c,h){return this.Fi.Ti(c,h),_t.resolve()}removeMatchingKeys(i,c,h){this.Fi.Ai(c,h);const g=this.persistence.referenceDelegate,y=[];return g&&c.forEach(D=>{y.push(g.markPotentiallyOrphaned(i,D))}),_t.waitFor(y)}removeMatchingKeysForTargetId(i,c){return this.Fi.Ri(c),_t.resolve()}getMatchingKeysForTargetId(i,c){const h=this.Fi.Pi(c);return _t.resolve(h)}containsKey(i,c){return _t.resolve(this.Fi.containsKey(c))}}class Y_{constructor(i,c){this.Li={},this.overlays={},this.Zn=new Jr(0),this.ts=!1,this.ts=!0,this.referenceDelegate=i(this),this.hs=new gm(this),this.indexManager=new Nl,this.ls=new Tv(h=>this.referenceDelegate.qi(h)),this.M=new am(c),this.fs=new Ry(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let c=this.overlays[i.toKey()];return c||(c=new K_,this.overlays[i.toKey()]=c),c}getMutationQueue(i,c){let h=this.Li[i.toKey()];return h||(h=new Fl(c,this.referenceDelegate),this.Li[i.toKey()]=h),h}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(i,c,h){zt("MemoryPersistence","Starting transaction:",i);const g=new Md(this.Zn.next());return this.referenceDelegate.Ui(),h(g).next(y=>this.referenceDelegate.Ki(g).next(()=>y)).toPromise().then(y=>(g.raiseOnCommittedEvent(),y))}Gi(i,c){return _t.or(Object.values(this.Li).map(h=>()=>h.containsKey(i,c)))}}class Md extends class ba{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}{constructor(i){super(),this.currentSequenceNumber=i}}class Nd{constructor(i){this.persistence=i,this.Qi=new Ll,this.ji=null}static Wi(i){return new Nd(i)}get zi(){if(this.ji)return this.ji;throw Rn()}addReference(i,c,h){return this.Qi.addReference(h,c),this.zi.delete(h.toString()),_t.resolve()}removeReference(i,c,h){return this.Qi.removeReference(h,c),this.zi.add(h.toString()),_t.resolve()}markPotentiallyOrphaned(i,c){return this.zi.add(c.toString()),_t.resolve()}removeTarget(i,c){this.Qi.Ri(c.targetId).forEach(g=>this.zi.add(g.toString()));const h=this.persistence.getTargetCache();return h.getMatchingKeysForTargetId(i,c.targetId).next(g=>{g.forEach(y=>this.zi.add(y.toString()))}).next(()=>h.removeTargetData(i,c))}Ui(){this.ji=new Set}Ki(i){const c=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.zi,h=>{const g=hn.fromPath(h);return this.Hi(i,g).next(y=>{y||c.removeEntry(g,Mn.min())})}).next(()=>(this.ji=null,c.apply(i)))}updateLimboDocument(i,c){return this.Hi(i,c).next(h=>{h?this.zi.delete(c.toString()):this.zi.add(c.toString())})}qi(i){return 0}Hi(i,c){return _t.or([()=>_t.resolve(this.Qi.containsKey(c)),()=>this.persistence.getTargetCache().containsKey(i,c),()=>this.persistence.Gi(i,c)])}}class _m{constructor(){this.activeTargetIds=Al()}Xi(i){this.activeTargetIds=this.activeTargetIds.add(i)}Zi(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Yi(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class es{constructor(){this.Or=new _m,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,c,h){}addLocalQueryTarget(i){return this.Or.Xi(i),this.$r[i]||"not-current"}updateQueryState(i,c,h){this.$r[i]=c}removeLocalQueryTarget(i){this.Or.Zi(i)}isLocalQueryTarget(i){return this.Or.activeTargetIds.has(i)}clearQueryState(i){delete this.$r[i]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(i){return this.Or.activeTargetIds.has(i)}start(){return this.Or=new _m,Promise.resolve()}handleUserChange(i,c,h){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class Kp{Fr(i){}shutdown(){}}class Nu{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(i){this.Kr.push(i)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){zt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Kr)i(0)}Ur(){zt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Kr)i(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ru={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class jl{constructor(i){this.Qr=i.Qr,this.jr=i.jr}Wr(i){this.zr=i}Hr(i){this.Jr=i}onMessage(i){this.Yr=i}close(){this.jr()}send(i){this.Qr(i)}Xr(){this.zr()}Zr(i){this.Jr(i)}eo(i){this.Yr(i)}}class Ev extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.no=(i.ssl?"https":"http")+"://"+i.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(i,c,h,g,y){const D=this.ro(i,c);zt("RestConnection","Sending: ",D,h);const L={};return this.oo(L,g,y),this.ao(i,D,L,h).then(Z=>(zt("RestConnection","Received: ",Z),Z),Z=>{throw xi("RestConnection",`${i} failed with error: `,Z,"url: ",D,"request:",h),Z})}uo(i,c,h,g,y){return this.io(i,c,h,g,y)}oo(i,c,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+ko,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),c&&c.headers.forEach((g,y)=>i[y]=g),h&&h.headers.forEach((g,y)=>i[y]=g)}ro(i,c){return`${this.no}/v1/${c}:${Ru[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}ao(i,c,h,g){return new Promise((y,D)=>{const L=new fu;L.listenOnce(Oc.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case hu.NO_ERROR:const te=L.getResponseJson();zt("Connection","XHR received:",JSON.stringify(te)),y(te);break;case hu.TIMEOUT:zt("Connection",'RPC "'+i+'" timed out'),D(new It(pt.DEADLINE_EXCEEDED,"Request time out"));break;case hu.HTTP_ERROR:const xe=L.getStatus();if(zt("Connection",'RPC "'+i+'" failed with status:',xe,"response text:",L.getResponseText()),xe>0){const je=L.getResponseJson().error;if(je&&je.status&&je.message){const ht=function(xt){const Bt=xt.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Bt)>=0?Bt:pt.UNKNOWN}(je.status);D(new It(ht,je.message))}else D(new It(pt.UNKNOWN,"Server responded with status "+L.getStatus()))}else D(new It(pt.UNAVAILABLE,"Connection failed."));break;default:Rn()}}finally{zt("Connection",'RPC "'+i+'" completed.')}});const Z=JSON.stringify(g);L.send(c,"POST",Z,h,15)})}co(i,c,h){const g=[this.no,"/","google.firestore.v1.Firestore","/",i,"/channel"],y=wp(),D=nh(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new Kg({})),this.oo(L.initMessageHeaders,c,h),(0,P.uI)()||(0,P.b$)()||(0,P.d)()||(0,P.w1)()||(0,P.Mn)()||(0,P.ru)()||(L.httpHeadersOverwriteParam="$httpHeaders");const Z=g.join("");zt("Connection","Creating WebChannel: "+Z,L);const te=y.createWebChannel(Z,L);let xe=!1,je=!1;const ht=new jl({Qr:Bt=>{je?zt("Connection","Not sending because WebChannel is closed:",Bt):(xe||(zt("Connection","Opening WebChannel transport."),te.open(),xe=!0),zt("Connection","WebChannel sending:",Bt),te.send(Bt))},jr:()=>te.close()}),xt=(Bt,kn,yr)=>{Bt.listen(kn,ao=>{try{yr(ao)}catch(Ar){setTimeout(()=>{throw Ar},0)}})};return xt(te,Zs.EventType.OPEN,()=>{je||zt("Connection","WebChannel transport opened.")}),xt(te,Zs.EventType.CLOSE,()=>{je||(je=!0,zt("Connection","WebChannel transport closed"),ht.Zr())}),xt(te,Zs.EventType.ERROR,Bt=>{je||(je=!0,xi("Connection","WebChannel transport errored:",Bt),ht.Zr(new It(pt.UNAVAILABLE,"The operation could not be completed")))}),xt(te,Zs.EventType.MESSAGE,Bt=>{var kn;if(!je){const yr=Bt.data[0];Jn(!!yr);const ao=yr,Ar=ao.error||(null===(kn=ao[0])||void 0===kn?void 0:kn.error);if(Ar){zt("Connection","WebChannel received error:",Ar);const sa=Ar.status;let Po=function(gi){const qu=zi[gi];if(void 0!==qu)return hd(qu)}(sa),jo=Ar.message;void 0===Po&&(Po=pt.INTERNAL,jo="Unknown error status: "+sa+" with message "+Ar.message),je=!0,ht.Zr(new It(Po,jo)),te.close()}else zt("Connection","WebChannel received:",yr),ht.eo(yr)}}),xt(D,di.STAT_EVENT,Bt=>{Bt.stat===yl.PROXY?zt("Connection","Detected buffering proxy"):Bt.stat===yl.NOPROXY&&zt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ht.Xr()},0),ht}}function jf(){return"undefined"!=typeof document?document:null}function kd(l){return new Mp(l,!0)}class ku{constructor(i,c,h=1e3,g=1.5,y=6e4){this.Hn=i,this.timerId=c,this.ho=h,this.lo=g,this.fo=y,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(i){this.cancel();const c=Math.floor(this._o+this.Io()),h=Math.max(0,Date.now()-this.mo),g=Math.max(0,c-h);g>0&&zt("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this._o} ms, delay with jitter: ${c} ms, last attempt: ${h} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,g,()=>(this.mo=Date.now(),i())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class Jp{constructor(i,c,h,g,y,D,L,Z){this.Hn=i,this.Eo=h,this.Ao=g,this.Ro=y,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=L,this.listener=Z,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new ku(i,c)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var i=this;return(0,e.Z)(function*(){i.So()&&(yield i.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(i){this.Oo(),this.stream.send(i)}ko(){var i=this;return(0,e.Z)(function*(){if(i.Do())return i.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(i,c){var h=this;return(0,e.Z)(function*(){h.Oo(),h.$o(),h.vo.cancel(),h.bo++,4!==i?h.vo.reset():c&&c.code===pt.RESOURCE_EXHAUSTED?(cr(c.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),h.vo.yo()):c&&c.code===pt.UNAUTHENTICATED&&3!==h.state&&(h.authCredentialsProvider.invalidateToken(),h.appCheckCredentialsProvider.invalidateToken()),null!==h.stream&&(h.Fo(),h.stream.close(),h.stream=null),h.state=i,yield h.listener.Hr(c)})()}Fo(){}auth(){this.state=1;const i=this.Bo(this.bo),c=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([h,g])=>{this.bo===c&&this.Lo(h,g)},h=>{i(()=>{const g=new It(pt.UNKNOWN,"Fetching auth token failed: "+h.message);return this.qo(g)})})}Lo(i,c){const h=this.Bo(this.bo);this.stream=this.Uo(i,c),this.stream.Wr(()=>{h(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(g=>{h(()=>this.qo(g))}),this.stream.onMessage(g=>{h(()=>this.onMessage(g))})}Co(){var i=this;this.state=5,this.vo.po((0,e.Z)(function*(){i.state=0,i.start()}))}qo(i){return zt("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}Bo(i){return c=>{this.Hn.enqueueAndForget(()=>this.bo===i?c():(zt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vf extends Jp{constructor(i,c,h,g,y,D){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",c,h,g,D),this.M=y}Uo(i,c){return this.Ro.co("Listen",i,c)}onMessage(i){this.vo.reset();const c=function U_(l,i){let c;if("targetChange"in i){const h="NO_CHANGE"===(Z=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Z?1:"REMOVE"===Z?2:"CURRENT"===Z?3:"RESET"===Z?4:Rn(),g=i.targetChange.targetIds||[],y=function(Z,te){return Z.N?(Jn(void 0===te||"string"==typeof te),_i.fromBase64String(te||"")):(Jn(void 0===te||te instanceof Uint8Array),_i.fromUint8Array(te||new Uint8Array))}(l,i.targetChange.resumeToken),D=i.targetChange.cause,L=D&&function(Z){const te=void 0===Z.code?pt.UNKNOWN:hd(Z.code);return new It(te,Z.message||"")}(D);c=new Il(h,g,y,L||null)}else if("documentChange"in i){const h=i.documentChange,g=mc(l,h.document.name),y=fo(h.document.updateTime),D=new hi({mapValue:{fields:h.document.fields}}),L=fi.newFoundDocument(g,y,D);c=new hh(h.targetIds||[],h.removedTargetIds||[],L.key,L)}else if("documentDelete"in i){const h=i.documentDelete,g=mc(l,h.document),y=h.readTime?fo(h.readTime):Mn.min(),D=fi.newNoDocument(g,y);c=new hh([],h.removedTargetIds||[],D.key,D)}else if("documentRemove"in i){const h=i.documentRemove,g=mc(l,h.document);c=new hh([],h.removedTargetIds||[],g,null)}else{if(!("filter"in i))return Rn();{const h=i.filter,y=new Yg(h.count||0);c=new Ip(h.targetId,y)}}var Z;return c}(this.M,i),h=function(g){if(!("targetChange"in g))return Mn.min();const y=g.targetChange;return y.targetIds&&y.targetIds.length?Mn.min():y.readTime?fo(y.readTime):Mn.min()}(i);return this.listener.Ko(c,h)}Go(i){const c={};c.database=Rp(this.M),c.addTarget=function(g,y){let D;const L=y.target;return D=ro(L)?{documents:Tf(g,L)}:{query:Za(g,L)},D.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?D.resumeToken=Np(g,y.resumeToken):y.snapshotVersion.compareTo(Mn.min())>0&&(D.readTime=Ci(g,y.snapshotVersion.toTimestamp())),D}(this.M,i);const h=function In(l,i){const c=function(h,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rn()}}(0,i.purpose);return null==c?null:{"goog-listen-tags":c}}(0,i);h&&(c.labels=h),this.Mo(c)}Qo(i){const c={};c.database=Rp(this.M),c.removeTarget=i,this.Mo(c)}}class Yp extends Jp{constructor(i,c,h,g,y,D){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",c,h,g,D),this.M=y,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(i,c){return this.Ro.co("Write",i,c)}onMessage(i){if(Jn(!!i.streamToken),this.lastStreamToken=i.streamToken,this.jo){this.vo.reset();const c=function wf(l,i){return l&&l.length>0?(Jn(void 0!==i),l.map(c=>function(h,g){let y=fo(h.updateTime?h.updateTime:g);return y.isEqual(Mn.min())&&(y=fo(g)),new ah(y,h.transformResults||[])}(c,i))):[]}(i.writeResults,i.commitTime),h=fo(i.commitTime);return this.listener.Ho(h,c)}return Jn(!i.writeResults||0===i.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const i={};i.database=Rp(this.M),this.Mo(i)}zo(i){const c={streamToken:this.lastStreamToken,writes:i.map(h=>function ph(l,i){let c;if(i instanceof ud)c={update:_d(l,i.key,i.value)};else if(i instanceof ch)c={delete:Pl(l,i.key)};else if(i instanceof ps)c={update:_d(l,i.key,i.data),updateMask:ya(i.fieldMask)};else{if(!(i instanceof lh))return Rn();c={verify:Pl(l,i.key)}}return i.fieldTransforms.length>0&&(c.updateTransforms=i.fieldTransforms.map(h=>function(g,y){const D=y.transform;if(D instanceof xl)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Ks)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof qa)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Ps)return{fieldPath:y.field.canonicalString(),increment:D.k};throw Rn()}(0,h))),i.precondition.isNone||(c.currentDocument=void 0!==(g=i.precondition).updateTime?{updateTime:rm(l,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:Rn()),c;var g}(this.M,h))};this.Mo(c)}}class ym extends class{}{constructor(i,c,h,g){super(),this.authCredentials=i,this.appCheckCredentials=c,this.Ro=h,this.M=g,this.Xo=!1}Zo(){if(this.Xo)throw new It(pt.FAILED_PRECONDITION,"The client has already been terminated.")}io(i,c,h){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,y])=>this.Ro.io(i,c,h,g,y)).catch(g=>{throw"FirebaseError"===g.name?(g.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new It(pt.UNKNOWN,g.toString())})}uo(i,c,h){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,y])=>this.Ro.uo(i,c,h,g,y)).catch(g=>{throw"FirebaseError"===g.name?(g.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new It(pt.UNKNOWN,g.toString())})}terminate(){this.Xo=!0}}class Qp{constructor(i,c){this.asyncQueue=i,this.onlineStateHandler=c,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(i){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.ia("Offline")))}set(i){this.aa(),this.ta=0,"Online"===i&&(this.na=!1),this.ia(i)}ia(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}ra(i){const c=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(cr(c),this.na=!1):zt("OnlineStateTracker",c)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class bm{constructor(i,c,h,g,y){var D=this;this.localStore=i,this.datastore=c,this.asyncQueue=h,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=y,this.fa.Fr(L=>{h.enqueueAndForget((0,e.Z)(function*(){var Z;Vl(D)&&(zt("RemoteStore","Restarting streams for network reachability change."),yield(Z=(0,e.Z)(function*(te){const xe=rn(te);xe.ha.add(4),yield Ld(xe),xe.da.set("Unknown"),xe.ha.delete(4),yield Ph(xe)}),function(te){return Z.apply(this,arguments)})(D))}))}),this.da=new Qp(h,g)}}function Ph(l){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,e.Z)(function*(l){if(Vl(l))for(const i of l.la)yield i(!0)}),Cm.apply(this,arguments)}function Ld(l){return wm.apply(this,arguments)}function wm(){return wm=(0,e.Z)(function*(l){for(const i of l.la)yield i(!1)}),wm.apply(this,arguments)}function Xp(l,i){const c=rn(l);c.ca.has(i.targetId)||(c.ca.set(i.targetId,i),Q_(c)?Gf(c):Lu(c).Do()&&Tm(c,i))}function Bo(l,i){const c=rn(l),h=Lu(c);c.ca.delete(i),h.Do()&&Em(c,i),0===c.ca.size&&(h.Do()?h.No():Vl(c)&&c.da.set("Unknown"))}function Tm(l,i){l._a.Z(i.targetId),Lu(l).Go(i)}function Em(l,i){l._a.Z(i),Lu(l).Qo(i)}function Gf(l){l._a=new tm({getRemoteKeysForTarget:i=>l.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>l.ca.get(i)||null}),Lu(l).start(),l.da.sa()}function Q_(l){return Vl(l)&&!Lu(l).So()&&l.ca.size>0}function Vl(l){return 0===rn(l).ha.size}function eg(l){l._a=void 0}function Dv(l){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,e.Z)(function*(l){l.ca.forEach((i,c)=>{Tm(l,i)})}),Gl.apply(this,arguments)}function X_(l,i){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,e.Z)(function*(l,i){eg(l),Q_(l)?(l.da.oa(i),Gf(l)):l.da.set("Unknown")}),Dm.apply(this,arguments)}function Hf(l,i,c){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,e.Z)(function*(l,i,c){if(l.da.set("Online"),i instanceof Il&&2===i.state&&i.cause)try{yield(h=(0,e.Z)(function*(g,y){const D=y.cause;for(const L of y.targetIds)g.ca.has(L)&&(yield g.remoteSyncer.rejectListen(L,D),g.ca.delete(L),g._a.removeTarget(L))}),function(g,y){return h.apply(this,arguments)})(l,i)}catch(h){zt("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),h),yield qf(l,h)}else if(i instanceof hh?l._a.at(i):i instanceof Ip?l._a._t(i):l._a.ht(i),!c.isEqual(Mn.min()))try{const h=yield Id(l.localStore);c.compareTo(h)>=0&&(yield function(g,y){const D=g._a.yt(y);return D.targetChanges.forEach((L,Z)=>{if(L.resumeToken.approximateByteSize()>0){const te=g.ca.get(Z);te&&g.ca.set(Z,te.withResumeToken(L.resumeToken,y))}}),D.targetMismatches.forEach(L=>{const Z=g.ca.get(L);if(!Z)return;g.ca.set(L,Z.withResumeToken(_i.EMPTY_BYTE_STRING,Z.snapshotVersion)),Em(g,L);const te=new _c(Z.target,L,1,Z.sequenceNumber);Tm(g,te)}),g.remoteSyncer.applyRemoteEvent(D)}(l,c))}catch(h){zt("RemoteStore","Failed to raise snapshot:",h),yield qf(l,h)}var h}),Sm.apply(this,arguments)}function qf(l,i,c){return xm.apply(this,arguments)}function xm(){return xm=(0,e.Z)(function*(l,i,c){if(!ms(i))throw i;l.ha.add(1),yield Ld(l),l.da.set("Offline"),c||(c=()=>Id(l.localStore)),l.asyncQueue.enqueueRetryable((0,e.Z)(function*(){zt("RemoteStore","Retrying IndexedDB access"),yield c(),l.ha.delete(1),yield Ph(l)}))}),xm.apply(this,arguments)}function Am(l,i){return i().catch(c=>qf(l,c,i))}function Oh(l){return Im.apply(this,arguments)}function Im(){return Im=(0,e.Z)(function*(l){const i=rn(l),c=Fu(i);let h=i.ua.length>0?i.ua[i.ua.length-1].batchId:-1;for(;e0(i);)try{const g=yield fm(i.localStore,h);if(null===g){0===i.ua.length&&c.No();break}h=g.batchId,t0(i,g)}catch(g){yield qf(i,g)}n0(i)&&Qa(i)}),Im.apply(this,arguments)}function e0(l){return Vl(l)&&l.ua.length<10}function t0(l,i){l.ua.push(i);const c=Fu(l);c.Do()&&c.Wo&&c.zo(i.mutations)}function n0(l){return Vl(l)&&!Fu(l).So()&&l.ua.length>0}function Qa(l){Fu(l).start()}function Pm(l){return Om.apply(this,arguments)}function Om(){return Om=(0,e.Z)(function*(l){Fu(l).Yo()}),Om.apply(this,arguments)}function Sv(l){return r0.apply(this,arguments)}function r0(){return r0=(0,e.Z)(function*(l){const i=Fu(l);for(const c of l.ua)i.zo(c.mutations)}),r0.apply(this,arguments)}function o0(l,i,c){return tg.apply(this,arguments)}function tg(){return tg=(0,e.Z)(function*(l,i,c){const h=l.ua.shift(),g=bd.from(h,i,c);yield Am(l,()=>l.remoteSyncer.applySuccessfulWrite(g)),yield Oh(l)}),tg.apply(this,arguments)}function ky(l,i){return ng.apply(this,arguments)}function ng(){return ng=(0,e.Z)(function*(l,i){var c;i&&Fu(l).Wo&&(yield(c=(0,e.Z)(function*(h,g){if(yf(y=g.code)&&y!==pt.ABORTED){const D=h.ua.shift();Fu(h).xo(),yield Am(h,()=>h.remoteSyncer.rejectFailedWrite(D.batchId,g)),yield Oh(h)}var y}),function(h,g){return c.apply(this,arguments)})(l,i)),n0(l)&&Qa(l)}),ng.apply(this,arguments)}function Zf(l,i){return rg.apply(this,arguments)}function rg(){return rg=(0,e.Z)(function*(l,i){const c=rn(l);c.asyncQueue.verifyOperationInProgress(),zt("RemoteStore","RemoteStore received new credentials");const h=Vl(c);c.ha.add(3),yield Ld(c),h&&c.da.set("Unknown"),yield c.remoteSyncer.handleCredentialChange(i),c.ha.delete(3),yield Ph(c)}),rg.apply(this,arguments)}function Mh(){return Mh=(0,e.Z)(function*(l,i){const c=rn(l);i?(c.ha.delete(2),yield Ph(c)):i||(c.ha.add(2),yield Ld(c),c.da.set("Unknown"))}),Mh.apply(this,arguments)}function Lu(l){return l.wa||(l.wa=function(i,c,h){const g=rn(i);return g.Zo(),new Vf(c,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,h)}(l.datastore,l.asyncQueue,{Wr:Dv.bind(null,l),Hr:X_.bind(null,l),Ko:Hf.bind(null,l)}),l.la.push(function(){var i=(0,e.Z)(function*(c){c?(l.wa.xo(),Q_(l)?Gf(l):l.da.set("Unknown")):(yield l.wa.stop(),eg(l))});return function(c){return i.apply(this,arguments)}}())),l.wa}function Fu(l){return l.ma||(l.ma=function(i,c,h){const g=rn(i);return g.Zo(),new Yp(c,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,h)}(l.datastore,l.asyncQueue,{Wr:Pm.bind(null,l),Hr:ky.bind(null,l),Jo:Sv.bind(null,l),Ho:o0.bind(null,l)}),l.la.push(function(){var i=(0,e.Z)(function*(c){c?(l.ma.xo(),yield Oh(l)):(yield l.ma.stop(),l.ua.length>0&&(zt("RemoteStore",`Stopping write stream with ${l.ua.length} pending writes`),l.ua=[]))});return function(c){return i.apply(this,arguments)}}())),l.ma}class zf{constructor(i,c,h,g,y){this.asyncQueue=i,this.timerId=c,this.targetTimeMs=h,this.op=g,this.removalCallback=y,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(i,c,h,g,y){const D=Date.now()+h,L=new zf(i,c,D,g,y);return L.start(h),L}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new It(pt.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hl(l,i){if(cr("AsyncQueue",`${i}: ${l}`),ms(l))return new It(pt.UNAVAILABLE,`${i}: ${l}`);throw l}class Fd{constructor(i){this.comparator=i?(c,h)=>i(c,h)||hn.comparator(c.key,h.key):(c,h)=>hn.comparator(c.key,h.key),this.keyedMap=qc(),this.sortedSet=new Mi(this.comparator)}static emptySet(i){return new Fd(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const c=this.keyedMap.get(i);return c?this.sortedSet.indexOf(c):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((c,h)=>(i(c),!1))}add(i){const c=this.delete(i.key);return c.copy(c.keyedMap.insert(i.key,i),c.sortedSet.insert(i,null))}delete(i){const c=this.get(i);return c?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(c)):this}isEqual(i){if(!(i instanceof Fd)||this.size!==i.size)return!1;const c=this.sortedSet.getIterator(),h=i.sortedSet.getIterator();for(;c.hasNext();){const g=c.getNext().key,y=h.getNext().key;if(!g.isEqual(y))return!1}return!0}toString(){const i=[];return this.forEach(c=>{i.push(c.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,c){const h=new Fd;return h.comparator=this.comparator,h.keyedMap=i,h.sortedSet=c,h}}class og{constructor(){this.ga=new Mi(hn.comparator)}track(i){const c=i.doc.key,h=this.ga.get(c);h?0!==i.type&&3===h.type?this.ga=this.ga.insert(c,i):3===i.type&&1!==h.type?this.ga=this.ga.insert(c,{type:h.type,doc:i.doc}):2===i.type&&2===h.type?this.ga=this.ga.insert(c,{type:2,doc:i.doc}):2===i.type&&0===h.type?this.ga=this.ga.insert(c,{type:0,doc:i.doc}):1===i.type&&0===h.type?this.ga=this.ga.remove(c):1===i.type&&2===h.type?this.ga=this.ga.insert(c,{type:1,doc:h.doc}):0===i.type&&1===h.type?this.ga=this.ga.insert(c,{type:2,doc:i.doc}):Rn():this.ga=this.ga.insert(c,i)}ya(){const i=[];return this.ga.inorderTraversal((c,h)=>{i.push(h)}),i}}class Nh{constructor(i,c,h,g,y,D,L,Z){this.query=i,this.docs=c,this.oldDocs=h,this.docChanges=g,this.mutatedKeys=y,this.fromCache=D,this.syncStateChanged=L,this.excludesMetadataChanges=Z}static fromInitialDocuments(i,c,h,g){const y=[];return c.forEach(D=>{y.push({type:0,doc:D})}),new Nh(i,c,Fd.emptySet(c),y,h,g,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&wu(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const c=this.docChanges,h=i.docChanges;if(c.length!==h.length)return!1;for(let g=0;g<c.length;g++)if(c[g].type!==h[g].type||!c[g].doc.isEqual(h[g].doc))return!1;return!0}}class Mm{constructor(){this.pa=void 0,this.listeners=[]}}class Ly{constructor(){this.queries=new Hc(i=>Sl(i),wu),this.onlineState="Unknown",this.Ia=new Set}}function $f(){return $f=(0,e.Z)(function*(l,i){const c=rn(l),h=i.query;let g=!1,y=c.queries.get(h);if(y||(g=!0,y=new Mm),g)try{y.pa=yield c.onListen(h)}catch(D){const L=Hl(D,`Initialization of query '${Bc(i.query)}' failed`);return void i.onError(L)}c.queries.set(h,y),y.listeners.push(i),i.Ta(c.onlineState),y.pa&&i.Ea(y.pa)&&Xa(c)}),$f.apply(this,arguments)}function ag(){return ag=(0,e.Z)(function*(l,i){const c=rn(l),h=i.query;let g=!1;const y=c.queries.get(h);if(y){const D=y.listeners.indexOf(i);D>=0&&(y.listeners.splice(D,1),g=0===y.listeners.length)}if(g)return c.queries.delete(h),c.onUnlisten(h)}),ag.apply(this,arguments)}function s0(l,i){const c=rn(l);let h=!1;for(const g of i){const D=c.queries.get(g.query);if(D){for(const L of D.listeners)L.Ea(g)&&(h=!0);D.pa=g}}h&&Xa(c)}function a0(l,i,c){const h=rn(l),g=h.queries.get(i);if(g)for(const y of g.listeners)y.onError(c);h.queries.delete(i)}function Xa(l){l.Ia.forEach(i=>{i.next()})}class Rh{constructor(i,c,h){this.query=i,this.Aa=c,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=h||{}}Ea(i){if(!this.options.includeMetadataChanges){const h=[];for(const g of i.docChanges)3!==g.type&&h.push(g);i=new Nh(i.query,i.docs,i.oldDocs,h,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let c=!1;return this.Ra?this.Pa(i)&&(this.Aa.next(i),c=!0):this.Va(i,this.onlineState)&&(this.va(i),c=!0),this.ba=i,c}onError(i){this.Aa.error(i)}Ta(i){this.onlineState=i;let c=!1;return this.ba&&!this.Ra&&this.Va(this.ba,i)&&(this.va(this.ba),c=!0),c}Va(i,c){return!i.fromCache||!(this.options.Sa&&"Offline"!==c||i.docs.isEmpty()&&"Offline"!==c)}Pa(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(i){i=Nh.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Ra=!0,this.Aa.next(i)}}class bc{constructor(i){this.key=i}}class ec{constructor(i){this.key=i}}class Cc{constructor(i,c){this.query=i,this.ka=c,this.Ma=null,this.current=!1,this.Oa=Xr(),this.mutatedKeys=Xr(),this.$a=ff(i),this.Fa=new Fd(this.$a)}get Ba(){return this.ka}La(i,c){const h=c?c.qa:new og,g=c?c.Fa:this.Fa;let y=c?c.mutatedKeys:this.mutatedKeys,D=g,L=!1;const Z=qi(this.query)&&g.size===this.query.limit?g.last():null,te=Oi(this.query)&&g.size===this.query.limit?g.first():null;if(i.inorderTraversal((xe,je)=>{const ht=g.get(xe),xt=Tu(this.query,je)?je:null,Bt=!!ht&&this.mutatedKeys.has(ht.key),kn=!!xt&&(xt.hasLocalMutations||this.mutatedKeys.has(xt.key)&&xt.hasCommittedMutations);let yr=!1;ht&&xt?ht.data.isEqual(xt.data)?Bt!==kn&&(h.track({type:3,doc:xt}),yr=!0):this.Ua(ht,xt)||(h.track({type:2,doc:xt}),yr=!0,(Z&&this.$a(xt,Z)>0||te&&this.$a(xt,te)<0)&&(L=!0)):!ht&&xt?(h.track({type:0,doc:xt}),yr=!0):ht&&!xt&&(h.track({type:1,doc:ht}),yr=!0,(Z||te)&&(L=!0)),yr&&(xt?(D=D.add(xt),y=kn?y.add(xe):y.delete(xe)):(D=D.delete(xe),y=y.delete(xe)))}),qi(this.query)||Oi(this.query))for(;D.size>this.query.limit;){const xe=qi(this.query)?D.last():D.first();D=D.delete(xe.key),y=y.delete(xe.key),h.track({type:1,doc:xe})}return{Fa:D,qa:h,ei:L,mutatedKeys:y}}Ua(i,c){return i.hasLocalMutations&&c.hasCommittedMutations&&!c.hasLocalMutations}applyChanges(i,c,h){const g=this.Fa;this.Fa=i.Fa,this.mutatedKeys=i.mutatedKeys;const y=i.qa.ya();y.sort((te,xe)=>function(je,ht){const xt=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rn()}};return xt(je)-xt(ht)}(te.type,xe.type)||this.$a(te.doc,xe.doc)),this.Ka(h);const D=c?this.Ga():[],L=0===this.Oa.size&&this.current?1:0,Z=L!==this.Ma;return this.Ma=L,0!==y.length||Z?{snapshot:new Nh(this.query,i.Fa,g,y,i.mutatedKeys,0===L,Z,!1),Qa:D}:{Qa:D}}Ta(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new og,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(i){return!this.ka.has(i)&&!!this.Fa.has(i)&&!this.Fa.get(i).hasLocalMutations}Ka(i){i&&(i.addedDocuments.forEach(c=>this.ka=this.ka.add(c)),i.modifiedDocuments.forEach(c=>{}),i.removedDocuments.forEach(c=>this.ka=this.ka.delete(c)),this.current=i.current)}Ga(){if(!this.current)return[];const i=this.Oa;this.Oa=Xr(),this.Fa.forEach(h=>{this.ja(h.key)&&(this.Oa=this.Oa.add(h.key))});const c=[];return i.forEach(h=>{this.Oa.has(h)||c.push(new ec(h))}),this.Oa.forEach(h=>{i.has(h)||c.push(new bc(h))}),c}Wa(i){this.ka=i.hi,this.Oa=Xr();const c=this.La(i.documents);return this.applyChanges(c,!0)}za(){return Nh.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class Av{constructor(i,c,h){this.query=i,this.targetId=c,this.view=h}}class Nm{constructor(i){this.key=i,this.Ha=!1}}class Rm{constructor(i,c,h,g,y,D){this.localStore=i,this.remoteStore=c,this.eventManager=h,this.sharedClientState=g,this.currentUser=y,this.maxConcurrentLimboResolutions=D,this.Ja={},this.Ya=new Hc(L=>Sl(L),wu),this.Xa=new Map,this.Za=new Set,this.tu=new Mi(hn.comparator),this.eu=new Map,this.nu=new Ll,this.su={},this.iu=new Map,this.ru=Rl.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function c0(l,i){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,e.Z)(function*(l,i){const c=tp(l);let h,g;const y=c.Ya.get(i);if(y)h=y.targetId,c.sharedClientState.addLocalQueryTarget(h),g=y.view.za();else{const D=yield Ff(c.localStore,ni(i));c.isPrimaryClient&&Xp(c.remoteStore,D);const L=c.sharedClientState.addLocalQueryTarget(D.targetId);h=D.targetId,g=yield cg(c,i,h,"current"===L)}return g}),Jf.apply(this,arguments)}function cg(l,i,c,h){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,e.Z)(function*(l,i,c,h){l.au=(xe,je,ht)=>{return(xt=(0,e.Z)(function*(Bt,kn,yr,ao){let Ar=kn.view.La(yr);Ar.ei&&(Ar=yield Bf(Bt.localStore,kn.query,!1).then(({documents:jo})=>kn.view.La(jo,Ar)));const sa=ao&&ao.targetChanges.get(kn.targetId),Po=kn.view.applyChanges(Ar,Bt.isPrimaryClient,sa);return Ns(Bt,kn.targetId,Po.Qa),Po.snapshot}),function(Bt,kn,yr,ao){return xt.apply(this,arguments)})(l,xe,je,ht);var xt};const g=yield Bf(l.localStore,i,!0),y=new Cc(i,g.hi),D=y.La(g.documents),L=dh.createSynthesizedTargetChangeForCurrentChange(c,h&&"Offline"!==l.onlineState),Z=y.applyChanges(D,l.isPrimaryClient,L);Ns(l,c,Z.Qa);const te=new Av(i,c,y);return l.Ya.set(i,te),l.Xa.has(c)?l.Xa.get(c).push(i):l.Xa.set(c,[i]),Z.snapshot}),Bd.apply(this,arguments)}function By(l,i){return ql.apply(this,arguments)}function ql(){return ql=(0,e.Z)(function*(l,i){const c=rn(l),h=c.Ya.get(i),g=c.Xa.get(h.targetId);if(g.length>1)return c.Xa.set(h.targetId,g.filter(y=>!wu(y,i))),void c.Ya.delete(i);c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(h.targetId),c.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Pd(c.localStore,h.targetId,!1).then(()=>{c.sharedClientState.clearQueryState(h.targetId),Bo(c.remoteStore,h.targetId),Ud(c,h.targetId)}).catch(Ou))):(Ud(c,h.targetId),yield Pd(c.localStore,h.targetId,!0))}),ql.apply(this,arguments)}function Bu(){return Bu=(0,e.Z)(function*(l,i,c){const h=fg(l);try{const g=yield function(y,D){const L=rn(y),Z=Yr.now(),te=D.reduce((je,ht)=>je.add(ht.key),Xr());let xe;return L.persistence.runTransaction("Locally write mutations","readwrite",je=>L.ui.Us(je,te).next(ht=>{xe=ht;const xt=[];for(const Bt of D){const kn=Sp(Bt,xe.get(Bt.key));null!=kn&&xt.push(new ps(Bt.key,kn,Tl(kn.value.mapValue),Zi.exists(!0)))}return L.Fs.addMutationBatch(je,Z,xt,D)})).then(je=>(je.applyToLocalDocumentSet(xe),{batchId:je.batchId,changes:xe}))}(h.localStore,i);h.sharedClientState.addPendingMutation(g.batchId),function(y,D,L){let Z=y.su[y.currentUser.toKey()];Z||(Z=new Mi(wr)),Z=Z.insert(D,L),y.su[y.currentUser.toKey()]=Z}(h,g.batchId,c),yield tl(h,g.changes),yield Oh(h.remoteStore)}catch(g){const y=Hl(g,"Failed to persist write");c.reject(y)}}),Bu.apply(this,arguments)}function Lm(l,i){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,e.Z)(function*(l,i){const c=rn(l);try{const h=yield Lf(c.localStore,i);i.targetChanges.forEach((g,y)=>{const D=c.eu.get(y);D&&(Jn(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?D.Ha=!0:g.modifiedDocuments.size>0?Jn(D.Ha):g.removedDocuments.size>0&&(Jn(D.Ha),D.Ha=!1))}),yield tl(c,h,i)}catch(h){yield Ou(h)}}),Fm.apply(this,arguments)}function l0(l,i,c){const h=rn(l);if(h.isPrimaryClient&&0===c||!h.isPrimaryClient&&1===c){const g=[];h.Ya.forEach((y,D)=>{const L=D.view.Ta(i);L.snapshot&&g.push(L.snapshot)}),function(y,D){const L=rn(y);L.onlineState=D;let Z=!1;L.queries.forEach((te,xe)=>{for(const je of xe.listeners)je.Ta(D)&&(Z=!0)}),Z&&Xa(L)}(h.eventManager,i),g.length&&h.Ja.Ko(g),h.onlineState=i,h.isPrimaryClient&&h.sharedClientState.setOnlineState(i)}}function kh(l,i,c){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,e.Z)(function*(l,i,c){const h=rn(l);h.sharedClientState.updateQueryState(i,"rejected",c);const g=h.eu.get(i),y=g&&g.key;if(y){let D=new Mi(hn.comparator);D=D.insert(y,fi.newNoDocument(y,Mn.min()));const L=Xr().add(y),Z=new gd(Mn.min(),new Map,new ri(wr),D,L);yield Lm(h,Z),h.tu=h.tu.remove(y),h.eu.delete(i),Lh(h)}else yield Pd(h.localStore,i,!1).then(()=>Ud(h,i,c)).catch(Ou)}),Bm.apply(this,arguments)}function u0(l,i){return Um.apply(this,arguments)}function Um(){return Um=(0,e.Z)(function*(l,i){const c=rn(l),h=i.batch.batchId;try{const g=yield kf(c.localStore,i);Qf(c,h,null),ug(c,h),c.sharedClientState.updateMutationState(h,"acknowledged"),yield tl(c,g)}catch(g){yield Ou(g)}}),Um.apply(this,arguments)}function Iv(l,i,c){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,e.Z)(function*(l,i,c){const h=rn(l);try{const g=yield function(y,D){const L=rn(y);return L.persistence.runTransaction("Reject batch","readwrite-primary",Z=>{let te;return L.Fs.lookupMutationBatch(Z,D).next(xe=>(Jn(null!==xe),te=xe.keys(),L.Fs.removeMutationBatch(Z,xe))).next(()=>L.Fs.performConsistencyCheck(Z)).next(()=>L.ui.Us(Z,te))})}(h.localStore,i);Qf(h,i,c),ug(h,i),h.sharedClientState.updateMutationState(i,"rejected",c),yield tl(h,g)}catch(g){yield Ou(g)}}),Ca.apply(this,arguments)}function ug(l,i){(l.iu.get(i)||[]).forEach(c=>{c.resolve()}),l.iu.delete(i)}function Qf(l,i,c){const h=rn(l);let g=h.su[h.currentUser.toKey()];if(g){const y=g.get(i);y&&(c?y.reject(c):y.resolve(),g=g.remove(i)),h.su[h.currentUser.toKey()]=g}}function Ud(l,i,c=null){l.sharedClientState.removeLocalQueryTarget(i);for(const h of l.Xa.get(i))l.Ya.delete(h),c&&l.Ja.uu(h,c);l.Xa.delete(i),l.isPrimaryClient&&l.nu.Ri(i).forEach(h=>{l.nu.containsKey(h)||Pv(l,h)})}function Pv(l,i){l.Za.delete(i.path.canonicalString());const c=l.tu.get(i);null!==c&&(Bo(l.remoteStore,c),l.tu=l.tu.remove(i),l.eu.delete(c),Lh(l))}function Ns(l,i,c){for(const h of c)h instanceof bc?(l.nu.addReference(h.key,i),ea(l,h)):h instanceof ec?(zt("SyncEngine","Document no longer in limbo: "+h.key),l.nu.removeReference(h.key,i),l.nu.containsKey(h.key)||Pv(l,h.key)):Rn()}function ea(l,i){const c=i.key,h=c.path.canonicalString();l.tu.get(c)||l.Za.has(h)||(zt("SyncEngine","New document in limbo: "+c),l.Za.add(h),Lh(l))}function Lh(l){for(;l.Za.size>0&&l.tu.size<l.maxConcurrentLimboResolutions;){const i=l.Za.values().next().value;l.Za.delete(i);const c=new hn($r.fromString(i)),h=l.ru.next();l.eu.set(h,new Nm(c)),l.tu=l.tu.insert(c,h),Xp(l.remoteStore,new _c(ni(zn(c.path)),h,2,Jr.A))}}function tl(l,i,c){return d0.apply(this,arguments)}function d0(){return d0=(0,e.Z)(function*(l,i,c){const h=rn(l),g=[],y=[],D=[];var L;h.Ya.isEmpty()||(h.Ya.forEach((L,Z)=>{D.push(h.au(Z,i,c).then(te=>{if(te){h.isPrimaryClient&&h.sharedClientState.updateQueryState(Z.targetId,te.fromCache?"not-current":"current"),g.push(te);const xe=Ya.Js(Z.targetId,te);y.push(xe)}}))}),yield Promise.all(D),h.Ja.Ko(g),yield(L=(0,e.Z)(function*(Z,te){const xe=rn(Z);try{yield xe.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>_t.forEach(te,ht=>_t.forEach(ht.zs,xt=>xe.persistence.referenceDelegate.addReference(je,ht.targetId,xt)).next(()=>_t.forEach(ht.Hs,xt=>xe.persistence.referenceDelegate.removeReference(je,ht.targetId,xt)))))}catch(je){if(!ms(je))throw je;zt("LocalStore","Failed to update sequence numbers: "+je)}for(const je of te){const ht=je.targetId;if(!je.fromCache){const xt=xe.si.get(ht),kn=xt.withLastLimboFreeSnapshotVersion(xt.snapshotVersion);xe.si=xe.si.insert(ht,kn)}}}),function(Z,te){return L.apply(this,arguments)})(h.localStore,y))}),d0.apply(this,arguments)}function h0(l,i){return jm.apply(this,arguments)}function jm(){return jm=(0,e.Z)(function*(l,i){const c=rn(l);if(!c.currentUser.isEqual(i)){zt("SyncEngine","User change. New user:",i.toKey());const h=yield kl(c.localStore,i);c.currentUser=i,(g=c).iu.forEach(D=>{D.forEach(L=>{L.reject(new It(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.iu.clear(),c.sharedClientState.handleUserChange(i,h.removedBatchIds,h.addedBatchIds),yield tl(c,h.ci)}var g}),jm.apply(this,arguments)}function Ov(l,i){const c=rn(l),h=c.eu.get(i);if(h&&h.Ha)return Xr().add(h.key);{let g=Xr();const y=c.Xa.get(i);if(!y)return g;for(const D of y){const L=c.Ya.get(D);g=g.unionWith(L.view.Ba)}return g}}function tp(l){const i=rn(l);return i.remoteStore.remoteSyncer.applyRemoteEvent=Lm.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ov.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=kh.bind(null,i),i.Ja.Ko=s0.bind(null,i.eventManager),i.Ja.uu=a0.bind(null,i.eventManager),i}function fg(l){const i=rn(l);return i.remoteStore.remoteSyncer.applySuccessfulWrite=u0.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=Iv.bind(null,i),i}class m0{constructor(){this.synchronizeTabs=!1}initialize(i){var c=this;return(0,e.Z)(function*(){c.M=kd(i.databaseInfo.databaseId),c.sharedClientState=c.hu(i),c.persistence=c.lu(i),yield c.persistence.start(),c.gcScheduler=c.fu(i),c.localStore=c.du(i)})()}fu(i){return null}du(i){return function Wp(l,i,c,h){return new Sh(l,i,c,h)}(this.persistence,new Mu,i.initialUser,this.M)}lu(i){return new Y_(Nd.Wi,this.M)}hu(i){return new es}terminate(){var i=this;return(0,e.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class _0{initialize(i,c){var h=this;return(0,e.Z)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(c),h.remoteStore=h.createRemoteStore(c),h.eventManager=h.createEventManager(c),h.syncEngine=h.createSyncEngine(c,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=g=>l0(h.syncEngine,g,1),h.remoteStore.remoteSyncer.handleCredentialChange=h0.bind(null,h.syncEngine),yield function ig(l,i){return Mh.apply(this,arguments)}(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Ly}createDatastore(i){const c=kd(i.databaseInfo.databaseId),h=new Ev(i.databaseInfo);return new ym(i.authCredentials,i.appCheckCredentials,h,c)}createRemoteStore(i){return c=this.localStore,h=this.datastore,g=i.asyncQueue,y=L=>l0(this.syncEngine,L,0),D=Nu.vt()?new Nu:new Kp,new bm(c,h,g,y,D);var c,h,g,y,D}createSyncEngine(i,c){return function(h,g,y,D,L,Z,te){const xe=new Rm(h,g,y,D,L,Z);return te&&(xe.ou=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,c)}terminate(){return(i=(0,e.Z)(function*(c){const h=rn(c);zt("RemoteStore","RemoteStore shutting down."),h.ha.add(5),yield Ld(h),h.fa.shutdown(),h.da.set("Unknown")}),function(c){return i.apply(this,arguments)})(this.remoteStore);var i}}class qm{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.wu(this.observer.next,i)}error(i){this.observer.error?this.wu(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}mu(){this.muted=!0}wu(i,c){this.muted||setTimeout(()=>{this.muted||i(c)},0)}}class pg{constructor(i,c,h,g){var y=this;this.authCredentials=i,this.appCheckCredentials=c,this.asyncQueue=h,this.databaseInfo=g,this.user=to.UNAUTHENTICATED,this.clientId=Do.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(h,function(){var D=(0,e.Z)(function*(L){zt("FirestoreClient","Received user=",L.uid),yield y.authCredentialListener(L),y.user=L});return function(L){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(h,D=>(zt("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var i=this;return(0,e.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,authCredentials:i.authCredentials,appCheckCredentials:i.appCheckCredentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new It(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const c=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,e.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),c.resolve()}catch(h){const g=Hl(h,"Failed to shutdown persistence");c.reject(g)}})),c.promise}}function zm(l,i){return jd.apply(this,arguments)}function jd(){return jd=(0,e.Z)(function*(l,i){l.asyncQueue.verifyOperationInProgress(),zt("FirestoreClient","Initializing OfflineComponentProvider");const c=yield l.getConfiguration();yield i.initialize(c);let h=c.initialUser;l.setCredentialChangeListener(function(){var g=(0,e.Z)(function*(y){h.isEqual(y)||(yield kl(i.localStore,y),h=y)});return function(y){return g.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>l.terminate()),l.offlineComponents=i}),jd.apply(this,arguments)}function ip(l,i){return na.apply(this,arguments)}function na(){return na=(0,e.Z)(function*(l,i){l.asyncQueue.verifyOperationInProgress();const c=yield Vd(l);zt("FirestoreClient","Initializing OnlineComponentProvider");const h=yield l.getConfiguration();yield i.initialize(c,h),l.setCredentialChangeListener(g=>Zf(i.remoteStore,g)),l.setAppCheckTokenChangeListener((g,y)=>Zf(i.remoteStore,y)),l.onlineComponents=i}),na.apply(this,arguments)}function Vd(l){return ts.apply(this,arguments)}function ts(){return ts=(0,e.Z)(function*(l){return l.offlineComponents||(zt("FirestoreClient","Using default OfflineComponentProvider"),yield zm(l,new m0)),l.offlineComponents}),ts.apply(this,arguments)}function rl(l){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,e.Z)(function*(l){return l.onlineComponents||(zt("FirestoreClient","Using default OnlineComponentProvider"),yield ip(l,new _0)),l.onlineComponents}),Fh.apply(this,arguments)}function Da(l){return ra.apply(this,arguments)}function ra(){return ra=(0,e.Z)(function*(l){const i=yield rl(l),c=i.eventManager;return c.onListen=c0.bind(null,i.syncEngine),c.onUnlisten=By.bind(null,i.syncEngine),c}),ra.apply(this,arguments)}const gg=new Map;function jh(l,i,c){if(!c)throw new It(pt.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${i}.`)}function Vh(l){if(!hn.isDocumentKey(l))throw new It(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Zl(l){if(hn.isDocumentKey(l))throw new It(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function qd(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const i=(c=l).constructor?c.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var c;return"function"==typeof l?"a function":Rn()}function Hr(l,i){if("_delegate"in l&&(l=l._delegate),!(l instanceof i)){if(i.name===l.constructor.name)throw new It(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const c=qd(l);throw new It(pt.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${c}`)}}return l}class mg{constructor(i){var c;if(void 0===i.host){if(void 0!==i.ssl)throw new It(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(c=i.ssl)||void 0===c||c;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new It(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,function $m(l,i,c,h){if(!0===i&&!0===h)throw new It(pt.INVALID_ARGUMENT,`${l} and ${c} cannot be used together.`)}("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Uu{constructor(i,c,h){this._authCredentials=c,this._appCheckCredentials=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mg({}),this._settingsFrozen=!1,i instanceof uc?this._databaseId=i:(this._app=i,this._databaseId=function(g){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new It(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(g.options.projectId)}(i))}get app(){if(!this._app)throw new It(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new It(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mg(i),void 0!==i.credentials&&(this._authCredentials=function(c){if(!c)return new Qn;switch(c.type){case"gapi":const h=c.client;return Jn(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new uf(h,c.sessionIndex||"0",c.iamToken||null);case"provider":return c.client;default:throw new It(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const c=gg.get(i);c&&(zt("ComponentProvider","Removing Datastore"),gg.delete(i),c.terminate())}(this),Promise.resolve()}}class $i{constructor(i,c,h){this.converter=c,this._key=h,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new $i(this.firestore,i,this._key)}}class ns{constructor(i,c,h){this.converter=c,this._query=h,this.type="query",this.firestore=i}withConverter(i){return new ns(this.firestore,i,this._query)}}class Sa extends ns{constructor(i,c,h){super(i,c,zn(h)),this._path=h,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new $i(this.firestore,null,new hn(i))}withConverter(i){return new Sa(this.firestore,i,this._path)}}function Km(l,i,...c){if(l=(0,P.m9)(l),jh("collection","path",i),l instanceof Uu){const h=$r.fromString(i,...c);return Zl(h),new Sa(l,null,h)}{if(!(l instanceof $i||l instanceof Sa))throw new It(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=l._path.child($r.fromString(i,...c));return Zl(h),new Sa(l.firestore,null,h)}}function oa(l,i,...c){if(l=(0,P.m9)(l),1===arguments.length&&(i=Do.R()),jh("doc","path",i),l instanceof Uu){const h=$r.fromString(i,...c);return Vh(h),new $i(l,null,new hn(h))}{if(!(l instanceof $i||l instanceof Sa))throw new It(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=l._path.child($r.fromString(i,...c));return Vh(h),new $i(l.firestore,l instanceof Sa?l.converter:null,new hn(h))}}class Jm{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new ku(this,"async_queue_retry"),this.Fu=()=>{const c=jf();c&&zt("AsyncQueue","Visibility state changed to "+c.visibilityState),this.vo.To()};const i=jf();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Bu(),this.Lu(i)}enterRestrictedMode(i){if(!this.xu){this.xu=!0,this.Ou=i||!1;const c=jf();c&&"function"==typeof c.removeEventListener&&c.removeEventListener("visibilitychange",this.Fu)}}enqueue(i){if(this.Bu(),this.xu)return new Promise(()=>{});const c=new Wr;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(i().then(c.resolve,c.reject),c.promise)).then(()=>c.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Cu.push(i),this.qu()))}qu(){var i=this;return(0,e.Z)(function*(){if(0!==i.Cu.length){try{yield i.Cu[0](),i.Cu.shift(),i.vo.reset()}catch(c){if(!ms(c))throw c;zt("AsyncQueue","Operation failed with retryable error: "+c)}i.Cu.length>0&&i.vo.po(()=>i.qu())}})()}Lu(i){const c=this.Du.then(()=>(this.Mu=!0,i().catch(h=>{throw this.ku=h,this.Mu=!1,cr("INTERNAL UNHANDLED ERROR: ",function(y){let D=y.message||"";return y.stack&&(D=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),D}(h)),h}).then(h=>(this.Mu=!1,h))));return this.Du=c,c}enqueueAfterDelay(i,c,h){this.Bu(),this.$u.indexOf(i)>-1&&(c=0);const g=zf.createAndSchedule(this,i,c,h,y=>this.Uu(y));return this.Nu.push(g),g}Bu(){this.ku&&Rn()}verifyOperationInProgress(){}Ku(){var i=this;return(0,e.Z)(function*(){let c;do{c=i.Du,yield c}while(c!==i.Du)})()}Gu(i){for(const c of this.Nu)if(c.timerId===i)return!0;return!1}Qu(i){return this.Ku().then(()=>{this.Nu.sort((c,h)=>c.targetTimeMs-h.targetTimeMs);for(const c of this.Nu)if(c.skipDelay(),"all"!==i&&c.timerId===i)break;return this.Ku()})}ju(i){this.$u.push(i)}Uu(i){const c=this.Nu.indexOf(i);this.Nu.splice(c,1)}}function Ym(l){return function(i,c){if("object"!=typeof i||null===i)return!1;const h=i;for(const g of["next","error","complete"])if(g in h&&"function"==typeof h[g])return!0;return!1}(l)}class Ki extends Uu{constructor(i,c,h){super(i,c,h),this.type="firestore",this._queue=new Jm,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||C0(this),this._firestoreClient.terminate()}}function Qm(l=(0,C.getApp)()){return(0,C._getProvider)(l,"firestore").getImmediate()}function _o(l){return l._firestoreClient||C0(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function C0(l){var i;const c=l._freezeSettings(),h=(y=(null===(i=l._app)||void 0===i?void 0:i.options.appId)||"",new id(l._databaseId,y,l._persistenceKey,(L=c).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,L.useFetchStreams));var y,L;l._firestoreClient=new pg(l._authCredentials,l._appCheckCredentials,l._queue,h)}class Hh{constructor(...i){for(let c=0;c<i.length;++c)if(0===i[c].length)throw new It(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gi(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class ju{constructor(i){this._byteString=i}static fromBase64String(i){try{return new ju(_i.fromBase64String(i))}catch(c){throw new It(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+c)}}static fromUint8Array(i){return new ju(_i.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class e_{constructor(i){this._methodName=i}}class lp{constructor(i,c){if(!isFinite(i)||i<-90||i>90)throw new It(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(c)||c<-180||c>180)throw new It(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+c);this._lat=i,this._long=c}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return wr(this._lat,i._lat)||wr(this._long,i._long)}}const kv=/^__.*__$/;class up{constructor(i,c,h){this.data=i,this.fieldMask=c,this.fieldTransforms=h}toMutation(i,c){return null!==this.fieldMask?new ps(i,this.data,this.fieldMask,c,this.fieldTransforms):new ud(i,this.data,c,this.fieldTransforms)}}class Lv{constructor(i,c,h){this.data=i,this.fieldMask=c,this.fieldTransforms=h}toMutation(i,c){return new ps(i,this.data,this.fieldMask,c,this.fieldTransforms)}}function vg(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rn()}}class yg{constructor(i,c,h,g,y,D){this.settings=i,this.databaseId=c,this.M=h,this.ignoreUndefinedProperties=g,void 0===y&&this.Wu(),this.fieldTransforms=y||[],this.fieldMask=D||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(i){return new yg(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(i){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(i),g=this.Hu({path:h,Yu:!1});return g.Xu(i),g}Zu(i){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(i),g=this.Hu({path:h,Yu:!1});return g.Wu(),g}tc(i){return this.Hu({path:void 0,Yu:!0})}ec(i){return hp(i,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(i){return void 0!==this.fieldMask.find(c=>i.isPrefixOf(c))||void 0!==this.fieldTransforms.find(c=>i.isPrefixOf(c.field))}Wu(){if(this.path)for(let i=0;i<this.path.length;i++)this.Xu(this.path.get(i))}Xu(i){if(0===i.length)throw this.ec("Document fields must not be empty");if(vg(this.zu)&&kv.test(i))throw this.ec('Document fields cannot begin and end with "__"')}}class Wy{constructor(i,c,h){this.databaseId=i,this.ignoreUndefinedProperties=c,this.M=h||kd(i)}ic(i,c,h,g=!1){return new yg({zu:i,methodName:c,sc:h,path:Gi.emptyPath(),Yu:!1,nc:g},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ol(l){const i=l._freezeSettings(),c=kd(l._databaseId);return new Wy(l._databaseId,!!i.ignoreUndefinedProperties,c)}function Li(l,i,c,h,g,y={}){const D=l.ic(y.merge||y.mergeFields?2:0,i,c,g);dp("Data must be an object, but it was:",D,h);const L=wg(h,D);let Z,te;if(y.merge)Z=new Zo(D.fieldMask),te=D.fieldTransforms;else if(y.mergeFields){const xe=[];for(const je of y.mergeFields){const ht=Tg(i,je,c);if(!D.contains(ht))throw new It(pt.INVALID_ARGUMENT,`Field '${ht}' is specified in your field mask but missing from your input data.`);x0(xe,ht)||xe.push(ht)}Z=new Zo(xe),te=D.fieldTransforms.filter(je=>Z.covers(je.field))}else Z=null,te=D.fieldTransforms;return new up(new hi(L),Z,te)}class Vu extends e_{_toFieldTransform(i){if(2!==i.zu)throw i.ec(1===i.zu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof Vu}}function al(l,i){if(n_(l=(0,P.m9)(l)))return dp("Unsupported field value:",i,l),wg(l,i);if(l instanceof e_)return function(c,h){if(!vg(h.zu))throw h.ec(`${c._methodName}() can only be used with update() and set()`);if(!h.path)throw h.ec(`${c._methodName}() is not currently supported inside arrays`);const g=c._toFieldTransform(h);g&&h.fieldTransforms.push(g)}(l,i),null;if(void 0===l&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),l instanceof Array){if(i.settings.Yu&&4!==i.zu)throw i.ec("Nested arrays are not supported");return function(c,h){const g=[];let y=0;for(const D of c){let L=al(D,h.tc(y));null==L&&(L={nullValue:"NULL_VALUE"}),g.push(L),y++}return{arrayValue:{values:g}}}(l,i)}return function(c,h){if(null===(c=(0,P.m9)(c)))return{nullValue:"NULL_VALUE"};if("number"==typeof c)return Tp(h.M,c);if("boolean"==typeof c)return{booleanValue:c};if("string"==typeof c)return{stringValue:c};if(c instanceof Date){const g=Yr.fromDate(c);return{timestampValue:Ci(h.M,g)}}if(c instanceof Yr){const g=new Yr(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:Ci(h.M,g)}}if(c instanceof lp)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof ju)return{bytesValue:Np(h.M,c._byteString)};if(c instanceof $i){const g=h.databaseId,y=c.firestore._databaseId;if(!y.isEqual(g))throw h.ec(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:fh(c.firestore._databaseId||h.databaseId,c._key.path)}}throw h.ec(`Unsupported field value: ${qd(c)}`)}(l,i)}function wg(l,i){const c={};return Ts(l)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):bi(l,(h,g)=>{const y=al(g,i.Ju(h));null!=y&&(c[h]=y)}),{mapValue:{fields:c}}}function n_(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Yr||l instanceof lp||l instanceof ju||l instanceof $i||l instanceof e_)}function dp(l,i,c){if(!n_(c)||"object"!=typeof(h=c)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const h=qd(c);throw i.ec("an object"===h?l+" a custom object":l+" "+h)}var h}function Tg(l,i,c){if((i=(0,P.m9)(i))instanceof Hh)return i._internalPath;if("string"==typeof i)return Zh(l,i);throw hp("Field path arguments must be of type string or ",l,!1,void 0,c)}const S0=new RegExp("[~\\*/\\[\\]]");function Zh(l,i,c){if(i.search(S0)>=0)throw hp(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,c);try{return new Hh(...i.split("."))._internalPath}catch(h){throw hp(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,c)}}function hp(l,i,c,h,g){const y=h&&!h.isEmpty(),D=void 0!==g;let L=`Function ${i}() called with invalid data`;c&&(L+=" (via `toFirestore()`)"),L+=". ";let Z="";return(y||D)&&(Z+=" (found",y&&(Z+=` in field ${h}`),D&&(Z+=` in document ${g}`),Z+=")"),new It(pt.INVALID_ARGUMENT,L+l+Z)}function x0(l,i){return l.some(c=>c.isEqual(i))}class Eg{constructor(i,c,h,g,y){this._firestore=i,this._userDataWriter=c,this._key=h,this._document=g,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new A0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const c=this._document.data.field(zh("DocumentSnapshot.get",i));if(null!==c)return this._userDataWriter.convertValue(c)}}}class A0 extends Eg{data(){return super.data()}}function zh(l,i){return"string"==typeof i?Zh(l,i):i instanceof Hh?i._internalPath:i._delegate._internalPath}class Gu{constructor(i,c){this.hasPendingWrites=i,this.fromCache=c}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Wh extends Eg{constructor(i,c,h,g,y,D){super(i,c,h,g,D),this._firestore=i,this._firestoreImpl=i,this.metadata=y}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const c=new fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(c,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,c={}){if(this._document){const h=this._document.data.field(zh("DocumentSnapshot.get",i));if(null!==h)return this._userDataWriter.convertValue(h,c.serverTimestamps)}}}class fp extends Wh{data(i={}){return super.data(i)}}class Zd{constructor(i,c,h,g){this._firestore=i,this._userDataWriter=c,this._snapshot=g,this.metadata=new Gu(g.hasPendingWrites,g.fromCache),this.query=h}get docs(){const i=[];return this.forEach(c=>i.push(c)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,c){this._snapshot.docs.forEach(h=>{i.call(c,new fp(this._firestore,this._userDataWriter,h.key,h,new Gu(this._snapshot.mutatedKeys.has(h.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const c=!!i.includeMetadataChanges;if(c&&this._snapshot.excludesMetadataChanges)throw new It(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===c||(this._cachedChanges=function(h,g){if(h._snapshot.oldDocs.isEmpty()){let y=0;return h._snapshot.docChanges.map(D=>({type:"added",doc:new fp(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Gu(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:y++}))}{let y=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(D=>g||3!==D.type).map(D=>{const L=new fp(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Gu(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter);let Z=-1,te=-1;return 0!==D.type&&(Z=y.indexOf(D.doc.key),y=y.delete(D.doc.key)),1!==D.type&&(y=y.add(D.doc),te=y.indexOf(D.doc.key)),{type:r_(D.type),doc:L,oldIndex:Z,newIndex:te}})}}(this,c),this._cachedChangesIncludeMetadataChanges=c),this._cachedChanges}}function r_(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rn()}}function Hu(l,i,c){let h;return h=l?c&&(c.merge||c.mergeFields)?l.toFirestore(i,c):l.toFirestore(i):i,h}class Gv{constructor(i,c){this._firestore=i,this._commitHandler=c,this._mutations=[],this._committed=!1,this._dataReader=ol(i)}set(i,c,h){this._verifyNotCommitted();const g=pp(i,this._firestore),y=Hu(g.converter,c,h),D=Li(this._dataReader,"WriteBatch.set",g._key,y,null!==g.converter,h);return this._mutations.push(D.toMutation(g._key,Zi.none())),this}update(i,c,h,...g){this._verifyNotCommitted();const y=pp(i,this._firestore);let D;return D="string"==typeof(c=(0,P.m9)(c))||c instanceof Hh?function D0(l,i,c,h,g,y){const D=l.ic(1,i,c),L=[Tg(i,h,c)],Z=[g];if(y.length%2!=0)throw new It(pt.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ht=0;ht<y.length;ht+=2)L.push(Tg(i,y[ht])),Z.push(y[ht+1]);const te=[],xe=hi.empty();for(let ht=L.length-1;ht>=0;--ht)if(!x0(te,L[ht])){const xt=L[ht];let Bt=Z[ht];Bt=(0,P.m9)(Bt);const kn=D.Zu(xt);if(Bt instanceof Vu)te.push(xt);else{const yr=al(Bt,kn);null!=yr&&(te.push(xt),xe.set(xt,yr))}}const je=new Zo(te);return new Lv(xe,je,D.fieldTransforms)}(this._dataReader,"WriteBatch.update",y._key,c,h,g):function wc(l,i,c,h){const g=l.ic(1,i,c);dp("Data must be an object, but it was:",g,h);const y=[],D=hi.empty();bi(h,(Z,te)=>{const xe=Zh(i,Z,c);te=(0,P.m9)(te);const je=g.Zu(xe);if(te instanceof Vu)y.push(xe);else{const ht=al(te,je);null!=ht&&(y.push(xe),D.set(xe,ht))}});const L=new Zo(y);return new Lv(D,L,g.fieldTransforms)}(this._dataReader,"WriteBatch.update",y._key,c),this._mutations.push(D.toMutation(y._key,Zi.exists(!0))),this}delete(i){this._verifyNotCommitted();const c=pp(i,this._firestore);return this._mutations=this._mutations.concat(new ch(c._key,Zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new It(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pp(l,i){if((l=(0,P.m9)(l)).firestore!==i)throw new It(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class Wl extends class R0{convertValue(i,c="none"){switch(hc(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Qr(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,c);case 5:return i.stringValue;case 6:return this.convertBytes(no(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,c);case 10:return this.convertObject(i.mapValue,c);default:throw Rn()}}convertObject(i,c){const h={};return bi(i.fields,(g,y)=>{h[g]=this.convertValue(y,c)}),h}convertGeoPoint(i){return new lp(Qr(i.latitude),Qr(i.longitude))}convertArray(i,c){return(i.values||[]).map(h=>this.convertValue(h,c))}convertServerTimestamp(i,c){switch(c){case"previous":const h=Cl(i);return null==h?null:this.convertValue(h,c);case"estimate":return this.convertTimestamp(zo(i));default:return null}}convertTimestamp(i){const c=So(i);return new Yr(c.seconds,c.nanos)}convertDocumentKey(i,c){const h=$r.fromString(i);Jn(gh(h));const g=new uc(h.get(1),h.get(3)),y=new hn(h.popFirst(5));return g.isEqual(c)||cr(`Document ${y} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${c.projectId}/${c.database}) instead.`),y}}{constructor(i){super(),this.firestore=i}convertBytes(i){return new ju(i)}convertReference(i){const c=this.convertDocumentKey(i,this.firestore._databaseId);return new $i(this.firestore,null,c)}}function l_(l,i,c){l=Hr(l,$i);const h=Hr(l.firestore,Ki),g=Hu(l.converter,i,c);return $h(h,[Li(ol(h),"setDoc",l._key,g,null!==l.converter,c).toMutation(l._key,Zi.none())])}function is(l){return $h(Hr(l.firestore,Ki),[new ch(l._key,Zi.none())])}function ll(l,i){const c=Hr(l.firestore,Ki),h=oa(l),g=Hu(l.converter,i);return $h(c,[Li(ol(l.firestore),"addDoc",h._key,g,null!==l.converter,{}).toMutation(h._key,Zi.exists(!1))]).then(()=>h)}function F0(l,...i){var c,h,g;l=(0,P.m9)(l);let y={includeMetadataChanges:!1},D=0;"object"!=typeof i[D]||Ym(i[D])||(y=i[D],D++);const L={includeMetadataChanges:y.includeMetadataChanges};if(Ym(i[D])){const je=i[D];i[D]=null===(c=je.next)||void 0===c?void 0:c.bind(je),i[D+1]=null===(h=je.error)||void 0===h?void 0:h.bind(je),i[D+2]=null===(g=je.complete)||void 0===g?void 0:g.bind(je)}let Z,te,xe;if(l instanceof $i)te=Hr(l.firestore,Ki),xe=zn(l._key.path),Z={next:je=>{i[D]&&i[D](function Sg(l,i,c){const h=c.docs.get(i._key),g=new Wl(l);return new Wh(l,g,i._key,h,new Gu(c.hasPendingWrites,c.fromCache),i.converter)}(te,l,je))},error:i[D+1],complete:i[D+2]};else{const je=Hr(l,ns);te=Hr(je.firestore,Ki),xe=je._query;const ht=new Wl(te);Z={next:xt=>{i[D]&&i[D](new Zd(te,ht,je,xt))},error:i[D+1],complete:i[D+2]},function o_(l){if(Oi(l)&&0===l.explicitOrderBy.length)throw new It(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(l._query)}return function(je,ht,xt,Bt){const kn=new qm(Bt),yr=new Rh(ht,kn,xt);return je.asyncQueue.enqueueAndForget((0,e.Z)(function*(){return function Wf(l,i){return $f.apply(this,arguments)}(yield Da(je),yr)})),()=>{kn.mu(),je.asyncQueue.enqueueAndForget((0,e.Z)(function*(){return function sg(l,i){return ag.apply(this,arguments)}(yield Da(je),yr)}))}}(_o(te),xe,L,Z)}function $h(l,i){return function(c,h){const g=new Wr;return c.asyncQueue.enqueueAndForget((0,e.Z)(function*(){return function km(l,i,c){return Bu.apply(this,arguments)}(yield function il(l){return rl(l).then(i=>i.syncEngine)}(c),h,g)})),g.promise}(_o(l),i)}function h_(l){return _o(l=Hr(l,Ki)),new Gv(l,i=>$h(l,i))}!function(l,i=!0){ko=C.SDK_VERSION,(0,C._registerComponent)(new E.wA("firestore",(c,{options:h})=>{const g=c.getProvider("app").getImmediate(),y=new Ki(g,new lf(c.getProvider("auth-internal")),new lc(c.getProvider("app-check-internal")));return h=Object.assign({useFetchStreams:i},h),y._setSettings(h),y},"PUBLIC")),(0,C.registerVersion)(nd,"3.4.6",l),(0,C.registerVersion)(nd,"3.4.6","esm2017")}()},5199:(tt,A,O)=>{tt=O.nmd(tt);var C="__lodash_hash_undefined__",P=9007199254740991,V="[object Arguments]",ae="[object Function]",le="[object Object]",wt=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,At={};At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At[V]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object Boolean]"]=At["[object DataView]"]=At["[object Date]"]=At["[object Error]"]=At[ae]=At["[object Map]"]=At["[object Number]"]=At[le]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object WeakMap]"]=!1;var an="object"==typeof global&&global&&global.Object===Object&&global,er="object"==typeof self&&self&&self.Object===Object&&self,Ln=an||er||Function("return this")(),vr=A&&!A.nodeType&&A,ir=vr&&tt&&!tt.nodeType&&tt,Yn=ir&&ir.exports===vr,qr=Yn&&an.process,mr=function(){try{return ir&&ir.require&&ir.require("util").types||qr&&qr.binding&&qr.binding("util")}catch(we){}}(),Ir=mr&&mr.isTypedArray;function Bi(J,we,Ae){switch(Ae.length){case 0:return J.call(we);case 1:return J.call(we,Ae[0]);case 2:return J.call(we,Ae[0],Ae[1]);case 3:return J.call(we,Ae[0],Ae[1],Ae[2])}return J.apply(we,Ae)}var J,gn=Array.prototype,Vr=Object.prototype,Zr=Ln["__core-js_shared__"],Re=Function.prototype.toString,Qe=Vr.hasOwnProperty,ct=(J=/[^.]+$/.exec(Zr&&Zr.keys&&Zr.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",Xe=Vr.toString,vt=Re.call(Object),kt=RegExp("^"+Re.call(Qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=Yn?Ln.Buffer:void 0,Ct=Ln.Symbol,Ft=Ln.Uint8Array,mn=Pt?Pt.allocUnsafe:void 0,en=function Di(J,we){return function(Ae){return J(we(Ae))}}(Object.getPrototypeOf,Object),Qt=Object.create,Pn=Vr.propertyIsEnumerable,Cn=gn.splice,Wn=Ct?Ct.toStringTag:void 0,Ht=function(){try{var J=Mr(Object,"defineProperty");return J({},"",{}),J}catch(we){}}(),br=Pt?Pt.isBuffer:void 0,En=Math.max,Tt=Date.now,et=Mr(Ln,"Map"),jt=Mr(Object,"create"),Wt=function(){function J(){}return function(we){if(!be(we))return{};if(Qt)return Qt(we);J.prototype=we;var Ae=new J;return J.prototype=void 0,Ae}}();function An(J){var we=-1,Ae=null==J?0:J.length;for(this.clear();++we<Ae;){var at=J[we];this.set(at[0],at[1])}}function Le(J){var we=-1,Ae=null==J?0:J.length;for(this.clear();++we<Ae;){var at=J[we];this.set(at[0],at[1])}}function tr(J){var we=-1,Ae=null==J?0:J.length;for(this.clear();++we<Ae;){var at=J[we];this.set(at[0],at[1])}}function cn(J){var we=this.__data__=new Le(J);this.size=we.size}function qt(J,we,Ae){(void 0!==Ae&&!Cs(J[we],Ae)||void 0===Ae&&!(we in J))&&Tn(J,we,Ae)}function Xt(J,we,Ae){var at=J[we];(!Qe.call(J,we)||!Cs(at,Ae)||void 0===Ae&&!(we in J))&&Tn(J,we,Ae)}function on(J,we){for(var Ae=J.length;Ae--;)if(Cs(J[Ae][0],we))return Ae;return-1}function Tn(J,we,Ae){"__proto__"==we&&Ht?Ht(J,we,{configurable:!0,enumerable:!0,value:Ae,writable:!0}):J[we]=Ae}An.prototype.clear=function vn(){this.__data__=jt?jt(null):{},this.size=0},An.prototype.delete=function ye(J){var we=this.has(J)&&delete this.__data__[J];return this.size-=we?1:0,we},An.prototype.get=function pe(J){var we=this.__data__;if(jt){var Ae=we[J];return Ae===C?void 0:Ae}return Qe.call(we,J)?we[J]:void 0},An.prototype.has=function me(J){var we=this.__data__;return jt?void 0!==we[J]:Qe.call(we,J)},An.prototype.set=function ze(J,we){var Ae=this.__data__;return this.size+=this.has(J)?0:1,Ae[J]=jt&&void 0===we?C:we,this},Le.prototype.clear=function Rt(){this.__data__=[],this.size=0},Le.prototype.delete=function wn(J){var we=this.__data__,Ae=on(we,J);return!(Ae<0||(Ae==we.length-1?we.pop():Cn.call(we,Ae,1),--this.size,0))},Le.prototype.get=function On(J){var we=this.__data__,Ae=on(we,J);return Ae<0?void 0:we[Ae][1]},Le.prototype.has=function or(J){return on(this.__data__,J)>-1},Le.prototype.set=function Gn(J,we){var Ae=this.__data__,at=on(Ae,J);return at<0?(++this.size,Ae.push([J,we])):Ae[at][1]=we,this},tr.prototype.clear=function tn(){this.size=0,this.__data__={hash:new An,map:new(et||Le),string:new An}},tr.prototype.delete=function Dn(J){var we=ar(this,J).delete(J);return this.size-=we?1:0,we},tr.prototype.get=function nn(J){return ar(this,J).get(J)},tr.prototype.has=function Fe(J){return ar(this,J).has(J)},tr.prototype.set=function st(J,we){var Ae=ar(this,J),at=Ae.size;return Ae.set(J,we),this.size+=Ae.size==at?0:1,this},cn.prototype.clear=function Fn(){this.__data__=new Le,this.size=0},cn.prototype.delete=function sr(J){var we=this.__data__,Ae=we.delete(J);return this.size=we.size,Ae},cn.prototype.get=function Vt(J){return this.__data__.get(J)},cn.prototype.has=function Ut(J){return this.__data__.has(J)},cn.prototype.set=function Ve(J,we){var Ae=this.__data__;if(Ae instanceof Le){var at=Ae.__data__;if(!et||at.length<199)return at.push([J,we]),this.size=++Ae.size,this;Ae=this.__data__=new tr(at)}return Ae.set(J,we),this.size=Ae.size,this};var jn=function Ot(J){return function(we,Ae,at){for(var Zt=-1,dn=Object(we),sn=at(we),_n=sn.length;_n--;){var Kn=sn[J?_n:++Zt];if(!1===Ae(dn[Kn],Kn,dn))break}return we}}();function ln(J){return null==J?void 0===J?"[object Undefined]":"[object Null]":Wn&&Wn in Object(J)?function pr(J){var we=Qe.call(J,Wn),Ae=J[Wn];try{J[Wn]=void 0;var at=!0}catch(dn){}var Zt=Xe.call(J);return at&&(we?J[Wn]=Ae:delete J[Wn]),Zt}(J):function Mo(J){return Xe.call(J)}(J)}function Nn(J){return re(J)&&ln(J)==V}function Tr(J,we,Ae,at,Zt){J!==we&&jn(we,function(dn,sn){if(Zt||(Zt=new cn),be(dn))!function bo(J,we,Ae,at,Zt,dn,sn){var _n=Ls(J,Ae),Kn=Ls(we,Ae),zr=sn.get(Kn);if(zr)qt(J,Ae,zr);else{var Fr=dn?dn(_n,Kn,Ae+"",J,we,sn):void 0,eo=void 0===Fr;if(eo){var Bs=Co(Kn),xr=!Bs&&Oa(Kn),sc=!Bs&&!xr&&U(Kn);Fr=Kn,Bs||xr||sc?Co(_n)?Fr=_n:function No(J){return re(J)&&as(J)}(_n)?Fr=function Me(J,we){var Ae=-1,at=J.length;for(we||(we=Array(at));++Ae<at;)we[Ae]=J[Ae];return we}(_n):xr?(eo=!1,Fr=function Xi(J,we){if(we)return J.slice();var Ae=J.length,at=mn?mn(Ae):new J.constructor(Ae);return J.copy(at),at}(Kn,!0)):sc?(eo=!1,Fr=function ke(J,we){var Ae=we?function Or(J){var we=new J.constructor(J.byteLength);return new Ft(we).set(new Ft(J)),we}(J.buffer):J.buffer;return new J.constructor(Ae,J.byteOffset,J.length)}(Kn,!0)):Fr=[]:function M(J){if(!re(J)||ln(J)!=le)return!1;var we=en(J);if(null===we)return!0;var Ae=Qe.call(we,"constructor")&&we.constructor;return"function"==typeof Ae&&Ae instanceof Ae&&Re.call(Ae)==vt}(Kn)||Fs(Kn)?(Fr=_n,Fs(_n)?Fr=function G(J){return function ot(J,we,Ae,at){var Zt=!Ae;Ae||(Ae={});for(var dn=-1,sn=we.length;++dn<sn;){var _n=we[dn],Kn=at?at(Ae[_n],J[_n],_n,Ae,J):void 0;void 0===Kn&&(Kn=J[_n]),Zt?Tn(Ae,_n,Kn):Xt(Ae,_n,Kn)}return Ae}(J,ue(J))}(_n):(!be(_n)||Ho(_n))&&(Fr=function ui(J){return"function"!=typeof J.constructor||Ia(J)?{}:Wt(en(J))}(Kn))):eo=!1}eo&&(sn.set(Kn,Fr),Zt(Fr,Kn,at,dn,sn),sn.delete(Kn)),qt(J,Ae,Fr)}}(J,we,sn,Ae,Tr,at,Zt);else{var _n=at?at(Ls(J,sn),dn,sn+"",J,we,Zt):void 0;void 0===_n&&(_n=dn),qt(J,sn,_n)}},ue)}function Ui(J,we){return Si(function aa(J,we,Ae){return we=En(void 0===we?J.length-1:we,0),function(){for(var at=arguments,Zt=-1,dn=En(at.length-we,0),sn=Array(dn);++Zt<dn;)sn[Zt]=at[we+Zt];Zt=-1;for(var _n=Array(we+1);++Zt<we;)_n[Zt]=at[Zt];return _n[we]=Ae(sn),Bi(J,this,_n)}}(J,we,Te),J+"")}var nr=Ht?function(J,we){return Ht(J,"toString",{configurable:!0,enumerable:!1,value:fe(we),writable:!0})}:Te;function Jt(J,we,Ae,at,Zt,dn){return be(J)&&be(we)&&(dn.set(we,J),Tr(J,we,void 0,Jt,dn),dn.delete(we)),J}function ar(J,we){var Ae=J.__data__;return function ks(J){var we=typeof J;return"string"==we||"number"==we||"symbol"==we||"boolean"==we?"__proto__"!==J:null===J}(we)?Ae["string"==typeof we?"string":"hash"]:Ae.map}function Mr(J,we){var Ae=function jr(J,we){return null==J?void 0:J[we]}(J,we);return function Cr(J){return!(!be(J)||function ji(J){return!!ct&&ct in J}(J))&&(Ho(J)?kt:wt).test(function Dc(J){if(null!=J){try{return Re.call(J)}catch(we){}try{return J+""}catch(we){}}return""}(J))}(Ae)?Ae:void 0}function ss(J,we){var Ae=typeof J;return!!(we=null==we?P:we)&&("number"==Ae||"symbol"!=Ae&&mt.test(J))&&J>-1&&J%1==0&&J<we}function Ia(J){var we=J&&J.constructor;return J===("function"==typeof we&&we.prototype||Vr)}function Ls(J,we){if(("constructor"!==we||"function"!=typeof J[we])&&"__proto__"!=we)return J[we]}var Si=function bs(J){var we=0,Ae=0;return function(){var at=Tt(),Zt=16-(at-Ae);if(Ae=at,Zt>0){if(++we>=800)return arguments[0]}else we=0;return J.apply(void 0,arguments)}}(nr);function Cs(J,we){return J===we||J!=J&&we!=we}var Fs=Nn(function(){return arguments}())?Nn:function(J){return re(J)&&Qe.call(J,"callee")&&!Pn.call(J,"callee")},Co=Array.isArray;function as(J){return null!=J&&ce(J.length)&&!Ho(J)}var Oa=br||function $e(){return!1};function Ho(J){if(!be(J))return!1;var we=ln(J);return we==ae||"[object GeneratorFunction]"==we||"[object AsyncFunction]"==we||"[object Proxy]"==we}function ce(J){return"number"==typeof J&&J>-1&&J%1==0&&J<=P}function be(J){var we=typeof J;return null!=J&&("object"==we||"function"==we)}function re(J){return null!=J&&"object"==typeof J}var U=Ir?function Lr(J){return function(we){return J(we)}}(Ir):function Zn(J){return re(J)&&ce(J.length)&&!!At[ln(J)]},z=Ui(function(J){return J.push(void 0,Jt),Bi(_e,void 0,J)});function ue(J){return as(J)?function bt(J,we){var Ae=Co(J),at=!Ae&&Fs(J),Zt=!Ae&&!at&&Oa(J),dn=!Ae&&!at&&!Zt&&U(J),sn=Ae||at||Zt||dn,_n=sn?function Ti(J,we){for(var Ae=-1,at=Array(J);++Ae<J;)at[Ae]=we(Ae);return at}(J.length,String):[],Kn=_n.length;for(var zr in J)(we||Qe.call(J,zr))&&(!sn||!("length"==zr||Zt&&("offset"==zr||"parent"==zr)||dn&&("buffer"==zr||"byteLength"==zr||"byteOffset"==zr)||ss(zr,Kn)))&&_n.push(zr);return _n}(J,!0):function Pr(J){if(!be(J))return function Pa(J){var we=[];if(null!=J)for(var Ae in Object(J))we.push(Ae);return we}(J);var we=Ia(J),Ae=[];for(var at in J)"constructor"==at&&(we||!Qe.call(J,at))||Ae.push(at);return Ae}(J)}var _e=function St(J){return Ui(function(we,Ae){var at=-1,Zt=Ae.length,dn=Zt>1?Ae[Zt-1]:void 0,sn=Zt>2?Ae[2]:void 0;for(dn=J.length>3&&"function"==typeof dn?(Zt--,dn):void 0,sn&&function Gr(J,we,Ae){if(!be(Ae))return!1;var at=typeof we;return!!("number"==at?as(Ae)&&ss(we,Ae.length):"string"==at&&we in Ae)&&Cs(Ae[we],J)}(Ae[0],Ae[1],sn)&&(dn=Zt<3?void 0:dn,Zt=1),we=Object(we);++at<Zt;){var _n=Ae[at];_n&&J(we,_n,at,dn)}return we})}(function(J,we,Ae,at){Tr(J,we,Ae,at)});function fe(J){return function(){return J}}function Te(J){return J}tt.exports=z},8306:(tt,A,O)=>{"use strict";O.d(A,{y:()=>$});var e=O(930),C=O(727),E=O(8822),R=O(4671);var q=O(2416),W=O(576),Y=O(2806);let $=(()=>{class qe{constructor(lt){lt&&(this._subscribe=lt)}lift(lt){const le=new qe;return le.source=this,le.operator=lt,le}subscribe(lt,le,Oe){const De=function Ye(qe){return qe&&qe instanceof e.Lv||function ae(qe){return qe&&(0,W.m)(qe.next)&&(0,W.m)(qe.error)&&(0,W.m)(qe.complete)}(qe)&&(0,C.Nn)(qe)}(lt)?lt:new e.Hp(lt,le,Oe);return(0,Y.x)(()=>{const{operator:rt,source:Ue}=this;De.add(rt?rt.call(De,Ue):Ue?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(lt){try{return this._subscribe(lt)}catch(le){lt.error(le)}}forEach(lt,le){return new(le=ne(le))((Oe,De)=>{const rt=new e.Hp({next:Ue=>{try{lt(Ue)}catch(Ze){De(Ze),rt.unsubscribe()}},error:De,complete:Oe});this.subscribe(rt)})}_subscribe(lt){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(lt)}[E.L](){return this}pipe(...lt){return function V(qe){return 0===qe.length?R.y:1===qe.length?qe[0]:function(lt){return qe.reduce((le,Oe)=>Oe(le),lt)}}(lt)(this)}toPromise(lt){return new(lt=ne(lt))((le,Oe)=>{let De;this.subscribe(rt=>De=rt,rt=>Oe(rt),()=>le(De))})}}return qe.create=Ge=>new qe(Ge),qe})();function ne(qe){var Ge;return null!==(Ge=null!=qe?qe:q.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(tt,A,O)=>{"use strict";O.d(A,{x:()=>q});var e=O(8306),C=O(727);const R=(0,O(3888).d)(Y=>function(){Y(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var P=O(8737),V=O(2806);let q=(()=>{class Y extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ae=new W(this,this);return ae.operator=ne,ae}_throwIfClosed(){if(this.closed)throw new R}next(ne){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(ne)}})}error(ne){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ae}=this;for(;ae.length;)ae.shift().error(ne)}})}complete(){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ae,isStopped:Ye,observers:qe}=this;return ae||Ye?C.Lc:(this.currentObservers=null,qe.push(ne),new C.w0(()=>{this.currentObservers=null,(0,P.P)(qe,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ae,thrownError:Ye,isStopped:qe}=this;ae?ne.error(Ye):qe&&ne.complete()}asObservable(){const ne=new e.y;return ne.source=this,ne}}return Y.create=($,ne)=>new W($,ne),Y})();class W extends q{constructor($,ne){super(),this.destination=$,this.source=ne}next($){var ne,ae;null===(ae=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ae||ae.call(ne,$)}error($){var ne,ae;null===(ae=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ae||ae.call(ne,$)}complete(){var $,ne;null===(ne=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===ne||ne.call($)}_subscribe($){var ne,ae;return null!==(ae=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe($))&&void 0!==ae?ae:C.Lc}}},930:(tt,A,O)=>{"use strict";O.d(A,{Hp:()=>lt,Lv:()=>ae});var e=O(576),C=O(727),E=O(2416),R=O(7849),P=O(5032);const V=Y("C",void 0,void 0);function Y(Ue,Ze,Ce){return{kind:Ue,value:Ze,error:Ce}}var $=O(3410),ne=O(2806);class ae extends C.w0{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,C.Nn)(Ze)&&Ze.add(this)):this.destination=rt}static create(Ze,Ce,He){return new lt(Ze,Ce,He)}next(Ze){this.isStopped?De(function W(Ue){return Y("N",Ue,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?De(function q(Ue){return Y("E",void 0,Ue)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?De(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function qe(Ue,Ze){return Ye.call(Ue,Ze)}class Ge{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Ze)}catch(He){le(He)}}error(Ze){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Ze)}catch(He){le(He)}else le(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(Ce){le(Ce)}}}class lt extends ae{constructor(Ze,Ce,He){let Ie;if(super(),(0,e.m)(Ze)||!Ze)Ie={next:null!=Ze?Ze:void 0,error:null!=Ce?Ce:void 0,complete:null!=He?He:void 0};else{let it;this&&E.v.useDeprecatedNextContext?(it=Object.create(Ze),it.unsubscribe=()=>this.unsubscribe(),Ie={next:Ze.next&&qe(Ze.next,it),error:Ze.error&&qe(Ze.error,it),complete:Ze.complete&&qe(Ze.complete,it)}):Ie=Ze}this.destination=new Ge(Ie)}}function le(Ue){E.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Ue):(0,R.h)(Ue)}function De(Ue,Ze){const{onStoppedNotification:Ce}=E.v;Ce&&$.z.setTimeout(()=>Ce(Ue,Ze))}const rt={closed:!0,next:P.Z,error:function Oe(Ue){throw Ue},complete:P.Z}},727:(tt,A,O)=>{"use strict";O.d(A,{Lc:()=>V,w0:()=>P,Nn:()=>q});var e=O(576);const E=(0,O(3888).d)(Y=>function(ne){Y(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ae,Ye)=>`${Ye+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var R=O(8737);class P{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const qe of ne)qe.remove(this);else ne.remove(this);const{initialTeardown:ae}=this;if((0,e.m)(ae))try{ae()}catch(qe){$=qe instanceof E?qe.errors:[qe]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const qe of Ye)try{W(qe)}catch(Ge){$=null!=$?$:[],Ge instanceof E?$=[...$,...Ge.errors]:$.push(Ge)}}if($)throw new E($)}}add($){var ne;if($&&$!==this)if(this.closed)W($);else{if($ instanceof P){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push($)}}_hasParent($){const{_parentage:ne}=this;return ne===$||Array.isArray(ne)&&ne.includes($)}_addParent($){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push($),ne):ne?[ne,$]:$}_removeParent($){const{_parentage:ne}=this;ne===$?this._parentage=null:Array.isArray(ne)&&(0,R.P)(ne,$)}remove($){const{_finalizers:ne}=this;ne&&(0,R.P)(ne,$),$ instanceof P&&$._removeParent(this)}}P.EMPTY=(()=>{const Y=new P;return Y.closed=!0,Y})();const V=P.EMPTY;function q(Y){return Y instanceof P||Y&&"closed"in Y&&(0,e.m)(Y.remove)&&(0,e.m)(Y.add)&&(0,e.m)(Y.unsubscribe)}function W(Y){(0,e.m)(Y)?Y():Y.unsubscribe()}},2416:(tt,A,O)=>{"use strict";O.d(A,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(tt,A,O)=>{"use strict";O.d(A,{E:()=>C});const C=new(O(8306).y)(P=>P.complete())},8996:(tt,A,O)=>{"use strict";O.d(A,{D:()=>Ze});var e=O(8421),C=O(5363),E=O(9468),V=O(8306),W=O(2202),Y=O(576),$=O(9672);function ae(Ce,He){if(!Ce)throw new Error("Iterable cannot be null");return new V.y(Ie=>{(0,$.f)(Ie,He,()=>{const it=Ce[Symbol.asyncIterator]();(0,$.f)(Ie,He,()=>{it.next().then(se=>{se.done?Ie.complete():Ie.next(se.value)})},0,!0)})})}var Ye=O(3670),qe=O(8239),Ge=O(1144),lt=O(6495),le=O(2206),Oe=O(4532),De=O(3260);function Ze(Ce,He){return He?function Ue(Ce,He){if(null!=Ce){if((0,Ye.c)(Ce))return function R(Ce,He){return(0,e.Xf)(Ce).pipe((0,E.R)(He),(0,C.Q)(He))}(Ce,He);if((0,Ge.z)(Ce))return function q(Ce,He){return new V.y(Ie=>{let it=0;return He.schedule(function(){it===Ce.length?Ie.complete():(Ie.next(Ce[it++]),Ie.closed||this.schedule())})})}(Ce,He);if((0,qe.t)(Ce))return function P(Ce,He){return(0,e.Xf)(Ce).pipe((0,E.R)(He),(0,C.Q)(He))}(Ce,He);if((0,le.D)(Ce))return ae(Ce,He);if((0,lt.T)(Ce))return function ne(Ce,He){return new V.y(Ie=>{let it;return(0,$.f)(Ie,He,()=>{it=Ce[W.h](),(0,$.f)(Ie,He,()=>{let se,oe;try{({value:se,done:oe}=it.next())}catch(Q){return void Ie.error(Q)}oe?Ie.complete():Ie.next(se)},0,!0)}),()=>(0,Y.m)(null==it?void 0:it.return)&&it.return()})}(Ce,He);if((0,De.L)(Ce))return function rt(Ce,He){return ae((0,De.Q)(Ce),He)}(Ce,He)}throw(0,Oe.z)(Ce)}(Ce,He):(0,e.Xf)(Ce)}},8421:(tt,A,O)=>{"use strict";O.d(A,{Xf:()=>Ye});var e=O(655),C=O(1144),E=O(8239),R=O(8306),P=O(3670),V=O(2206),q=O(4532),W=O(6495),Y=O(3260),$=O(576),ne=O(7849),ae=O(8822);function Ye(Ue){if(Ue instanceof R.y)return Ue;if(null!=Ue){if((0,P.c)(Ue))return function qe(Ue){return new R.y(Ze=>{const Ce=Ue[ae.L]();if((0,$.m)(Ce.subscribe))return Ce.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,C.z)(Ue))return function Ge(Ue){return new R.y(Ze=>{for(let Ce=0;Ce<Ue.length&&!Ze.closed;Ce++)Ze.next(Ue[Ce]);Ze.complete()})}(Ue);if((0,E.t)(Ue))return function lt(Ue){return new R.y(Ze=>{Ue.then(Ce=>{Ze.closed||(Ze.next(Ce),Ze.complete())},Ce=>Ze.error(Ce)).then(null,ne.h)})}(Ue);if((0,V.D)(Ue))return Oe(Ue);if((0,W.T)(Ue))return function le(Ue){return new R.y(Ze=>{for(const Ce of Ue)if(Ze.next(Ce),Ze.closed)return;Ze.complete()})}(Ue);if((0,Y.L)(Ue))return function De(Ue){return Oe((0,Y.Q)(Ue))}(Ue)}throw(0,q.z)(Ue)}function Oe(Ue){return new R.y(Ze=>{(function rt(Ue,Ze){var Ce,He,Ie,it;return(0,e.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,e.KL)(Ue);!(He=yield Ce.next()).done;)if(Ze.next(He.value),Ze.closed)return}catch(se){Ie={error:se}}finally{try{He&&!He.done&&(it=Ce.return)&&(yield it.call(Ce))}finally{if(Ie)throw Ie.error}}Ze.complete()})})(Ue,Ze).catch(Ce=>Ze.error(Ce))})}},6451:(tt,A,O)=>{"use strict";O.d(A,{T:()=>V});var e=O(8189),C=O(8421),E=O(515),R=O(3269),P=O(8996);function V(...q){const W=(0,R.yG)(q),Y=(0,R._6)(q,1/0),$=q;return $.length?1===$.length?(0,C.Xf)($[0]):(0,e.J)(Y)((0,P.D)($,W)):E.E}},9646:(tt,A,O)=>{"use strict";O.d(A,{of:()=>E});var e=O(3269),C=O(8996);function E(...R){const P=(0,e.yG)(R);return(0,C.D)(R,P)}},5403:(tt,A,O)=>{"use strict";O.d(A,{x:()=>C});var e=O(930);function C(R,P,V,q,W){return new E(R,P,V,q,W)}class E extends e.Lv{constructor(P,V,q,W,Y,$){super(P),this.onFinalize=Y,this.shouldUnsubscribe=$,this._next=V?function(ne){try{V(ne)}catch(ae){P.error(ae)}}:super._next,this._error=W?function(ne){try{W(ne)}catch(ae){P.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(ne){P.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var P;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:V}=this;super.unsubscribe(),!V&&(null===(P=this.onFinalize)||void 0===P||P.call(this))}}}},4004:(tt,A,O)=>{"use strict";O.d(A,{U:()=>E});var e=O(4482),C=O(5403);function E(R,P){return(0,e.e)((V,q)=>{let W=0;V.subscribe((0,C.x)(q,Y=>{q.next(R.call(P,Y,W++))}))})}},8189:(tt,A,O)=>{"use strict";O.d(A,{J:()=>E});var e=O(5577),C=O(4671);function E(R=1/0){return(0,e.z)(C.y,R)}},5577:(tt,A,O)=>{"use strict";O.d(A,{z:()=>W});var e=O(4004),C=O(8421),E=O(4482),R=O(9672),P=O(5403),q=O(576);function W(Y,$,ne=1/0){return(0,q.m)($)?W((ae,Ye)=>(0,e.U)((qe,Ge)=>$(ae,qe,Ye,Ge))((0,C.Xf)(Y(ae,Ye))),ne):("number"==typeof $&&(ne=$),(0,E.e)((ae,Ye)=>function V(Y,$,ne,ae,Ye,qe,Ge,lt){const le=[];let Oe=0,De=0,rt=!1;const Ue=()=>{rt&&!le.length&&!Oe&&$.complete()},Ze=He=>Oe<ae?Ce(He):le.push(He),Ce=He=>{qe&&$.next(He),Oe++;let Ie=!1;(0,C.Xf)(ne(He,De++)).subscribe((0,P.x)($,it=>{null==Ye||Ye(it),qe?Ze(it):$.next(it)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(Oe--;le.length&&Oe<ae;){const it=le.shift();Ge?(0,R.f)($,Ge,()=>Ce(it)):Ce(it)}Ue()}catch(it){$.error(it)}}))};return Y.subscribe((0,P.x)($,Ze,()=>{rt=!0,Ue()})),()=>{null==lt||lt()}}(ae,Ye,Y,ne)))}},5363:(tt,A,O)=>{"use strict";O.d(A,{Q:()=>R});var e=O(9672),C=O(4482),E=O(5403);function R(P,V=0){return(0,C.e)((q,W)=>{q.subscribe((0,E.x)(W,Y=>(0,e.f)(W,P,()=>W.next(Y),V),()=>(0,e.f)(W,P,()=>W.complete(),V),Y=>(0,e.f)(W,P,()=>W.error(Y),V)))})}},3099:(tt,A,O)=>{"use strict";O.d(A,{B:()=>V});var e=O(8996),C=O(5698),E=O(7579),R=O(930),P=O(4482);function V(W={}){const{connector:Y=(()=>new E.x),resetOnError:$=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ae=!0}=W;return Ye=>{let qe=null,Ge=null,lt=null,le=0,Oe=!1,De=!1;const rt=()=>{null==Ge||Ge.unsubscribe(),Ge=null},Ue=()=>{rt(),qe=lt=null,Oe=De=!1},Ze=()=>{const Ce=qe;Ue(),null==Ce||Ce.unsubscribe()};return(0,P.e)((Ce,He)=>{le++,!De&&!Oe&&rt();const Ie=lt=null!=lt?lt:Y();He.add(()=>{le--,0===le&&!De&&!Oe&&(Ge=q(Ze,ae))}),Ie.subscribe(He),qe||(qe=new R.Hp({next:it=>Ie.next(it),error:it=>{De=!0,rt(),Ge=q(Ue,$,it),Ie.error(it)},complete:()=>{Oe=!0,rt(),Ge=q(Ue,ne),Ie.complete()}}),(0,e.D)(Ce).subscribe(qe))})(Ye)}}function q(W,Y,...$){return!0===Y?(W(),null):!1===Y?null:Y(...$).pipe((0,C.q)(1)).subscribe(()=>W())}},9468:(tt,A,O)=>{"use strict";O.d(A,{R:()=>C});var e=O(4482);function C(E,R=0){return(0,e.e)((P,V)=>{V.add(E.schedule(()=>P.subscribe(V),R))})}},5698:(tt,A,O)=>{"use strict";O.d(A,{q:()=>R});var e=O(515),C=O(4482),E=O(5403);function R(P){return P<=0?()=>e.E:(0,C.e)((V,q)=>{let W=0;V.subscribe((0,E.x)(q,Y=>{++W<=P&&(q.next(Y),P<=W&&q.complete())}))})}},8505:(tt,A,O)=>{"use strict";O.d(A,{b:()=>P});var e=O(576),C=O(4482),E=O(5403),R=O(4671);function P(V,q,W){const Y=(0,e.m)(V)||q||W?{next:V,error:q,complete:W}:V;return Y?(0,C.e)(($,ne)=>{var ae;null===(ae=Y.subscribe)||void 0===ae||ae.call(Y);let Ye=!0;$.subscribe((0,E.x)(ne,qe=>{var Ge;null===(Ge=Y.next)||void 0===Ge||Ge.call(Y,qe),ne.next(qe)},()=>{var qe;Ye=!1,null===(qe=Y.complete)||void 0===qe||qe.call(Y),ne.complete()},qe=>{var Ge;Ye=!1,null===(Ge=Y.error)||void 0===Ge||Ge.call(Y,qe),ne.error(qe)},()=>{var qe,Ge;Ye&&(null===(qe=Y.unsubscribe)||void 0===qe||qe.call(Y)),null===(Ge=Y.finalize)||void 0===Ge||Ge.call(Y)}))}):R.y}},4408:(tt,A,O)=>{"use strict";O.d(A,{o:()=>P});var e=O(727);class C extends e.w0{constructor(q,W){super()}schedule(q,W=0){return this}}const E={setInterval(V,q,...W){const{delegate:Y}=E;return(null==Y?void 0:Y.setInterval)?Y.setInterval(V,q,...W):setInterval(V,q,...W)},clearInterval(V){const{delegate:q}=E;return((null==q?void 0:q.clearInterval)||clearInterval)(V)},delegate:void 0};var R=O(8737);class P extends C{constructor(q,W){super(q,W),this.scheduler=q,this.work=W,this.pending=!1}schedule(q,W=0){if(this.closed)return this;this.state=q;const Y=this.id,$=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId($,Y,W)),this.pending=!0,this.delay=W,this.id=this.id||this.requestAsyncId($,this.id,W),this}requestAsyncId(q,W,Y=0){return E.setInterval(q.flush.bind(q,this),Y)}recycleAsyncId(q,W,Y=0){if(null!=Y&&this.delay===Y&&!1===this.pending)return W;E.clearInterval(W)}execute(q,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Y=this._execute(q,W);if(Y)return Y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(q,W){let $,Y=!1;try{this.work(q)}catch(ne){Y=!0,$=ne||new Error("Scheduled action threw falsy error")}if(Y)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:q,scheduler:W}=this,{actions:Y}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,R.P)(Y,this),null!=q&&(this.id=this.recycleAsyncId(W,q,null)),this.delay=null,super.unsubscribe()}}}},7565:(tt,A,O)=>{"use strict";O.d(A,{v:()=>E});var e=O(6063);class C{constructor(P,V=C.now){this.schedulerActionCtor=P,this.now=V}schedule(P,V=0,q){return new this.schedulerActionCtor(this,P).schedule(q,V)}}C.now=e.l.now;class E extends C{constructor(P,V=C.now){super(P,V),this.actions=[],this._active=!1,this._scheduled=void 0}flush(P){const{actions:V}=this;if(this._active)return void V.push(P);let q;this._active=!0;do{if(q=P.execute(P.state,P.delay))break}while(P=V.shift());if(this._active=!1,q){for(;P=V.shift();)P.unsubscribe();throw q}}}},4986:(tt,A,O)=>{"use strict";O.d(A,{P:()=>R,z:()=>E});var e=O(4408);const E=new(O(7565).v)(e.o),R=E},6063:(tt,A,O)=>{"use strict";O.d(A,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(tt,A,O)=>{"use strict";O.d(A,{z:()=>e});const e={setTimeout(C,E,...R){const{delegate:P}=e;return(null==P?void 0:P.setTimeout)?P.setTimeout(C,E,...R):setTimeout(C,E,...R)},clearTimeout(C){const{delegate:E}=e;return((null==E?void 0:E.clearTimeout)||clearTimeout)(C)},delegate:void 0}},2202:(tt,A,O)=>{"use strict";O.d(A,{h:()=>C});const C=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tt,A,O)=>{"use strict";O.d(A,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(tt,A,O)=>{"use strict";O.d(A,{_6:()=>V,jO:()=>R,yG:()=>P});var e=O(576),C=O(3532);function E(q){return q[q.length-1]}function R(q){return(0,e.m)(E(q))?q.pop():void 0}function P(q){return(0,C.K)(E(q))?q.pop():void 0}function V(q,W){return"number"==typeof E(q)?q.pop():W}},8737:(tt,A,O)=>{"use strict";function e(C,E){if(C){const R=C.indexOf(E);0<=R&&C.splice(R,1)}}O.d(A,{P:()=>e})},3888:(tt,A,O)=>{"use strict";function e(C){const R=C(P=>{Error.call(P),P.stack=(new Error).stack});return R.prototype=Object.create(Error.prototype),R.prototype.constructor=R,R}O.d(A,{d:()=>e})},2806:(tt,A,O)=>{"use strict";O.d(A,{O:()=>R,x:()=>E});var e=O(2416);let C=null;function E(P){if(e.v.useDeprecatedSynchronousErrorHandling){const V=!C;if(V&&(C={errorThrown:!1,error:null}),P(),V){const{errorThrown:q,error:W}=C;if(C=null,q)throw W}}else P()}function R(P){e.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=P)}},9672:(tt,A,O)=>{"use strict";function e(C,E,R,P=0,V=!1){const q=E.schedule(function(){R(),V?C.add(this.schedule(null,P)):this.unsubscribe()},P);if(C.add(q),!V)return q}O.d(A,{f:()=>e})},4671:(tt,A,O)=>{"use strict";function e(C){return C}O.d(A,{y:()=>e})},1144:(tt,A,O)=>{"use strict";O.d(A,{z:()=>e});const e=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(tt,A,O)=>{"use strict";O.d(A,{D:()=>C});var e=O(576);function C(E){return Symbol.asyncIterator&&(0,e.m)(null==E?void 0:E[Symbol.asyncIterator])}},576:(tt,A,O)=>{"use strict";function e(C){return"function"==typeof C}O.d(A,{m:()=>e})},3670:(tt,A,O)=>{"use strict";O.d(A,{c:()=>E});var e=O(8822),C=O(576);function E(R){return(0,C.m)(R[e.L])}},6495:(tt,A,O)=>{"use strict";O.d(A,{T:()=>E});var e=O(2202),C=O(576);function E(R){return(0,C.m)(null==R?void 0:R[e.h])}},8239:(tt,A,O)=>{"use strict";O.d(A,{t:()=>C});var e=O(576);function C(E){return(0,e.m)(null==E?void 0:E.then)}},3260:(tt,A,O)=>{"use strict";O.d(A,{L:()=>R,Q:()=>E});var e=O(655),C=O(576);function E(P){return(0,e.FC)(this,arguments,function*(){const q=P.getReader();try{for(;;){const{value:W,done:Y}=yield(0,e.qq)(q.read());if(Y)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(W)}}finally{q.releaseLock()}})}function R(P){return(0,C.m)(null==P?void 0:P.getReader)}},3532:(tt,A,O)=>{"use strict";O.d(A,{K:()=>C});var e=O(576);function C(E){return E&&(0,e.m)(E.schedule)}},4482:(tt,A,O)=>{"use strict";O.d(A,{A:()=>C,e:()=>E});var e=O(576);function C(R){return(0,e.m)(null==R?void 0:R.lift)}function E(R){return P=>{if(C(P))return P.lift(function(V){try{return R(V,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(tt,A,O)=>{"use strict";function e(){}O.d(A,{Z:()=>e})},7849:(tt,A,O)=>{"use strict";O.d(A,{h:()=>E});var e=O(2416),C=O(3410);function E(R){C.z.setTimeout(()=>{const{onUnhandledError:P}=e.v;if(!P)throw R;P(R)})}},4532:(tt,A,O)=>{"use strict";function e(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(A,{z:()=>e})},8583:()=>{"use strict";!function(Re){const Qe=Re.performance;function ct(Dn){Qe&&Qe.mark&&Qe.mark(Dn)}function Xe(Dn,nn){Qe&&Qe.measure&&Qe.measure(Dn,nn)}ct("Zone");const vt=Re.__Zone_symbol_prefix||"__zone_symbol__";function kt(Dn){return vt+Dn}const Pt=!0===Re[kt("forceDuplicateZoneCheck")];if(Re.Zone){if(Pt||"function"!=typeof Re.Zone.__symbol__)throw new Error("Zone already loaded.");return Re.Zone}let Ct=(()=>{class Dn{constructor(Fe,st){this._parent=Fe,this._name=st?st.name||"unnamed":"<root>",this._properties=st&&st.properties||{},this._zoneDelegate=new mn(this,this._parent&&this._parent._zoneDelegate,st)}static assertZonePatched(){if(Re.Promise!==wn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let Fe=Dn.current;for(;Fe.parent;)Fe=Fe.parent;return Fe}static get current(){return or.zone}static get currentTask(){return Gn}static __load_patch(Fe,st,cn=!1){if(wn.hasOwnProperty(Fe)){if(!cn&&Pt)throw Error("Already loaded patch: "+Fe)}else if(!Re["__Zone_disable_"+Fe]){const Fn="Zone:"+Fe;ct(Fn),wn[Fe]=st(Re,Dn,On),Xe(Fn,Fn)}}get parent(){return this._parent}get name(){return this._name}get(Fe){const st=this.getZoneWith(Fe);if(st)return st._properties[Fe]}getZoneWith(Fe){let st=this;for(;st;){if(st._properties.hasOwnProperty(Fe))return st;st=st._parent}return null}fork(Fe){if(!Fe)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,Fe)}wrap(Fe,st){if("function"!=typeof Fe)throw new Error("Expecting function got: "+Fe);const cn=this._zoneDelegate.intercept(this,Fe,st),Fn=this;return function(){return Fn.runGuarded(cn,this,arguments,st)}}run(Fe,st,cn,Fn){or={parent:or,zone:this};try{return this._zoneDelegate.invoke(this,Fe,st,cn,Fn)}finally{or=or.parent}}runGuarded(Fe,st=null,cn,Fn){or={parent:or,zone:this};try{try{return this._zoneDelegate.invoke(this,Fe,st,cn,Fn)}catch(sr){if(this._zoneDelegate.handleError(this,sr))throw sr}}finally{or=or.parent}}runTask(Fe,st,cn){if(Fe.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(Fe.zone||jt).name+"; Execution: "+this.name+")");if(Fe.state===Wt&&(Fe.type===Rt||Fe.type===Le))return;const Fn=Fe.state!=ye;Fn&&Fe._transitionTo(ye,vn),Fe.runCount++;const sr=Gn;Gn=Fe,or={parent:or,zone:this};try{Fe.type==Le&&Fe.data&&!Fe.data.isPeriodic&&(Fe.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Fe,st,cn)}catch(Vt){if(this._zoneDelegate.handleError(this,Vt))throw Vt}}finally{Fe.state!==Wt&&Fe.state!==me&&(Fe.type==Rt||Fe.data&&Fe.data.isPeriodic?Fn&&Fe._transitionTo(vn,ye):(Fe.runCount=0,this._updateTaskCount(Fe,-1),Fn&&Fe._transitionTo(Wt,ye,Wt))),or=or.parent,Gn=sr}}scheduleTask(Fe){if(Fe.zone&&Fe.zone!==this){let cn=this;for(;cn;){if(cn===Fe.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${Fe.zone.name}`);cn=cn.parent}}Fe._transitionTo(An,Wt);const st=[];Fe._zoneDelegates=st,Fe._zone=this;try{Fe=this._zoneDelegate.scheduleTask(this,Fe)}catch(cn){throw Fe._transitionTo(me,An,Wt),this._zoneDelegate.handleError(this,cn),cn}return Fe._zoneDelegates===st&&this._updateTaskCount(Fe,1),Fe.state==An&&Fe._transitionTo(vn,An),Fe}scheduleMicroTask(Fe,st,cn,Fn){return this.scheduleTask(new en(ze,Fe,st,cn,Fn,void 0))}scheduleMacroTask(Fe,st,cn,Fn,sr){return this.scheduleTask(new en(Le,Fe,st,cn,Fn,sr))}scheduleEventTask(Fe,st,cn,Fn,sr){return this.scheduleTask(new en(Rt,Fe,st,cn,Fn,sr))}cancelTask(Fe){if(Fe.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(Fe.zone||jt).name+"; Execution: "+this.name+")");Fe._transitionTo(pe,vn,ye);try{this._zoneDelegate.cancelTask(this,Fe)}catch(st){throw Fe._transitionTo(me,pe),this._zoneDelegate.handleError(this,st),st}return this._updateTaskCount(Fe,-1),Fe._transitionTo(Wt,pe),Fe.runCount=0,Fe}_updateTaskCount(Fe,st){const cn=Fe._zoneDelegates;-1==st&&(Fe._zoneDelegates=null);for(let Fn=0;Fn<cn.length;Fn++)cn[Fn]._updateTaskCount(Fe.type,st)}}return Dn.__symbol__=kt,Dn})();const Ft={name:"",onHasTask:(Dn,nn,Fe,st)=>Dn.hasTask(Fe,st),onScheduleTask:(Dn,nn,Fe,st)=>Dn.scheduleTask(Fe,st),onInvokeTask:(Dn,nn,Fe,st,cn,Fn)=>Dn.invokeTask(Fe,st,cn,Fn),onCancelTask:(Dn,nn,Fe,st)=>Dn.cancelTask(Fe,st)};class mn{constructor(nn,Fe,st){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=nn,this._parentDelegate=Fe,this._forkZS=st&&(st&&st.onFork?st:Fe._forkZS),this._forkDlgt=st&&(st.onFork?Fe:Fe._forkDlgt),this._forkCurrZone=st&&(st.onFork?this.zone:Fe._forkCurrZone),this._interceptZS=st&&(st.onIntercept?st:Fe._interceptZS),this._interceptDlgt=st&&(st.onIntercept?Fe:Fe._interceptDlgt),this._interceptCurrZone=st&&(st.onIntercept?this.zone:Fe._interceptCurrZone),this._invokeZS=st&&(st.onInvoke?st:Fe._invokeZS),this._invokeDlgt=st&&(st.onInvoke?Fe:Fe._invokeDlgt),this._invokeCurrZone=st&&(st.onInvoke?this.zone:Fe._invokeCurrZone),this._handleErrorZS=st&&(st.onHandleError?st:Fe._handleErrorZS),this._handleErrorDlgt=st&&(st.onHandleError?Fe:Fe._handleErrorDlgt),this._handleErrorCurrZone=st&&(st.onHandleError?this.zone:Fe._handleErrorCurrZone),this._scheduleTaskZS=st&&(st.onScheduleTask?st:Fe._scheduleTaskZS),this._scheduleTaskDlgt=st&&(st.onScheduleTask?Fe:Fe._scheduleTaskDlgt),this._scheduleTaskCurrZone=st&&(st.onScheduleTask?this.zone:Fe._scheduleTaskCurrZone),this._invokeTaskZS=st&&(st.onInvokeTask?st:Fe._invokeTaskZS),this._invokeTaskDlgt=st&&(st.onInvokeTask?Fe:Fe._invokeTaskDlgt),this._invokeTaskCurrZone=st&&(st.onInvokeTask?this.zone:Fe._invokeTaskCurrZone),this._cancelTaskZS=st&&(st.onCancelTask?st:Fe._cancelTaskZS),this._cancelTaskDlgt=st&&(st.onCancelTask?Fe:Fe._cancelTaskDlgt),this._cancelTaskCurrZone=st&&(st.onCancelTask?this.zone:Fe._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const cn=st&&st.onHasTask;(cn||Fe&&Fe._hasTaskZS)&&(this._hasTaskZS=cn?st:Ft,this._hasTaskDlgt=Fe,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=nn,st.onScheduleTask||(this._scheduleTaskZS=Ft,this._scheduleTaskDlgt=Fe,this._scheduleTaskCurrZone=this.zone),st.onInvokeTask||(this._invokeTaskZS=Ft,this._invokeTaskDlgt=Fe,this._invokeTaskCurrZone=this.zone),st.onCancelTask||(this._cancelTaskZS=Ft,this._cancelTaskDlgt=Fe,this._cancelTaskCurrZone=this.zone))}fork(nn,Fe){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,nn,Fe):new Ct(nn,Fe)}intercept(nn,Fe,st){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,nn,Fe,st):Fe}invoke(nn,Fe,st,cn,Fn){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,nn,Fe,st,cn,Fn):Fe.apply(st,cn)}handleError(nn,Fe){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,nn,Fe)}scheduleTask(nn,Fe){let st=Fe;if(this._scheduleTaskZS)this._hasTaskZS&&st._zoneDelegates.push(this._hasTaskDlgtOwner),st=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,nn,Fe),st||(st=Fe);else if(Fe.scheduleFn)Fe.scheduleFn(Fe);else{if(Fe.type!=ze)throw new Error("Task is missing scheduleFn.");Tt(Fe)}return st}invokeTask(nn,Fe,st,cn){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,nn,Fe,st,cn):Fe.callback.apply(st,cn)}cancelTask(nn,Fe){let st;if(this._cancelTaskZS)st=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,nn,Fe);else{if(!Fe.cancelFn)throw Error("Task is not cancelable");st=Fe.cancelFn(Fe)}return st}hasTask(nn,Fe){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,nn,Fe)}catch(st){this.handleError(nn,st)}}_updateTaskCount(nn,Fe){const st=this._taskCounts,cn=st[nn],Fn=st[nn]=cn+Fe;if(Fn<0)throw new Error("More tasks executed then were scheduled.");0!=cn&&0!=Fn||this.hasTask(this.zone,{microTask:st.microTask>0,macroTask:st.macroTask>0,eventTask:st.eventTask>0,change:nn})}}class en{constructor(nn,Fe,st,cn,Fn,sr){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=nn,this.source=Fe,this.data=cn,this.scheduleFn=Fn,this.cancelFn=sr,!st)throw new Error("callback is not defined");this.callback=st;const Vt=this;this.invoke=nn===Rt&&cn&&cn.useG?en.invokeTask:function(){return en.invokeTask.call(Re,Vt,this,arguments)}}static invokeTask(nn,Fe,st){nn||(nn=this),tr++;try{return nn.runCount++,nn.zone.runTask(nn,Fe,st)}finally{1==tr&&et(),tr--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(Wt,An)}_transitionTo(nn,Fe,st){if(this._state!==Fe&&this._state!==st)throw new Error(`${this.type} '${this.source}': can not transition to '${nn}', expecting state '${Fe}'${st?" or '"+st+"'":""}, was '${this._state}'.`);this._state=nn,nn==Wt&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Qt=kt("setTimeout"),Pn=kt("Promise"),Cn=kt("then");let br,Wn=[],Ht=!1;function En(Dn){if(br||Re[Pn]&&(br=Re[Pn].resolve(0)),br){let nn=br[Cn];nn||(nn=br.then),nn.call(br,Dn)}else Re[Qt](Dn,0)}function Tt(Dn){0===tr&&0===Wn.length&&En(et),Dn&&Wn.push(Dn)}function et(){if(!Ht){for(Ht=!0;Wn.length;){const Dn=Wn;Wn=[];for(let nn=0;nn<Dn.length;nn++){const Fe=Dn[nn];try{Fe.zone.runTask(Fe,null,null)}catch(st){On.onUnhandledError(st)}}}On.microtaskDrainDone(),Ht=!1}}const jt={name:"NO ZONE"},Wt="notScheduled",An="scheduling",vn="scheduled",ye="running",pe="canceling",me="unknown",ze="microTask",Le="macroTask",Rt="eventTask",wn={},On={symbol:kt,currentZoneFrame:()=>or,onUnhandledError:tn,microtaskDrainDone:tn,scheduleMicroTask:Tt,showUncaughtError:()=>!Ct[kt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:tn,patchMethod:()=>tn,bindArguments:()=>[],patchThen:()=>tn,patchMacroTask:()=>tn,patchEventPrototype:()=>tn,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>tn,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>tn,wrapWithCurrentZone:()=>tn,filterProperties:()=>[],attachOriginToPatched:()=>tn,_redefineProperty:()=>tn,patchCallbacks:()=>tn,nativeScheduleMicroTask:En};let or={parent:null,zone:new Ct(null,null)},Gn=null,tr=0;function tn(){}Xe("Zone","Zone"),Re.Zone=Ct}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const tt=Object.getOwnPropertyDescriptor,A=Object.defineProperty,O=Object.getPrototypeOf,e=Object.create,C=Array.prototype.slice,E="addEventListener",R="removeEventListener",P=Zone.__symbol__(E),V=Zone.__symbol__(R),q="true",W="false",Y=Zone.__symbol__("");function $(Re,Qe){return Zone.current.wrap(Re,Qe)}function ne(Re,Qe,ct,Xe,vt){return Zone.current.scheduleMacroTask(Re,Qe,ct,Xe,vt)}const ae=Zone.__symbol__,Ye="undefined"!=typeof window,qe=Ye?window:void 0,Ge=Ye&&qe||"object"==typeof self&&self||global;function le(Re,Qe){for(let ct=Re.length-1;ct>=0;ct--)"function"==typeof Re[ct]&&(Re[ct]=$(Re[ct],Qe+"_"+ct));return Re}function De(Re){return!Re||!1!==Re.writable&&!("function"==typeof Re.get&&void 0===Re.set)}const rt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Ue=!("nw"in Ge)&&void 0!==Ge.process&&"[object process]"==={}.toString.call(Ge.process),Ze=!Ue&&!rt&&!(!Ye||!qe.HTMLElement),Ce=void 0!==Ge.process&&"[object process]"==={}.toString.call(Ge.process)&&!rt&&!(!Ye||!qe.HTMLElement),He={},Ie=function(Re){if(!(Re=Re||Ge.event))return;let Qe=He[Re.type];Qe||(Qe=He[Re.type]=ae("ON_PROPERTY"+Re.type));const ct=this||Re.target||Ge,Xe=ct[Qe];let vt;if(Ze&&ct===qe&&"error"===Re.type){const kt=Re;vt=Xe&&Xe.call(this,kt.message,kt.filename,kt.lineno,kt.colno,kt.error),!0===vt&&Re.preventDefault()}else vt=Xe&&Xe.apply(this,arguments),null!=vt&&!vt&&Re.preventDefault();return vt};function it(Re,Qe,ct){let Xe=tt(Re,Qe);if(!Xe&&ct&&tt(ct,Qe)&&(Xe={enumerable:!0,configurable:!0}),!Xe||!Xe.configurable)return;const vt=ae("on"+Qe+"patched");if(Re.hasOwnProperty(vt)&&Re[vt])return;delete Xe.writable,delete Xe.value;const kt=Xe.get,Pt=Xe.set,Ct=Qe.substr(2);let Ft=He[Ct];Ft||(Ft=He[Ct]=ae("ON_PROPERTY"+Ct)),Xe.set=function(mn){let en=this;!en&&Re===Ge&&(en=Ge),en&&("function"==typeof en[Ft]&&en.removeEventListener(Ct,Ie),Pt&&Pt.call(en,null),en[Ft]=mn,"function"==typeof mn&&en.addEventListener(Ct,Ie,!1))},Xe.get=function(){let mn=this;if(!mn&&Re===Ge&&(mn=Ge),!mn)return null;const en=mn[Ft];if(en)return en;if(kt){let Qt=kt.call(this);if(Qt)return Xe.set.call(this,Qt),"function"==typeof mn.removeAttribute&&mn.removeAttribute(Qe),Qt}return null},A(Re,Qe,Xe),Re[vt]=!0}function se(Re,Qe,ct){if(Qe)for(let Xe=0;Xe<Qe.length;Xe++)it(Re,"on"+Qe[Xe],ct);else{const Xe=[];for(const vt in Re)"on"==vt.substr(0,2)&&Xe.push(vt);for(let vt=0;vt<Xe.length;vt++)it(Re,Xe[vt],ct)}}const oe=ae("originalInstance");function Q(Re){const Qe=Ge[Re];if(!Qe)return;Ge[ae(Re)]=Qe,Ge[Re]=function(){const vt=le(arguments,Re);switch(vt.length){case 0:this[oe]=new Qe;break;case 1:this[oe]=new Qe(vt[0]);break;case 2:this[oe]=new Qe(vt[0],vt[1]);break;case 3:this[oe]=new Qe(vt[0],vt[1],vt[2]);break;case 4:this[oe]=new Qe(vt[0],vt[1],vt[2],vt[3]);break;default:throw new Error("Arg list too long.")}},de(Ge[Re],Qe);const ct=new Qe(function(){});let Xe;for(Xe in ct)"XMLHttpRequest"===Re&&"responseBlob"===Xe||function(vt){"function"==typeof ct[vt]?Ge[Re].prototype[vt]=function(){return this[oe][vt].apply(this[oe],arguments)}:A(Ge[Re].prototype,vt,{set:function(kt){"function"==typeof kt?(this[oe][vt]=$(kt,Re+"."+vt),de(this[oe][vt],kt)):this[oe][vt]=kt},get:function(){return this[oe][vt]}})}(Xe);for(Xe in Qe)"prototype"!==Xe&&Qe.hasOwnProperty(Xe)&&(Ge[Re][Xe]=Qe[Xe])}function ge(Re,Qe,ct){let Xe=Re;for(;Xe&&!Xe.hasOwnProperty(Qe);)Xe=O(Xe);!Xe&&Re[Qe]&&(Xe=Re);const vt=ae(Qe);let kt=null;if(Xe&&(!(kt=Xe[vt])||!Xe.hasOwnProperty(vt))&&(kt=Xe[vt]=Xe[Qe],De(Xe&&tt(Xe,Qe)))){const Ct=ct(kt,vt,Qe);Xe[Qe]=function(){return Ct(this,arguments)},de(Xe[Qe],kt)}return kt}function Pe(Re,Qe,ct){let Xe=null;function vt(kt){const Pt=kt.data;return Pt.args[Pt.cbIdx]=function(){kt.invoke.apply(this,arguments)},Xe.apply(Pt.target,Pt.args),kt}Xe=ge(Re,Qe,kt=>function(Pt,Ct){const Ft=ct(Pt,Ct);return Ft.cbIdx>=0&&"function"==typeof Ct[Ft.cbIdx]?ne(Ft.name,Ct[Ft.cbIdx],Ft,vt):kt.apply(Pt,Ct)})}function de(Re,Qe){Re[ae("OriginalDelegate")]=Qe}let gt=!1,Dt=!1;function wt(){if(gt)return Dt;gt=!0;try{const Re=qe.navigator.userAgent;(-1!==Re.indexOf("MSIE ")||-1!==Re.indexOf("Trident/")||-1!==Re.indexOf("Edge/"))&&(Dt=!0)}catch(Re){}return Dt}Zone.__load_patch("ZoneAwarePromise",(Re,Qe,ct)=>{const Xe=Object.getOwnPropertyDescriptor,vt=Object.defineProperty,Pt=ct.symbol,Ct=[],Ft=!0===Re[Pt("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],mn=Pt("Promise"),en=Pt("then");ct.onUnhandledError=Vt=>{if(ct.showUncaughtError()){const Ut=Vt&&Vt.rejection;Ut?console.error("Unhandled Promise rejection:",Ut instanceof Error?Ut.message:Ut,"; Zone:",Vt.zone.name,"; Task:",Vt.task&&Vt.task.source,"; Value:",Ut,Ut instanceof Error?Ut.stack:void 0):console.error(Vt)}},ct.microtaskDrainDone=()=>{for(;Ct.length;){const Vt=Ct.shift();try{Vt.zone.runGuarded(()=>{throw Vt.throwOriginal?Vt.rejection:Vt})}catch(Ut){Cn(Ut)}}};const Pn=Pt("unhandledPromiseRejectionHandler");function Cn(Vt){ct.onUnhandledError(Vt);try{const Ut=Qe[Pn];"function"==typeof Ut&&Ut.call(this,Vt)}catch(Ut){}}function Wn(Vt){return Vt&&Vt.then}function Ht(Vt){return Vt}function br(Vt){return Fe.reject(Vt)}const En=Pt("state"),Tt=Pt("value"),et=Pt("finally"),jt=Pt("parentPromiseValue"),Wt=Pt("parentPromiseState"),vn=null,pe=!1;function ze(Vt,Ut){return Ve=>{try{On(Vt,Ut,Ve)}catch(bt){On(Vt,!1,bt)}}}const wn=Pt("currentTaskTrace");function On(Vt,Ut,Ve){const bt=function(){let Vt=!1;return function(Ve){return function(){Vt||(Vt=!0,Ve.apply(null,arguments))}}}();if(Vt===Ve)throw new TypeError("Promise resolved with itself");if(Vt[En]===vn){let qt=null;try{("object"==typeof Ve||"function"==typeof Ve)&&(qt=Ve&&Ve.then)}catch(Xt){return bt(()=>{On(Vt,!1,Xt)})(),Vt}if(Ut!==pe&&Ve instanceof Fe&&Ve.hasOwnProperty(En)&&Ve.hasOwnProperty(Tt)&&Ve[En]!==vn)Gn(Ve),On(Vt,Ve[En],Ve[Tt]);else if(Ut!==pe&&"function"==typeof qt)try{qt.call(Ve,bt(ze(Vt,Ut)),bt(ze(Vt,!1)))}catch(Xt){bt(()=>{On(Vt,!1,Xt)})()}else{Vt[En]=Ut;const Xt=Vt[Tt];if(Vt[Tt]=Ve,Vt[et]===et&&!0===Ut&&(Vt[En]=Vt[Wt],Vt[Tt]=Vt[jt]),Ut===pe&&Ve instanceof Error){const on=Qe.currentTask&&Qe.currentTask.data&&Qe.currentTask.data.__creationTrace__;on&&vt(Ve,wn,{configurable:!0,enumerable:!1,writable:!0,value:on})}for(let on=0;on<Xt.length;)tr(Vt,Xt[on++],Xt[on++],Xt[on++],Xt[on++]);if(0==Xt.length&&Ut==pe){Vt[En]=0;let on=Ve;try{throw new Error("Uncaught (in promise): "+function kt(Vt){return Vt&&Vt.toString===Object.prototype.toString?(Vt.constructor&&Vt.constructor.name||"")+": "+JSON.stringify(Vt):Vt?Vt.toString():Object.prototype.toString.call(Vt)}(Ve)+(Ve&&Ve.stack?"\n"+Ve.stack:""))}catch(Tn){on=Tn}Ft&&(on.throwOriginal=!0),on.rejection=Ve,on.promise=Vt,on.zone=Qe.current,on.task=Qe.currentTask,Ct.push(on),ct.scheduleMicroTask()}}}return Vt}const or=Pt("rejectionHandledHandler");function Gn(Vt){if(0===Vt[En]){try{const Ut=Qe[or];Ut&&"function"==typeof Ut&&Ut.call(this,{rejection:Vt[Tt],promise:Vt})}catch(Ut){}Vt[En]=pe;for(let Ut=0;Ut<Ct.length;Ut++)Vt===Ct[Ut].promise&&Ct.splice(Ut,1)}}function tr(Vt,Ut,Ve,bt,qt){Gn(Vt);const Xt=Vt[En],on=Xt?"function"==typeof bt?bt:Ht:"function"==typeof qt?qt:br;Ut.scheduleMicroTask("Promise.then",()=>{try{const Tn=Vt[Tt],jn=!!Ve&&et===Ve[et];jn&&(Ve[jt]=Tn,Ve[Wt]=Xt);const ln=Ut.run(on,void 0,jn&&on!==br&&on!==Ht?[]:[Tn]);On(Ve,!0,ln)}catch(Tn){On(Ve,!1,Tn)}},Ve)}const Dn=function(){},nn=Re.AggregateError;class Fe{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Ut){return On(new this(null),!0,Ut)}static reject(Ut){return On(new this(null),pe,Ut)}static any(Ut){if(!Ut||"function"!=typeof Ut[Symbol.iterator])return Promise.reject(new nn([],"All promises were rejected"));const Ve=[];let bt=0;try{for(let on of Ut)bt++,Ve.push(Fe.resolve(on))}catch(on){return Promise.reject(new nn([],"All promises were rejected"))}if(0===bt)return Promise.reject(new nn([],"All promises were rejected"));let qt=!1;const Xt=[];return new Fe((on,Tn)=>{for(let jn=0;jn<Ve.length;jn++)Ve[jn].then(ln=>{qt||(qt=!0,on(ln))},ln=>{Xt.push(ln),bt--,0===bt&&(qt=!0,Tn(new nn(Xt,"All promises were rejected")))})})}static race(Ut){let Ve,bt,qt=new this((Tn,jn)=>{Ve=Tn,bt=jn});function Xt(Tn){Ve(Tn)}function on(Tn){bt(Tn)}for(let Tn of Ut)Wn(Tn)||(Tn=this.resolve(Tn)),Tn.then(Xt,on);return qt}static all(Ut){return Fe.allWithCallback(Ut)}static allSettled(Ut){return(this&&this.prototype instanceof Fe?this:Fe).allWithCallback(Ut,{thenCallback:bt=>({status:"fulfilled",value:bt}),errorCallback:bt=>({status:"rejected",reason:bt})})}static allWithCallback(Ut,Ve){let bt,qt,Xt=new this((ln,Nn)=>{bt=ln,qt=Nn}),on=2,Tn=0;const jn=[];for(let ln of Ut){Wn(ln)||(ln=this.resolve(ln));const Nn=Tn;try{ln.then(Cr=>{jn[Nn]=Ve?Ve.thenCallback(Cr):Cr,on--,0===on&&bt(jn)},Cr=>{Ve?(jn[Nn]=Ve.errorCallback(Cr),on--,0===on&&bt(jn)):qt(Cr)})}catch(Cr){qt(Cr)}on++,Tn++}return on-=2,0===on&&bt(jn),Xt}constructor(Ut){const Ve=this;if(!(Ve instanceof Fe))throw new Error("Must be an instanceof Promise.");Ve[En]=vn,Ve[Tt]=[];try{Ut&&Ut(ze(Ve,!0),ze(Ve,pe))}catch(bt){On(Ve,!1,bt)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Fe}then(Ut,Ve){let bt=this.constructor[Symbol.species];(!bt||"function"!=typeof bt)&&(bt=this.constructor||Fe);const qt=new bt(Dn),Xt=Qe.current;return this[En]==vn?this[Tt].push(Xt,qt,Ut,Ve):tr(this,Xt,qt,Ut,Ve),qt}catch(Ut){return this.then(null,Ut)}finally(Ut){let Ve=this.constructor[Symbol.species];(!Ve||"function"!=typeof Ve)&&(Ve=Fe);const bt=new Ve(Dn);bt[et]=et;const qt=Qe.current;return this[En]==vn?this[Tt].push(qt,bt,Ut,Ut):tr(this,qt,bt,Ut,Ut),bt}}Fe.resolve=Fe.resolve,Fe.reject=Fe.reject,Fe.race=Fe.race,Fe.all=Fe.all;const st=Re[mn]=Re.Promise;Re.Promise=Fe;const cn=Pt("thenPatched");function Fn(Vt){const Ut=Vt.prototype,Ve=Xe(Ut,"then");if(Ve&&(!1===Ve.writable||!Ve.configurable))return;const bt=Ut.then;Ut[en]=bt,Vt.prototype.then=function(qt,Xt){return new Fe((Tn,jn)=>{bt.call(this,Tn,jn)}).then(qt,Xt)},Vt[cn]=!0}return ct.patchThen=Fn,st&&(Fn(st),ge(Re,"fetch",Vt=>function sr(Vt){return function(Ut,Ve){let bt=Vt.apply(Ut,Ve);if(bt instanceof Fe)return bt;let qt=bt.constructor;return qt[cn]||Fn(qt),bt}}(Vt))),Promise[Qe.__symbol__("uncaughtPromiseErrors")]=Ct,Fe}),Zone.__load_patch("toString",Re=>{const Qe=Function.prototype.toString,ct=ae("OriginalDelegate"),Xe=ae("Promise"),vt=ae("Error"),kt=function(){if("function"==typeof this){const mn=this[ct];if(mn)return"function"==typeof mn?Qe.call(mn):Object.prototype.toString.call(mn);if(this===Promise){const en=Re[Xe];if(en)return Qe.call(en)}if(this===Error){const en=Re[vt];if(en)return Qe.call(en)}}return Qe.call(this)};kt[ct]=Qe,Function.prototype.toString=kt;const Pt=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Pt.call(this)}});let mt=!1;if("undefined"!=typeof window)try{const Re=Object.defineProperty({},"passive",{get:function(){mt=!0}});window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(Re){mt=!1}const At={useG:!0},an={},er={},Ln=new RegExp("^"+Y+"(\\w+)(true|false)$"),vr=ae("propagationStopped");function ir(Re,Qe){const ct=(Qe?Qe(Re):Re)+W,Xe=(Qe?Qe(Re):Re)+q,vt=Y+ct,kt=Y+Xe;an[Re]={},an[Re][W]=vt,an[Re][q]=kt}function Yn(Re,Qe,ct,Xe){const vt=Xe&&Xe.add||E,kt=Xe&&Xe.rm||R,Pt=Xe&&Xe.listeners||"eventListeners",Ct=Xe&&Xe.rmAll||"removeAllListeners",Ft=ae(vt),mn="."+vt+":",Pn=function(Tt,et,jt){if(Tt.isRemoved)return;const Wt=Tt.callback;let An;"object"==typeof Wt&&Wt.handleEvent&&(Tt.callback=ye=>Wt.handleEvent(ye),Tt.originalDelegate=Wt);try{Tt.invoke(Tt,et,[jt])}catch(ye){An=ye}const vn=Tt.options;return vn&&"object"==typeof vn&&vn.once&&et[kt].call(et,jt.type,Tt.originalDelegate?Tt.originalDelegate:Tt.callback,vn),An};function Cn(Tt,et,jt){if(!(et=et||Re.event))return;const Wt=Tt||et.target||Re,An=Wt[an[et.type][jt?q:W]];if(An){const vn=[];if(1===An.length){const ye=Pn(An[0],Wt,et);ye&&vn.push(ye)}else{const ye=An.slice();for(let pe=0;pe<ye.length&&(!et||!0!==et[vr]);pe++){const me=Pn(ye[pe],Wt,et);me&&vn.push(me)}}if(1===vn.length)throw vn[0];for(let ye=0;ye<vn.length;ye++){const pe=vn[ye];Qe.nativeScheduleMicroTask(()=>{throw pe})}}}const Wn=function(Tt){return Cn(this,Tt,!1)},Ht=function(Tt){return Cn(this,Tt,!0)};function br(Tt,et){if(!Tt)return!1;let jt=!0;et&&void 0!==et.useG&&(jt=et.useG);const Wt=et&&et.vh;let An=!0;et&&void 0!==et.chkDup&&(An=et.chkDup);let vn=!1;et&&void 0!==et.rt&&(vn=et.rt);let ye=Tt;for(;ye&&!ye.hasOwnProperty(vt);)ye=O(ye);if(!ye&&Tt[vt]&&(ye=Tt),!ye||ye[Ft])return!1;const pe=et&&et.eventNameToString,me={},ze=ye[Ft]=ye[vt],Le=ye[ae(kt)]=ye[kt],Rt=ye[ae(Pt)]=ye[Pt],wn=ye[ae(Ct)]=ye[Ct];let On;function or(Ve,bt){return!mt&&"object"==typeof Ve&&Ve?!!Ve.capture:mt&&bt?"boolean"==typeof Ve?{capture:Ve,passive:!0}:Ve?"object"==typeof Ve&&!1!==Ve.passive?Object.assign(Object.assign({},Ve),{passive:!0}):Ve:{passive:!0}:Ve}et&&et.prepend&&(On=ye[ae(et.prepend)]=ye[et.prepend]);const Fe=jt?function(Ve){if(!me.isExisting)return ze.call(me.target,me.eventName,me.capture?Ht:Wn,me.options)}:function(Ve){return ze.call(me.target,me.eventName,Ve.invoke,me.options)},st=jt?function(Ve){if(!Ve.isRemoved){const bt=an[Ve.eventName];let qt;bt&&(qt=bt[Ve.capture?q:W]);const Xt=qt&&Ve.target[qt];if(Xt)for(let on=0;on<Xt.length;on++)if(Xt[on]===Ve){Xt.splice(on,1),Ve.isRemoved=!0,0===Xt.length&&(Ve.allRemoved=!0,Ve.target[qt]=null);break}}if(Ve.allRemoved)return Le.call(Ve.target,Ve.eventName,Ve.capture?Ht:Wn,Ve.options)}:function(Ve){return Le.call(Ve.target,Ve.eventName,Ve.invoke,Ve.options)},Fn=et&&et.diff?et.diff:function(Ve,bt){const qt=typeof bt;return"function"===qt&&Ve.callback===bt||"object"===qt&&Ve.originalDelegate===bt},sr=Zone[ae("UNPATCHED_EVENTS")],Vt=Re[ae("PASSIVE_EVENTS")],Ut=function(Ve,bt,qt,Xt,on=!1,Tn=!1){return function(){const jn=this||Re;let ln=arguments[0];et&&et.transferEventName&&(ln=et.transferEventName(ln));let Nn=arguments[1];if(!Nn)return Ve.apply(this,arguments);if(Ue&&"uncaughtException"===ln)return Ve.apply(this,arguments);let Cr=!1;if("function"!=typeof Nn){if(!Nn.handleEvent)return Ve.apply(this,arguments);Cr=!0}if(Wt&&!Wt(Ve,Nn,jn,arguments))return;const Zn=mt&&!!Vt&&-1!==Vt.indexOf(ln),Pr=or(arguments[2],Zn);if(sr)for(let ar=0;ar<sr.length;ar++)if(ln===sr[ar])return Zn?Ve.call(jn,ln,Nn,Pr):Ve.apply(this,arguments);const Tr=!!Pr&&("boolean"==typeof Pr||Pr.capture),bo=!(!Pr||"object"!=typeof Pr)&&Pr.once,Ui=Zone.current;let nr=an[ln];nr||(ir(ln,pe),nr=an[ln]);const Xi=nr[Tr?q:W];let Me,Or=jn[Xi],ke=!1;if(Or){if(ke=!0,An)for(let ar=0;ar<Or.length;ar++)if(Fn(Or[ar],Nn))return}else Or=jn[Xi]=[];const ot=jn.constructor.name,St=er[ot];St&&(Me=St[ln]),Me||(Me=ot+bt+(pe?pe(ln):ln)),me.options=Pr,bo&&(me.options.once=!1),me.target=jn,me.capture=Tr,me.eventName=ln,me.isExisting=ke;const Ot=jt?At:void 0;Ot&&(Ot.taskData=me);const Jt=Ui.scheduleEventTask(Me,Nn,Ot,qt,Xt);return me.target=null,Ot&&(Ot.taskData=null),bo&&(Pr.once=!0),!mt&&"boolean"==typeof Jt.options||(Jt.options=Pr),Jt.target=jn,Jt.capture=Tr,Jt.eventName=ln,Cr&&(Jt.originalDelegate=Nn),Tn?Or.unshift(Jt):Or.push(Jt),on?jn:void 0}};return ye[vt]=Ut(ze,mn,Fe,st,vn),On&&(ye.prependListener=Ut(On,".prependListener:",function(Ve){return On.call(me.target,me.eventName,Ve.invoke,me.options)},st,vn,!0)),ye[kt]=function(){const Ve=this||Re;let bt=arguments[0];et&&et.transferEventName&&(bt=et.transferEventName(bt));const qt=arguments[2],Xt=!!qt&&("boolean"==typeof qt||qt.capture),on=arguments[1];if(!on)return Le.apply(this,arguments);if(Wt&&!Wt(Le,on,Ve,arguments))return;const Tn=an[bt];let jn;Tn&&(jn=Tn[Xt?q:W]);const ln=jn&&Ve[jn];if(ln)for(let Nn=0;Nn<ln.length;Nn++){const Cr=ln[Nn];if(Fn(Cr,on))return ln.splice(Nn,1),Cr.isRemoved=!0,0===ln.length&&(Cr.allRemoved=!0,Ve[jn]=null,"string"==typeof bt)&&(Ve[Y+"ON_PROPERTY"+bt]=null),Cr.zone.cancelTask(Cr),vn?Ve:void 0}return Le.apply(this,arguments)},ye[Pt]=function(){const Ve=this||Re;let bt=arguments[0];et&&et.transferEventName&&(bt=et.transferEventName(bt));const qt=[],Xt=qr(Ve,pe?pe(bt):bt);for(let on=0;on<Xt.length;on++){const Tn=Xt[on];qt.push(Tn.originalDelegate?Tn.originalDelegate:Tn.callback)}return qt},ye[Ct]=function(){const Ve=this||Re;let bt=arguments[0];if(bt){et&&et.transferEventName&&(bt=et.transferEventName(bt));const qt=an[bt];if(qt){const Tn=Ve[qt[W]],jn=Ve[qt[q]];if(Tn){const ln=Tn.slice();for(let Nn=0;Nn<ln.length;Nn++){const Cr=ln[Nn];this[kt].call(this,bt,Cr.originalDelegate?Cr.originalDelegate:Cr.callback,Cr.options)}}if(jn){const ln=jn.slice();for(let Nn=0;Nn<ln.length;Nn++){const Cr=ln[Nn];this[kt].call(this,bt,Cr.originalDelegate?Cr.originalDelegate:Cr.callback,Cr.options)}}}}else{const qt=Object.keys(Ve);for(let Xt=0;Xt<qt.length;Xt++){const Tn=Ln.exec(qt[Xt]);let jn=Tn&&Tn[1];jn&&"removeListener"!==jn&&this[Ct].call(this,jn)}this[Ct].call(this,"removeListener")}if(vn)return this},de(ye[vt],ze),de(ye[kt],Le),wn&&de(ye[Ct],wn),Rt&&de(ye[Pt],Rt),!0}let En=[];for(let Tt=0;Tt<ct.length;Tt++)En[Tt]=br(ct[Tt],Xe);return En}function qr(Re,Qe){if(!Qe){const kt=[];for(let Pt in Re){const Ct=Ln.exec(Pt);let Ft=Ct&&Ct[1];if(Ft&&(!Qe||Ft===Qe)){const mn=Re[Pt];if(mn)for(let en=0;en<mn.length;en++)kt.push(mn[en])}}return kt}let ct=an[Qe];ct||(ir(Qe),ct=an[Qe]);const Xe=Re[ct[W]],vt=Re[ct[q]];return Xe?vt?Xe.concat(vt):Xe.slice():vt?vt.slice():[]}function mr(Re,Qe){const ct=Re.Event;ct&&ct.prototype&&Qe.patchMethod(ct.prototype,"stopImmediatePropagation",Xe=>function(vt,kt){vt[vr]=!0,Xe&&Xe.apply(vt,kt)})}function Ir(Re,Qe,ct,Xe,vt){const kt=Zone.__symbol__(Xe);if(Qe[kt])return;const Pt=Qe[kt]=Qe[Xe];Qe[Xe]=function(Ct,Ft,mn){return Ft&&Ft.prototype&&vt.forEach(function(en){const Qt=`${ct}.${Xe}::`+en,Pn=Ft.prototype;if(Pn.hasOwnProperty(en)){const Cn=Re.ObjectGetOwnPropertyDescriptor(Pn,en);Cn&&Cn.value?(Cn.value=Re.wrapWithCurrentZone(Cn.value,Qt),Re._redefineProperty(Ft.prototype,en,Cn)):Pn[en]&&(Pn[en]=Re.wrapWithCurrentZone(Pn[en],Qt))}else Pn[en]&&(Pn[en]=Re.wrapWithCurrentZone(Pn[en],Qt))}),Pt.call(Qe,Ct,Ft,mn)},Re.attachOriginToPatched(Qe[Xe],Pt)}function Bi(Re,Qe,ct){if(!ct||0===ct.length)return Qe;const Xe=ct.filter(kt=>kt.target===Re);if(!Xe||0===Xe.length)return Qe;const vt=Xe[0].ignoreProperties;return Qe.filter(kt=>-1===vt.indexOf(kt))}function Ti(Re,Qe,ct,Xe){Re&&se(Re,Bi(Re,Qe,ct),Xe)}function Lr(Re){return Object.getOwnPropertyNames(Re).filter(Qe=>Qe.startsWith("on")&&Qe.length>2).map(Qe=>Qe.substring(2))}Zone.__load_patch("util",(Re,Qe,ct)=>{const Xe=Lr(Re);ct.patchOnProperties=se,ct.patchMethod=ge,ct.bindArguments=le,ct.patchMacroTask=Pe;const vt=Qe.__symbol__("BLACK_LISTED_EVENTS"),kt=Qe.__symbol__("UNPATCHED_EVENTS");Re[kt]&&(Re[vt]=Re[kt]),Re[vt]&&(Qe[vt]=Qe[kt]=Re[vt]),ct.patchEventPrototype=mr,ct.patchEventTarget=Yn,ct.isIEOrEdge=wt,ct.ObjectDefineProperty=A,ct.ObjectGetOwnPropertyDescriptor=tt,ct.ObjectCreate=e,ct.ArraySlice=C,ct.patchClass=Q,ct.wrapWithCurrentZone=$,ct.filterProperties=Bi,ct.attachOriginToPatched=de,ct._redefineProperty=Object.defineProperty,ct.patchCallbacks=Ir,ct.getGlobalObjects=()=>({globalSources:er,zoneSymbolEventNames:an,eventNames:Xe,isBrowser:Ze,isMix:Ce,isNode:Ue,TRUE_STR:q,FALSE_STR:W,ZONE_SYMBOL_PREFIX:Y,ADD_EVENT_LISTENER_STR:E,REMOVE_EVENT_LISTENER_STR:R})});const Di=ae("zoneTask");function gn(Re,Qe,ct,Xe){let vt=null,kt=null;ct+=Xe;const Pt={};function Ct(mn){const en=mn.data;return en.args[0]=function(){return mn.invoke.apply(this,arguments)},en.handleId=vt.apply(Re,en.args),mn}function Ft(mn){return kt.call(Re,mn.data.handleId)}vt=ge(Re,Qe+=Xe,mn=>function(en,Qt){if("function"==typeof Qt[0]){const Pn={isPeriodic:"Interval"===Xe,delay:"Timeout"===Xe||"Interval"===Xe?Qt[1]||0:void 0,args:Qt},Cn=Qt[0];Qt[0]=function(){try{return Cn.apply(this,arguments)}finally{Pn.isPeriodic||("number"==typeof Pn.handleId?delete Pt[Pn.handleId]:Pn.handleId&&(Pn.handleId[Di]=null))}};const Wn=ne(Qe,Qt[0],Pn,Ct,Ft);if(!Wn)return Wn;const Ht=Wn.data.handleId;return"number"==typeof Ht?Pt[Ht]=Wn:Ht&&(Ht[Di]=Wn),Ht&&Ht.ref&&Ht.unref&&"function"==typeof Ht.ref&&"function"==typeof Ht.unref&&(Wn.ref=Ht.ref.bind(Ht),Wn.unref=Ht.unref.bind(Ht)),"number"==typeof Ht||Ht?Ht:Wn}return mn.apply(Re,Qt)}),kt=ge(Re,ct,mn=>function(en,Qt){const Pn=Qt[0];let Cn;"number"==typeof Pn?Cn=Pt[Pn]:(Cn=Pn&&Pn[Di],Cn||(Cn=Pn)),Cn&&"string"==typeof Cn.type?"notScheduled"!==Cn.state&&(Cn.cancelFn&&Cn.data.isPeriodic||0===Cn.runCount)&&("number"==typeof Pn?delete Pt[Pn]:Pn&&(Pn[Di]=null),Cn.zone.cancelTask(Cn)):mn.apply(Re,Qt)})}Zone.__load_patch("legacy",Re=>{const Qe=Re[Zone.__symbol__("legacyPatch")];Qe&&Qe()}),Zone.__load_patch("queueMicrotask",(Re,Qe,ct)=>{ct.patchMethod(Re,"queueMicrotask",Xe=>function(vt,kt){Qe.current.scheduleMicroTask("queueMicrotask",kt[0])})}),Zone.__load_patch("timers",Re=>{const ct="clear";gn(Re,"set",ct,"Timeout"),gn(Re,"set",ct,"Interval"),gn(Re,"set",ct,"Immediate")}),Zone.__load_patch("requestAnimationFrame",Re=>{gn(Re,"request","cancel","AnimationFrame"),gn(Re,"mozRequest","mozCancel","AnimationFrame"),gn(Re,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(Re,Qe)=>{const ct=["alert","prompt","confirm"];for(let Xe=0;Xe<ct.length;Xe++)ge(Re,ct[Xe],(kt,Pt,Ct)=>function(Ft,mn){return Qe.current.run(kt,Re,mn,Ct)})}),Zone.__load_patch("EventTarget",(Re,Qe,ct)=>{(function Zr(Re,Qe){Qe.patchEventPrototype(Re,Qe)})(Re,ct),function Vr(Re,Qe){if(Zone[Qe.symbol("patchEventTarget")])return;const{eventNames:ct,zoneSymbolEventNames:Xe,TRUE_STR:vt,FALSE_STR:kt,ZONE_SYMBOL_PREFIX:Pt}=Qe.getGlobalObjects();for(let Ft=0;Ft<ct.length;Ft++){const mn=ct[Ft],Pn=Pt+(mn+kt),Cn=Pt+(mn+vt);Xe[mn]={},Xe[mn][kt]=Pn,Xe[mn][vt]=Cn}const Ct=Re.EventTarget;Ct&&Ct.prototype&&Qe.patchEventTarget(Re,Qe,[Ct&&Ct.prototype])}(Re,ct);const Xe=Re.XMLHttpRequestEventTarget;Xe&&Xe.prototype&&ct.patchEventTarget(Re,ct,[Xe.prototype])}),Zone.__load_patch("MutationObserver",(Re,Qe,ct)=>{Q("MutationObserver"),Q("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(Re,Qe,ct)=>{Q("IntersectionObserver")}),Zone.__load_patch("FileReader",(Re,Qe,ct)=>{Q("FileReader")}),Zone.__load_patch("on_property",(Re,Qe,ct)=>{!function jr(Re,Qe){if(Ue&&!Ce||Zone[Re.symbol("patchEvents")])return;const ct=Qe.__Zone_ignore_on_properties;let Xe=[];if(Ze){const vt=window;Xe=Xe.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const kt=function pn(){try{const Re=qe.navigator.userAgent;if(-1!==Re.indexOf("MSIE ")||-1!==Re.indexOf("Trident/"))return!0}catch(Re){}return!1}()?[{target:vt,ignoreProperties:["error"]}]:[];Ti(vt,Lr(vt),ct&&ct.concat(kt),O(vt))}Xe=Xe.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let vt=0;vt<Xe.length;vt++){const kt=Qe[Xe[vt]];kt&&kt.prototype&&Ti(kt.prototype,Lr(kt.prototype),ct)}}(ct,Re)}),Zone.__load_patch("customElements",(Re,Qe,ct)=>{!function Fi(Re,Qe){const{isBrowser:ct,isMix:Xe}=Qe.getGlobalObjects();(ct||Xe)&&Re.customElements&&"customElements"in Re&&Qe.patchCallbacks(Qe,Re.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(Re,ct)}),Zone.__load_patch("XHR",(Re,Qe)=>{!function Ft(mn){const en=mn.XMLHttpRequest;if(!en)return;const Qt=en.prototype;let Cn=Qt[P],Wn=Qt[V];if(!Cn){const me=mn.XMLHttpRequestEventTarget;if(me){const ze=me.prototype;Cn=ze[P],Wn=ze[V]}}const Ht="readystatechange",br="scheduled";function En(me){const ze=me.data,Le=ze.target;Le[kt]=!1,Le[Ct]=!1;const Rt=Le[vt];Cn||(Cn=Le[P],Wn=Le[V]),Rt&&Wn.call(Le,Ht,Rt);const wn=Le[vt]=()=>{if(Le.readyState===Le.DONE)if(!ze.aborted&&Le[kt]&&me.state===br){const or=Le[Qe.__symbol__("loadfalse")];if(0!==Le.status&&or&&or.length>0){const Gn=me.invoke;me.invoke=function(){const tr=Le[Qe.__symbol__("loadfalse")];for(let tn=0;tn<tr.length;tn++)tr[tn]===me&&tr.splice(tn,1);!ze.aborted&&me.state===br&&Gn.call(me)},or.push(me)}else me.invoke()}else!ze.aborted&&!1===Le[kt]&&(Le[Ct]=!0)};return Cn.call(Le,Ht,wn),Le[ct]||(Le[ct]=me),ye.apply(Le,ze.args),Le[kt]=!0,me}function Tt(){}function et(me){const ze=me.data;return ze.aborted=!0,pe.apply(ze.target,ze.args)}const jt=ge(Qt,"open",()=>function(me,ze){return me[Xe]=0==ze[2],me[Pt]=ze[1],jt.apply(me,ze)}),An=ae("fetchTaskAborting"),vn=ae("fetchTaskScheduling"),ye=ge(Qt,"send",()=>function(me,ze){if(!0===Qe.current[vn]||me[Xe])return ye.apply(me,ze);{const Le={target:me,url:me[Pt],isPeriodic:!1,args:ze,aborted:!1},Rt=ne("XMLHttpRequest.send",Tt,Le,En,et);me&&!0===me[Ct]&&!Le.aborted&&Rt.state===br&&Rt.invoke()}}),pe=ge(Qt,"abort",()=>function(me,ze){const Le=function Pn(me){return me[ct]}(me);if(Le&&"string"==typeof Le.type){if(null==Le.cancelFn||Le.data&&Le.data.aborted)return;Le.zone.cancelTask(Le)}else if(!0===Qe.current[An])return pe.apply(me,ze)})}(Re);const ct=ae("xhrTask"),Xe=ae("xhrSync"),vt=ae("xhrListener"),kt=ae("xhrScheduled"),Pt=ae("xhrURL"),Ct=ae("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",Re=>{Re.navigator&&Re.navigator.geolocation&&function Oe(Re,Qe){const ct=Re.constructor.name;for(let Xe=0;Xe<Qe.length;Xe++){const vt=Qe[Xe],kt=Re[vt];if(kt){if(!De(tt(Re,vt)))continue;Re[vt]=(Ct=>{const Ft=function(){return Ct.apply(this,le(arguments,ct+"."+vt))};return de(Ft,Ct),Ft})(kt)}}}(Re.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(Re,Qe)=>{function ct(Xe){return function(vt){qr(Re,Xe).forEach(Pt=>{const Ct=Re.PromiseRejectionEvent;if(Ct){const Ft=new Ct(Xe,{promise:vt.promise,reason:vt.rejection});Pt.invoke(Ft)}})}}Re.PromiseRejectionEvent&&(Qe[ae("unhandledPromiseRejectionHandler")]=ct("unhandledrejection"),Qe[ae("rejectionHandledHandler")]=ct("rejectionhandled"))})},655:(tt,A,O)=>{"use strict";function R(se,oe){var Q={};for(var ge in se)Object.prototype.hasOwnProperty.call(se,ge)&&oe.indexOf(ge)<0&&(Q[ge]=se[ge]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(ge=Object.getOwnPropertySymbols(se);Pe<ge.length;Pe++)oe.indexOf(ge[Pe])<0&&Object.prototype.propertyIsEnumerable.call(se,ge[Pe])&&(Q[ge[Pe]]=se[ge[Pe]])}return Q}function W(se,oe,Q,ge){return new(Q||(Q=Promise))(function(de,gt){function Dt(mt){try{wt(ge.next(mt))}catch(At){gt(At)}}function pn(mt){try{wt(ge.throw(mt))}catch(At){gt(At)}}function wt(mt){mt.done?de(mt.value):function Pe(de){return de instanceof Q?de:new Q(function(gt){gt(de)})}(mt.value).then(Dt,pn)}wt((ge=ge.apply(se,oe||[])).next())})}function le(se){return this instanceof le?(this.v=se,this):new le(se)}function Oe(se,oe,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,ge=Q.apply(se,oe||[]),de=[];return Pe={},gt("next"),gt("throw"),gt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function gt(an){ge[an]&&(Pe[an]=function(er){return new Promise(function(Ln,vr){de.push([an,er,Ln,vr])>1||Dt(an,er)})})}function Dt(an,er){try{!function pn(an){an.value instanceof le?Promise.resolve(an.value.v).then(wt,mt):At(de[0][2],an)}(ge[an](er))}catch(Ln){At(de[0][3],Ln)}}function wt(an){Dt("next",an)}function mt(an){Dt("throw",an)}function At(an,er){an(er),de.shift(),de.length&&Dt(de[0][0],de[0][1])}}function rt(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,oe=se[Symbol.asyncIterator];return oe?oe.call(se):(se=function ae(se){var oe="function"==typeof Symbol&&Symbol.iterator,Q=oe&&se[oe],ge=0;if(Q)return Q.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ge>=se.length&&(se=void 0),{value:se&&se[ge++],done:!se}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Q={},ge("next"),ge("throw"),ge("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function ge(de){Q[de]=se[de]&&function(gt){return new Promise(function(Dt,pn){!function Pe(de,gt,Dt,pn){Promise.resolve(pn).then(function(wt){de({value:wt,done:Dt})},gt)}(Dt,pn,(gt=se[de](gt)).done,gt.value)})}}}O.d(A,{FC:()=>Oe,KL:()=>rt,_T:()=>R,mG:()=>W,qq:()=>le})},5e3:(tt,A,O)=>{"use strict";O.d(A,{$8M:()=>Nc,$Z:()=>Li,AFp:()=>_b,ALo:()=>W1,AaK:()=>W,AsE:()=>y,BQk:()=>al,CHM:()=>af,CRH:()=>Iw,CZH:()=>Ug,CqO:()=>S0,DdM:()=>ow,EJc:()=>bb,EiD:()=>nm,EpF:()=>n_,F$t:()=>fp,F4k:()=>Tg,FYo:()=>P1,FiY:()=>uo,Gf:()=>nb,GfV:()=>O1,GkF:()=>wg,Gpc:()=>ne,Hsn:()=>Zd,Ikx:()=>i1,JOm:()=>ba,JVY:()=>dd,Jf7:()=>vh,L6k:()=>ch,LAX:()=>Yg,LFG:()=>Yt,LSH:()=>fo,Lbi:()=>my,MAs:()=>Gh,MGl:()=>i_,NdJ:()=>Zh,OlP:()=>oi,Oqu:()=>h,PXZ:()=>NE,Q6J:()=>Vu,QGY:()=>dp,Qsj:()=>YC,QtT:()=>E1,R0b:()=>zu,RDi:()=>Fr,Rgc:()=>D_,SBq:()=>Q0,SDv:()=>T1,Sil:()=>DE,Suo:()=>rb,TTD:()=>z,TgZ:()=>Cg,Tol:()=>l_,Udp:()=>k0,VKq:()=>sw,VLi:()=>OE,W1O:()=>sb,WLB:()=>j1,X6Q:()=>oT,XFs:()=>gn,Xpm:()=>vn,Y36:()=>ol,YKP:()=>F1,YNc:()=>qd,Yjl:()=>or,Yz7:()=>Ln,ZZ4:()=>Tc,_Bn:()=>x1,_UZ:()=>sl,_Vd:()=>Y0,_c5:()=>I_,_uU:()=>c,aQg:()=>dv,c2e:()=>_y,cJS:()=>ir,cg1:()=>Kv,dDg:()=>Qw,deG:()=>dc,dqk:()=>Qt,dwT:()=>s1,eBb:()=>lh,eFA:()=>os,ekj:()=>L0,evT:()=>pi,g9A:()=>cv,h0i:()=>Rg,hGG:()=>hv,hij:()=>g,iGM:()=>Aw,ifc:()=>Pt,ip1:()=>Bg,kEZ:()=>V1,kL8:()=>gC,lG2:()=>On,lcZ:()=>$1,mCW:()=>ri,n5z:()=>ih,oAB:()=>Le,oJD:()=>Np,oxw:()=>Gu,pB0:()=>zi,pQV:()=>ry,q3G:()=>Ci,q4F:()=>M1,qLn:()=>Os,qOj:()=>tp,qZA:()=>qh,qzn:()=>gc,s9C:()=>r_,sBO:()=>sT,sIi:()=>pg,s_b:()=>tv,soG:()=>yb,tBr:()=>Is,tb:()=>rf,tp0:()=>ni,uIk:()=>op,vHH:()=>Ge,vpe:()=>Zu,wAp:()=>rr,xi3:()=>K1,xp6:()=>_,yhl:()=>vf,ynx:()=>rs,z2F:()=>yy,z3N:()=>ps,zSh:()=>ec,zs3:()=>Ca});var e=O(7579),C=O(727),E=O(8306),R=O(6451),P=O(3099);function V(s){for(let a in s)if(s[a]===V)return a;throw Error("Could not find renamed property on target object.")}function q(s,a){for(const d in a)a.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=a[d])}function W(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(W).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function Y(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const $=V({__forward_ref__:V});function ne(s){return s.__forward_ref__=ne,s.toString=function(){return W(this())},s}function ae(s){return Ye(s)?s():s}function Ye(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===ne}class Ge extends Error{constructor(a,d){super(function lt(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,d)),this.code=a}}function le(s){return"string"==typeof s?s:null==s?"":String(s)}function Oe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():le(s)}function Ze(s,a){const d=a?` in ${a}`:"";throw new Ge(-201,`No provider for ${Oe(s)} found${d}`)}function mt(s,a,d,f){throw new Error(`ASSERTION ERROR: ${s}`+(null==f?"":` [Expected=> ${d} ${f} ${a} <=Actual]`))}function Ln(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ir(s){return{providers:s.providers||[],imports:s.imports||[]}}function Yn(s){return qr(s,Ti)||qr(s,jr)}function qr(s,a){return s.hasOwnProperty(a)?s[a]:null}function Bi(s){return s&&(s.hasOwnProperty(Lr)||s.hasOwnProperty(Di))?s[Lr]:null}const Ti=V({\u0275prov:V}),Lr=V({\u0275inj:V}),jr=V({ngInjectableDef:V}),Di=V({ngInjectorDef:V});var gn=(()=>((gn=gn||{})[gn.Default=0]="Default",gn[gn.Host=1]="Host",gn[gn.Self=2]="Self",gn[gn.SkipSelf=4]="SkipSelf",gn[gn.Optional=8]="Optional",gn))();let Fi;function Zr(s){const a=Fi;return Fi=s,a}function Re(s,a,d){const f=Yn(s);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&gn.Optional?null:void 0!==a?a:void Ze(W(s),"Injector")}function ct(s){return{toString:s}.toString()}var Xe=(()=>((Xe=Xe||{})[Xe.OnPush=0]="OnPush",Xe[Xe.Default=1]="Default",Xe))(),Pt=(()=>{return(s=Pt||(Pt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Pt;var s})();const Ct="undefined"!=typeof globalThis&&globalThis,Ft="undefined"!=typeof window&&window,mn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qt=Ct||"undefined"!=typeof global&&global||Ft||mn,Wn={},Ht=[],br=V({\u0275cmp:V}),En=V({\u0275dir:V}),Tt=V({\u0275pipe:V}),et=V({\u0275mod:V}),jt=V({\u0275fac:V}),Wt=V({__NG_ELEMENT_ID__:V});let An=0;function vn(s){return ct(()=>{const d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Xe.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Pt.Emulated,id:"c",styles:s.styles||Ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.directives,v=s.features,T=s.pipes;return f.id+=An++,f.inputs=wn(s.inputs,d),f.outputs=wn(s.outputs),v&&v.forEach(I=>I(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(pe):null,f.pipeDefs=T?()=>("function"==typeof T?T():T).map(me):null,f})}function pe(s){return Gn(s)||function tr(s){return s[En]||null}(s)}function me(s){return function tn(s){return s[Tt]||null}(s)}const ze={};function Le(s){return ct(()=>{const a={type:s.type,bootstrap:s.bootstrap||Ht,declarations:s.declarations||Ht,imports:s.imports||Ht,exports:s.exports||Ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ze[s.id]=s.type),a})}function wn(s,a){if(null==s)return Wn;const d={};for(const f in s)if(s.hasOwnProperty(f)){let m=s[f],v=m;Array.isArray(m)&&(v=m[1],m=m[0]),d[m]=f,a&&(a[m]=v)}return d}const On=vn;function or(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Gn(s){return s[br]||null}function Dn(s,a){const d=s[et]||null;if(!d&&!0===a)throw new Error(`Type ${W(s)} does not have '\u0275mod' property.`);return d}function Ot(s){return Array.isArray(s)&&"object"==typeof s[1]}function Jt(s){return Array.isArray(s)&&!0===s[1]}function ar(s){return 0!=(8&s.flags)}function Mr(s){return 2==(2&s.flags)}function pr(s){return 1==(1&s.flags)}function ui(s){return null!==s.template}function ss(s){return 0!=(512&s[2])}function U(s,a){return s.hasOwnProperty(jt)?s[jt]:null}class G{constructor(a,d,f){this.previousValue=a,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function z(){return ue}function ue(s){return s.type.prototype.ngOnChanges&&(s.setInput=fe),_e}function _e(){const s=$e(this),a=null==s?void 0:s.current;if(a){const d=s.previous;if(d===Wn)s.previous=a;else for(let f in a)d[f]=a[f];s.current=null,this.ngOnChanges(a)}}function fe(s,a,d,f){const m=$e(s)||function J(s,a){return s[Te]=a}(s,{previous:Wn,current:null}),v=m.current||(m.current={}),T=m.previous,I=this.declaredInputs[d],F=T[I];v[I]=new G(F&&F.currentValue,a,T===Wn),s[f]=a}z.ngInherit=!0;const Te="__ngSimpleChanges__";function $e(s){return s[Te]||null}let zr;function Fr(s){zr=s}function eo(){return void 0!==zr?zr:"undefined"!=typeof document?document:void 0}function xr(s){return!!s.listen}const sc={createRenderer:(s,a)=>eo()};function Kr(s){for(;Array.isArray(s);)s=s[0];return s}function ka(s,a){return Kr(a[s])}function Ro(s,a){return Kr(a[s.index])}function gl(s,a){return s.data[a]}function cs(s,a){return s[a]}function co(s,a){const d=a[s];return Ot(d)?d:d[0]}function ws(s){return 4==(4&s[2])}function La(s){return 128==(128&s[2])}function ls(s,a){return null==a?null:s[a]}function Us(s){s[18]=0}function Sc(s,a){s[5]+=a;let d=s,f=s[3];for(;null!==f&&(1===a&&1===d[5]||-1===a&&0===d[5]);)f[5]+=a,d=f,f=f[3]}const $n={lFrame:au(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ba(){return $n.bindingsEnabled}function Mt(){return $n.lFrame.lView}function Vn(){return $n.lFrame.tView}function af(s){return $n.lFrame.contextLView=s,s[8]}function ci(){let s=ou();for(;null!==s&&64===s.type;)s=s.parent;return s}function ou(){return $n.lFrame.currentTNode}function Ua(){const s=$n.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function js(s,a){const d=$n.lFrame;d.currentTNode=s,d.isParent=a}function Ac(){return $n.lFrame.isParent}function Qu(){$n.lFrame.isParent=!1}function su(){return $n.isInCheckNoChangesMode}function wo(s){$n.isInCheckNoChangesMode=s}function To(){const s=$n.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function ua(){return $n.lFrame.bindingIndex}function Vs(){return $n.lFrame.bindingIndex++}function qo(s){const a=$n.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,d}function da(s){$n.lFrame.inI18n=s}function Xd(s,a){const d=$n.lFrame;d.bindingIndex=d.bindingRootIndex=s,_l(a)}function _l(s){$n.lFrame.currentDirectiveIndex=s}function eh(){return $n.lFrame.currentQueryIndex}function ha(s){$n.lFrame.currentQueryIndex=s}function th(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function vl(s,a,d){if(d&gn.SkipSelf){let m=a,v=s;for(;!(m=m.parent,null!==m||d&gn.Host||(m=th(v),null===m||(v=v[15],10&m.type))););if(null===m)return!1;a=m,s=v}const f=$n.lFrame=ed();return f.currentTNode=a,f.lView=s,!0}function Ic(s){const a=ed(),d=s[1];$n.lFrame=a,a.currentTNode=d.firstChild,a.lView=s,a.tView=d,a.contextLView=s,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function ed(){const s=$n.lFrame,a=null===s?null:s.child;return null===a?au(s):a}function au(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Pc(){const s=$n.lFrame;return $n.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const td=Pc;function Gs(){const s=Pc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Eo(){return $n.lFrame.selectedIndex}function Hs(s){$n.lFrame.selectedIndex=s}function yi(){const s=$n.lFrame;return gl(s.tView,s.selectedIndex)}function nh(s,a){for(let d=a.directiveStart,f=a.directiveEnd;d<f;d++){const v=s.data[d].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:I,ngAfterViewInit:F,ngAfterViewChecked:H,ngOnDestroy:X}=v;T&&(s.contentHooks||(s.contentHooks=[])).push(-d,T),I&&((s.contentHooks||(s.contentHooks=[])).push(d,I),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(d,I)),F&&(s.viewHooks||(s.viewHooks=[])).push(-d,F),H&&((s.viewHooks||(s.viewHooks=[])).push(d,H),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(d,H)),null!=X&&(s.destroyHooks||(s.destroyHooks=[])).push(d,X)}}function hu(s,a,d){yl(s,a,3,d)}function Oc(s,a,d,f){(3&s[2])===d&&yl(s,a,d,f)}function di(s,a){let d=s[2];(3&d)===a&&(d&=2047,d+=1,s[2]=d)}function yl(s,a,d,f){const v=null!=f?f:-1,T=a.length-1;let I=0;for(let F=void 0!==f?65535&s[18]:0;F<T;F++)if("number"==typeof a[F+1]){if(I=a[F],null!=f&&I>=f)break}else a[F]<0&&(s[18]+=65536),(I<v||-1==v)&&(Kg(s,d,a,F),s[18]=(4294901760&s[18])+F+2),F++}function Kg(s,a,d,f){const m=d[f]<0,v=d[f+1],I=s[m?-d[f]:d[f]];if(m){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{v.call(I)}finally{}}}else try{v.call(I)}finally{}}class fu{constructor(a,d,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function xi(s,a,d){const f=xr(s);let m=0;for(;m<d.length;){const v=d[m];if("number"==typeof v){if(0!==v)break;m++;const T=d[m++],I=d[m++],F=d[m++];f?s.setAttribute(a,I,F,T):a.setAttributeNS(T,I,F)}else{const T=v,I=d[++m];Rn(T)?f&&s.setProperty(a,T,I):f?s.setAttribute(a,T,I):a.setAttribute(T,I),m++}}return m}function rd(s){return 3===s||4===s||6===s}function Rn(s){return 64===s.charCodeAt(0)}function Jn(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let d=-1;for(let f=0;f<a.length;f++){const m=a[f];"number"==typeof m?d=m:0===d||rh(s,d,m,null,-1===d||2===d?a[++f]:null)}}return s}function rh(s,a,d,f,m){let v=0,T=s.length;if(-1===a)T=-1;else for(;v<s.length;){const I=s[v++];if("number"==typeof I){if(I===a){T=-1;break}if(I>a){T=v-1;break}}}for(;v<s.length;){const I=s[v];if("number"==typeof I)break;if(I===d){if(null===f)return void(null!==m&&(s[v+1]=m));if(f===s[v+1])return void(s[v+2]=m)}v++,null!==f&&v++,null!==m&&v++}-1!==T&&(s.splice(T,0,a),v=T+1),s.splice(v++,0,d),null!==f&&s.splice(v++,0,f),null!==m&&s.splice(v++,0,m)}function rn(s){return-1!==s}function pt(s){return 32767&s}function Wr(s,a){let d=function It(s){return s>>16}(s),f=a;for(;d>0;)f=f[15],d--;return f}let _r=!0;function Qn(s){const a=_r;return _r=s,a}let uf=0;function lc(s,a){const d=Jr(s,a);if(-1!==d)return d;const f=a[1];f.firstCreatePass&&(s.injectorIndex=a.length,zs(f.data,s),zs(a,null),zs(f.blueprint,null));const m=ds(s,a),v=s.injectorIndex;if(rn(m)){const T=pt(m),I=Wr(m,a),F=I[1].data;for(let H=0;H<8;H++)a[v+H]=I[T+H]|F[T+H]}return a[v+8]=m,v}function zs(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Jr(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function ds(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,f=null,m=a;for(;null!==m;){const v=m[1],T=v.type;if(f=2===T?v.declTNode:1===T?m[6]:null,null===f)return-1;if(d++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function Do(s,a,d){!function pu(s,a,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(Wt)&&(f=d[Wt]),null==f&&(f=d[Wt]=uf++);const m=255&f;a.data[s+(m>>5)]|=1<<m}(s,a,d)}function Ws(s,a,d){if(d&gn.Optional)return s;Ze(a,"NodeInjector")}function gu(s,a,d,f){if(d&gn.Optional&&void 0===f&&(f=null),0==(d&(gn.Self|gn.Host))){const m=s[9],v=Zr(void 0);try{return m?m.get(a,f,d&gn.Optional):Re(a,f,d&gn.Optional)}finally{Zr(v)}}return Ws(f,a,d)}function Yr(s,a,d,f=gn.Default,m){if(null!==s){const v=function $r(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Wt)?s[Wt]:void 0;return"number"==typeof a?a>=0?255&a:mu:a}(d);if("function"==typeof v){if(!vl(a,s,f))return f&gn.Host?Ws(m,d,f):gu(a,d,f,m);try{const T=v(f);if(null!=T||f&gn.Optional)return T;Ze(d)}finally{td()}}else if("number"==typeof v){let T=null,I=Jr(s,a),F=-1,H=f&gn.Host?a[16][6]:null;for((-1===I||f&gn.SkipSelf)&&(F=-1===I?ds(s,a):a[I+8],-1!==F&&Gi(f,!1)?(T=a[1],I=pt(F),a=Wr(F,a)):I=-1);-1!==I;){const X=a[1];if(_u(v,I,X.data)){const Ee=bi(I,a,d,T,f,H);if(Ee!==Mn)return Ee}F=a[I+8],-1!==F&&Gi(f,a[1].data[I+8]===H)&&_u(v,I,a)?(T=X,I=pt(F),a=Wr(F,a)):I=-1}}}return gu(a,d,f,m)}const Mn={};function mu(){return new Zo(ci(),Mt())}function bi(s,a,d,f,m,v){const T=a[1],I=T.data[s+8],X=Ts(I,T,d,null==f?Mr(I)&&_r:f!=T&&0!=(3&I.type),m&gn.Host&&v===I);return null!==X?Ga(a,T,X,I):Mn}function Ts(s,a,d,f,m){const v=s.providerIndexes,T=a.data,I=1048575&v,F=s.directiveStart,X=v>>20,Be=m?I+X:s.directiveEnd;for(let nt=f?I:I+X;nt<Be;nt++){const Et=T[nt];if(nt<F&&d===Et||nt>=F&&Et.type===d)return nt}if(m){const nt=T[F];if(nt&&ui(nt)&&nt.type===d)return F}return null}function Ga(s,a,d,f){let m=s[d];const v=a.data;if(function nd(s){return s instanceof fu}(m)){const T=m;T.resolving&&function De(s,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${s}${d}`)}(Oe(v[d]));const I=Qn(T.canSeeViewProviders);T.resolving=!0;const F=T.injectImpl?Zr(T.injectImpl):null;vl(s,f,gn.Default);try{m=s[d]=T.factory(void 0,v,s,f),a.firstCreatePass&&d>=f.directiveStart&&function wp(s,a,d){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:v}=a.type.prototype;if(f){const T=ue(a);(d.preOrderHooks||(d.preOrderHooks=[])).push(s,T),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,T)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-s,m),v&&((d.preOrderHooks||(d.preOrderHooks=[])).push(s,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,v))}(d,v[d],a)}finally{null!==F&&Zr(F),Qn(I),T.resolving=!1,td()}}return m}function _u(s,a,d){return!!(d[a+(s>>5)]&1<<s)}function Gi(s,a){return!(s&gn.Self||s&gn.Host&&a)}class Zo{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,f){return Yr(this._tNode,this._lView,a,f,d)}}function ih(s){return ct(()=>{const a=s.prototype.constructor,d=a[jt]||_i(a),f=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==f;){const v=m[jt]||_i(m);if(v&&v!==d)return v;m=Object.getPrototypeOf(m)}return v=>new v})}function _i(s){return Ye(s)?()=>{const a=_i(ae(s));return a&&a()}:U(s)}function Nc(s){return function wr(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const d=s.attrs;if(d){const f=d.length;let m=0;for(;m<f;){const v=d[m];if(rd(v))break;if(0===v)m+=2;else if("number"==typeof v)for(m++;m<f&&"string"==typeof d[m];)m++;else{if(v===a)return d[m+1];m+=2}}}return null}(ci(),s)}const Qr="__parameters__";function zo(s,a,d){return ct(()=>{const f=function Cl(s){return function(...d){if(s){const f=s(...d);for(const m in f)this[m]=f[m]}}}(a);function m(...v){if(this instanceof m)return f.apply(this,v),this;const T=new m(...v);return I.annotation=T,I;function I(F,H,X){const Ee=F.hasOwnProperty(Qr)?F[Qr]:Object.defineProperty(F,Qr,{value:[]})[Qr];for(;Ee.length<=X;)Ee.push(null);return(Ee[X]=Ee[X]||[]).push(T),F}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}class oi{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Ln({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dc=new oi("AnalyzeForEntryComponents");function Hi(s,a){void 0===a&&(a=s);for(let d=0;d<s.length;d++){let f=s[d];Array.isArray(f)?(a===s&&(a=s.slice(0,d)),Hi(f,a)):a!==s&&a.push(f)}return a}function $s(s,a){s.forEach(d=>Array.isArray(d)?$s(d,a):a(d))}function wl(s,a,d){a>=s.length?s.push(d):s.splice(a,0,d)}function Ii(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function hs(s,a){const d=[];for(let f=0;f<s;f++)d.push(a);return d}function $o(s,a,d){let f=xs(s,a);return f>=0?s[1|f]=d:(f=~f,function sd(s,a,d,f){let m=s.length;if(m==a)s.push(d,f);else if(1===m)s.push(f,s[0]),s[0]=d;else{for(m--,s.push(s[m-1],s[m]);m>a;)s[m]=s[m-2],m--;s[a]=d,s[a+1]=f}}(s,f,a,d)),f}function ad(s,a){const d=xs(s,a);if(d>=0)return s[1|d]}function xs(s,a){return function bu(s,a,d){let f=0,m=s.length>>d;for(;m!==f;){const v=f+(m-f>>1),T=s[v<<d];if(a===T)return v<<d;T>a?m=v:f=v+1}return~(m<<d)}(s,a,1)}const Fc={},Dl="__NG_DI_FLAG__",va="ngTempTokenPath",B=/\n/gm,ee="__source",Se=V({provide:String,useValue:V});let Ke;function dt(s){const a=Ke;return Ke=s,a}function Gt(s,a=gn.Default){if(void 0===Ke)throw new Ge(203,"");return null===Ke?Re(s,void 0,a):Ke.get(s,a&gn.Optional?null:void 0,a)}function Yt(s,a=gn.Default){return(function Vr(){return Fi}()||Gt)(ae(s),a)}const Hn=Yt;function Nr(s){const a=[];for(let d=0;d<s.length;d++){const f=ae(s[d]);if(Array.isArray(f)){if(0===f.length)throw new Ge(900,"");let m,v=gn.Default;for(let T=0;T<f.length;T++){const I=f[T],F=qi(I);"number"==typeof F?-1===F?m=I.token:v|=F:m=I}a.push(Yt(m,v))}else a.push(Yt(f))}return a}function zn(s,a){return s[Dl]=a,s.prototype[Dl]=a,s}function qi(s){return s[Dl]}const Is=zn(zo("Inject",s=>({token:s})),-1),uo=zn(zo("Optional"),8),ni=zn(zo("SkipSelf"),4);let qa,_f;function Ps(s){var a;return(null===(a=function Vc(){if(void 0===qa&&(qa=null,Qt.trustedTypes))try{qa=Qt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return qa}())||void 0===a?void 0:a.createHTML(s))||s}function Zi(s){var a;return(null===(a=function ah(){if(void 0===_f&&(_f=null,Qt.trustedTypes))try{_f=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return _f}())||void 0===a?void 0:a.createHTML(s))||s}class Gc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ko extends Gc{getTypeName(){return"HTML"}}class Sp extends Gc{getTypeName(){return"Style"}}class xp extends Gc{getTypeName(){return"Script"}}class ld extends Gc{getTypeName(){return"URL"}}class ud extends Gc{getTypeName(){return"ResourceURL"}}function ps(s){return s instanceof Gc?s.changingThisBreaksApplicationSecurity:s}function gc(s,a){const d=vf(s);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===a}function vf(s){return s instanceof Gc&&s.getTypeName()||null}function dd(s){return new Ko(s)}function ch(s){return new Sp(s)}function lh(s){return new xp(s)}function Yg(s){return new ld(s)}function zi(s){return new ud(s)}function Rr(s){const a=new hd(s);return function Hc(){try{return!!(new window.DOMParser).parseFromString(Ps(""),"text/html")}catch(s){return!1}}()?new yf(a):a}class yf{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(Ps(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class hd{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(a){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=Ps(a),d;const f=this.inertDocument.createElement("body");return f.innerHTML=Ps(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(a){const d=a.attributes;for(let m=d.length-1;0<m;m--){const T=d.item(m).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&a.removeAttribute(T)}let f=a.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Mi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ri(s){return(s=String(s)).match(Mi)||s.match(xo)?s:"unsafe:"+s}function fd(s){return(s=String(s)).split(",").map(a=>ri(a.trim())).join(", ")}function Lo(s){const a={};for(const d of s.split(","))a[d]=!0;return a}function uh(...s){const a={};for(const d of s)for(const f in d)d.hasOwnProperty(f)&&(a[f]=!0);return a}const Jo=Lo("area,br,col,hr,img,wbr"),Ap=Lo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qc=Lo("rp,rt"),Xr=uh(Jo,uh(Ap,Lo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uh(qc,Lo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uh(qc,Ap)),Xg=Lo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Al=Lo("srcset"),hh=uh(Xg,Al,Lo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ip=Lo("script,style,template");class Il{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!Xr.hasOwnProperty(d))return this.sanitizedSomething=!0,!Ip.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=a.attributes;for(let m=0;m<f.length;m++){const v=f.item(m),T=v.name,I=T.toLowerCase();if(!hh.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let F=v.value;Xg[I]&&(F=ri(F)),Al[I]&&(F=fd(F)),this.buf.push(" ",T,'="',Pp(F),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();Xr.hasOwnProperty(d)&&!Jo.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(Pp(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const em=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tm=/([^\#-~ |!])/g;function Pp(s){return s.replace(/&/g,"&amp;").replace(em,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(tm,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let md;function nm(s,a){let d=null;try{md=md||Rr(s);let f=a?String(a):"";d=md.getInertBodyElement(f);let m=5,v=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=v,v=d.innerHTML,d=md.getInertBodyElement(f)}while(f!==v);return Ps((new Il).sanitizeChildren(Op(d)||d))}finally{if(d){const f=Op(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Op(s){return"content"in s&&function Mp(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ci=(()=>((Ci=Ci||{})[Ci.NONE=0]="NONE",Ci[Ci.HTML=1]="HTML",Ci[Ci.STYLE=2]="STYLE",Ci[Ci.SCRIPT=3]="SCRIPT",Ci[Ci.URL=4]="URL",Ci[Ci.RESOURCE_URL=5]="RESOURCE_URL",Ci))();function Np(s){const a=_d();return a?Zi(a.sanitize(Ci.HTML,s)||""):gc(s,"HTML")?Zi(ps(s)):nm(eo(),le(s))}function fo(s){const a=_d();return a?a.sanitize(Ci.URL,s)||"":gc(s,"URL")?ps(s):ri(le(s))}function _d(){const s=Mt();return s&&s[12]}const ph="__ngContext__";function Qo(s,a){s[ph]=a}function Tf(s){const a=function wf(s){return s[ph]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function go(s){return s.ngOriginalError}function mh(s,...a){s.error(...a)}class Os{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a),f=function Df(s){return s&&s.ngErrorLogger||mh}(a);f(this._console,"ERROR",a),d&&f(this._console,"ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&go(a);for(;d&&go(d);)d=go(d);return d||null}}const Zc=/^>|^->|<!--|-->|--!>|<!-$/g,kp=/(<|>)/;const V_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qt))();function vh(s){return s.ownerDocument.defaultView}function pi(s){return s.ownerDocument}function Xo(s){return s instanceof Function?s():s}var ba=(()=>((ba=ba||{})[ba.Important=1]="Important",ba[ba.DashCase=2]="DashCase",ba))();let _t;function ei(s,a){return _t(s,a)}function gs(s){const a=s[3];return Jt(a)?a[3]:a}function Wc(s){return bh(s[13])}function Iu(s){return bh(s[4])}function bh(s){for(;null!==s&&!Jt(s);)s=s[4];return s}function Ri(s,a,d,f,m){if(null!=f){let v,T=!1;Jt(f)?v=f:Ot(f)&&(T=!0,f=f[0]);const I=Kr(f);0===s&&null!==d?null==m?Of(a,d,I):Jc(a,d,I,m||null,!0):1===s&&null!==d?Jc(a,d,I,m||null,!0):2===s?Nl(a,I,T):3===s&&a.destroyNode(I),null!=v&&function Th(s,a,d,f,m){const v=d[7];v!==Kr(d)&&Ri(a,s,f,v,m);for(let I=10;I<d.length;I++){const F=d[I];Qs(F[1],F,s,a,f,v)}}(a,s,v,d,m)}}function yd(s,a){return xr(s)?s.createText(a):s.createTextNode(a)}function bd(s,a,d){xr(s)?s.setValue(a,d):a.textContent=d}function Ch(s,a){return s.createComment(function Sf(s){return s.replace(Zc,a=>a.replace(kp,"\u200b$1\u200b"))}(a))}function _c(s,a,d){if(xr(s))return s.createElement(a,d);{const f=null!==d?function Kn(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(d):null;return null===f?s.createElement(a):s.createElementNS(f,a)}}function Js(s,a){const d=s[9],f=d.indexOf(a),m=a[3];1024&a[2]&&(a[2]&=-1025,Sc(m,-1)),d.splice(f,1)}function $c(s,a){if(s.length<=10)return;const d=10+a,f=s[d];if(f){const m=f[17];null!==m&&m!==s&&Js(m,f),a>0&&(s[d-1][4]=f[4]);const v=Ii(s,10+a);!function am(s,a){Qs(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(f[1],f);const T=v[19];null!==T&&T.detachView(v[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function Kc(s,a){if(!(256&a[2])){const d=a[11];xr(d)&&d.destroyNode&&Qs(s,a,d,3,null,null),function wh(s){let a=s[13];if(!a)return Pf(s[1],s);for(;a;){let d=null;if(Ot(a))d=a[13];else{const f=a[10];f&&(d=f)}if(!d){for(;a&&!a[4]&&a!==s;)Ot(a)&&Pf(a[1],a),a=a[3];null===a&&(a=s),Ot(a)&&Pf(a[1],a),d=a&&a[4]}a=d}}(a)}}function Pf(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Up(s,a){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let f=0;f<d.length;f+=2){const m=a[d[f]];if(!(m instanceof fu)){const v=d[f+1];if(Array.isArray(v))for(let T=0;T<v.length;T+=2){const I=m[v[T]],F=v[T+1];try{F.call(I)}finally{}}else try{v.call(m)}finally{}}}}(s,a),function Bp(s,a){const d=s.cleanup,f=a[7];let m=-1;if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const T=d[v+1],I="function"==typeof T?T(a):Kr(a[T]),F=f[m=d[v+2]],H=d[v+3];"boolean"==typeof H?I.removeEventListener(d[v],F,H):H>=0?f[m=H]():f[m=-H].unsubscribe(),v+=2}else{const T=f[m=d[v+1]];d[v].call(T)}if(null!==f){for(let v=m+1;v<f.length;v++)f[v]();a[7]=null}}(s,a),1===a[1].type&&xr(a[11])&&a[11].destroy();const d=a[17];if(null!==d&&Jt(a[3])){d!==a[3]&&Js(d,a);const f=a[19];null!==f&&f.detachView(s)}}}function Ys(s,a,d){return jp(s,a.parent,d)}function jp(s,a,d){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return d[0];if(2&f.flags){const m=s.data[f.directiveStart].encapsulation;if(m===Pt.None||m===Pt.Emulated)return null}return Ro(f,d)}function Jc(s,a,d,f,m){xr(s)?s.insertBefore(a,d,f,m):a.insertBefore(d,f,m)}function Of(s,a,d){xr(s)?s.appendChild(a,d):a.appendChild(d)}function Vp(s,a,d,f,m){null!==f?Jc(s,a,d,f,m):Of(s,a,d)}function Ao(s,a){return xr(s)?s.parentNode(a):a.parentNode}function Gp(s,a,d){return qp(s,a,d)}function Hp(s,a,d){return 40&s.type?Ro(s,d):null}let Zp,qp=Hp;function Cd(s,a){qp=s,Zp=a}function $a(s,a,d,f){const m=Ys(s,f,a),v=a[11],I=Gp(f.parent||a[6],f,a);if(null!=m)if(Array.isArray(d))for(let F=0;F<d.length;F++)Vp(v,m,d[F],I,!1);else Vp(v,m,d,I,!1);void 0!==Zp&&Zp(v,f,a,d,m)}function Ka(s,a){if(null!==a){const d=a.type;if(3&d)return Ro(a,s);if(4&d)return wd(-1,s[a.index]);if(8&d){const f=a.child;if(null!==f)return Ka(s,f);{const m=s[a.index];return Jt(m)?wd(-1,m):Kr(m)}}if(32&d)return ei(a,s)()||Kr(s[a.index]);{const f=Mf(s,a);return null!==f?Array.isArray(f)?f[0]:Ka(gs(s[16]),f):Ka(s,a.next)}}return null}function Mf(s,a){return null!==a?s[16][6].projection[a.projection]:null}function wd(s,a){const d=10+s+1;if(d<a.length){const f=a[d],m=f[1].firstChild;if(null!==m)return Ka(f,m)}return a[7]}function Nl(s,a,d){const f=Ao(s,a);f&&function oo(s,a,d,f){xr(s)?s.removeChild(a,d,f):a.removeChild(d)}(s,f,a,d)}function Dr(s,a,d,f,m,v,T){for(;null!=d;){const I=f[d.index],F=d.type;if(T&&0===a&&(I&&Qo(Kr(I),f),d.flags|=4),64!=(64&d.flags))if(8&F)Dr(s,a,d.child,f,m,v,!1),Ri(a,s,m,I,v);else if(32&F){const H=ei(d,f);let X;for(;X=H();)Ri(a,s,m,X,v);Ri(a,s,m,I,v)}else 16&F?Yc(s,a,f,d,m,v):Ri(a,s,m,I,v);d=T?d.projectionNext:d.next}}function Qs(s,a,d,f,m,v){Dr(d,f,s.firstChild,a,m,v,!1)}function Yc(s,a,d,f,m,v){const T=d[16],F=T[6].projection[f.projection];if(Array.isArray(F))for(let H=0;H<F.length;H++)Ri(a,s,m,F[H],v);else Dr(s,a,F,T[3],m,v,!0)}function Td(s,a,d){xr(s)?s.setAttribute(a,"style",d):a.style.cssText=d}function Nf(s,a,d){xr(s)?""===d?s.removeAttribute(a,"class"):s.setAttribute(a,"class",d):a.className=d}function Fo(s,a,d){let f=s.length;for(;;){const m=s.indexOf(a,d);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const v=a.length;if(m+v===f||s.charCodeAt(m+v)<=32)return m}d=m+1}}const Ed="ng-template";function Dd(s,a,d){let f=0;for(;f<s.length;){let m=s[f++];if(d&&"class"===m){if(m=s[f],-1!==Fo(m.toLowerCase(),a,0))return!0}else if(1===m){for(;f<s.length&&"string"==typeof(m=s[f++]);)if(m.toLowerCase()===a)return!0;return!1}}return!1}function zp(s){return 4===s.type&&s.value!==Ed}function vc(s,a,d){return a===(4!==s.type||d?s.value:Ed)}function Qc(s,a,d){let f=4;const m=s.attrs||[],v=function dm(s){for(let a=0;a<s.length;a++)if(rd(s[a]))return a;return s.length}(m);let T=!1;for(let I=0;I<a.length;I++){const F=a[I];if("number"!=typeof F){if(!T)if(4&f){if(f=2|1&f,""!==F&&!vc(s,F,d)||""===F&&1===a.length){if(Xs(f))return!1;T=!0}}else{const H=8&f?F:a[++I];if(8&f&&null!==s.attrs){if(!Dd(s.attrs,H,d)){if(Xs(f))return!1;T=!0}continue}const Ee=Rl(8&f?"class":F,m,zp(s),d);if(-1===Ee){if(Xs(f))return!1;T=!0;continue}if(""!==H){let Be;Be=Ee>v?"":m[Ee+1].toLowerCase();const nt=8&f?Be:null;if(nt&&-1!==Fo(nt,H,0)||2&f&&H!==Be){if(Xs(f))return!1;T=!0}}}}else{if(!T&&!Xs(f)&&!Xs(F))return!1;if(T&&Xs(F))continue;T=!1,f=F|1&f}}return Xs(f)||T}function Xs(s){return 0==(1&s)}function Rl(s,a,d,f){if(null===a)return-1;let m=0;if(f||!d){let v=!1;for(;m<a.length;){const T=a[m];if(T===s)return m;if(3===T||6===T)v=!0;else{if(1===T||2===T){let I=a[++m];for(;"string"==typeof I;)I=a[++m];continue}if(4===T)break;if(0===T){m+=4;continue}}m+=v?1:2}return-1}return function Ja(s,a){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const f=s[d];if("number"==typeof f)return-1;if(f===a)return d;d++}return-1}(a,s)}function um(s,a,d=!1){for(let f=0;f<a.length;f++)if(Qc(s,a[f],d))return!0;return!1}function Ou(s,a){e:for(let d=0;d<a.length;d++){const f=a[d];if(s.length===f.length){for(let m=0;m<s.length;m++)if(s[m]!==f[m])continue e;return!0}}return!1}function Rf(s,a){return s?":not("+a.trim()+")":a}function hm(s){let a=s[0],d=1,f=2,m="",v=!1;for(;d<s.length;){let T=s[d];if("string"==typeof T)if(2&f){const I=s[++d];m+="["+T+(I.length>0?'="'+I+'"':"")+"]"}else 8&f?m+="."+T:4&f&&(m+=" "+T);else""!==m&&!Xs(T)&&(a+=Rf(v,m),m=""),f=T,v=v||!Xs(f);d++}return""!==m&&(a+=Rf(v,m)),a}const S={};function _(s){w(Vn(),Mt(),Eo()+s,su())}function w(s,a,d,f){if(!f)if(3==(3&a[2])){const v=s.preOrderCheckHooks;null!==v&&hu(a,v,d)}else{const v=s.preOrderHooks;null!==v&&Oc(a,v,0,d)}Hs(d)}function ie(s,a){return s<<17|a<<2}function ve(s){return s>>17&32767}function yn(s){return 2|s}function Bn(s){return(131068&s)>>2}function hr(s,a){return-131069&s|a<<2}function _s(s){return 1|s}function Ih(s,a){const d=s.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const m=d[f],v=d[f+1];if(-1!==v){const T=s.data[v];ha(m),T.contentQueries(2,a[v],v)}}}function Ul(s,a,d,f,m,v,T,I,F,H){const X=a.blueprint.slice();return X[0]=m,X[2]=140|f,Us(X),X[3]=X[15]=s,X[8]=d,X[10]=T||s&&s[10],X[11]=I||s&&s[11],X[12]=F||s&&s[12]||null,X[9]=H||s&&s[9]||null,X[6]=v,X[16]=2==a.type?s[16]:X,X}function es(s,a,d,f,m){let v=s.data[a];if(null===v)v=Kp(s,a,d,f,m),function Qd(){return $n.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=d,v.value=f,v.attrs=m;const T=Ua();v.injectorIndex=null===T?-1:T.injectorIndex}return js(v,!0),v}function Kp(s,a,d,f,m){const v=ou(),T=Ac(),F=s.data[a]=function Cm(s,a,d,f,m,v){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?v:v&&v.parent,d,a,f,m);return null===s.firstChild&&(s.firstChild=F),null!==v&&(T?null==v.child&&null!==F.parent&&(v.child=F):null===v.next&&(v.next=F)),F}function Nu(s,a,d,f){if(0===d)return-1;const m=a.length;for(let v=0;v<d;v++)a.push(f),s.blueprint.push(f),s.data.push(null);return m}function Ru(s,a,d){Ic(a);try{const f=s.viewQuery;null!==f&&Mm(1,f,d);const m=s.template;null!==m&&vm(s,a,m,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ih(s,a),s.staticViewQueries&&Mm(2,s.viewQuery,d);const v=s.components;null!==v&&function _m(s,a){for(let d=0;d<a.length;d++)rg(s,a[d])}(a,v)}catch(f){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),f}finally{a[2]&=-5,Gs()}}function jl(s,a,d,f){const m=a[2];if(256==(256&m))return;Ic(a);const v=su();try{Us(a),function ja(s){return $n.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&vm(s,a,d,2,f);const T=3==(3&m);if(!v)if(T){const H=s.preOrderCheckHooks;null!==H&&hu(a,H,null)}else{const H=s.preOrderHooks;null!==H&&Oc(a,H,0,null),di(a,0)}if(function ky(s){for(let a=Wc(s);null!==a;a=Iu(a)){if(!a[2])continue;const d=a[9];for(let f=0;f<d.length;f++){const m=d[f],v=m[3];0==(1024&m[2])&&Sc(v,1),m[2]|=1024}}}(a),function tg(s){for(let a=Wc(s);null!==a;a=Iu(a))for(let d=10;d<a.length;d++){const f=a[d],m=f[1];La(f)&&jl(m,f,m.template,f[8])}}(a),null!==s.contentQueries&&Ih(s,a),!v)if(T){const H=s.contentCheckHooks;null!==H&&hu(a,H)}else{const H=s.contentHooks;null!==H&&Oc(a,H,1),di(a,1)}!function Ah(s,a){const d=s.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const m=d[f];if(m<0)Hs(~m);else{const v=m,T=d[++f],I=d[++f];Xd(T,v),I(2,a[v])}}}finally{Hs(-1)}}(s,a);const I=s.components;null!==I&&function mm(s,a){for(let d=0;d<a.length;d++)ng(s,a[d])}(a,I);const F=s.viewQuery;if(null!==F&&Mm(2,F,f),!v)if(T){const H=s.viewCheckHooks;null!==H&&hu(a,H)}else{const H=s.viewHooks;null!==H&&Oc(a,H,2),di(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),v||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Sc(a[3],-1))}finally{Gs()}}function Ev(s,a,d,f){const m=a[10],v=!su(),T=ws(a);try{v&&!T&&m.begin&&m.begin(),T&&Ru(s,a,f),jl(s,a,d,f)}finally{v&&!T&&m.end&&m.end()}}function vm(s,a,d,f,m){const v=Eo(),T=2&f;try{Hs(-1),T&&a.length>20&&w(s,a,20,su()),d(f,m)}finally{Hs(v)}}function jf(s,a,d){if(ar(a)){const m=a.directiveEnd;for(let v=a.directiveStart;v<m;v++){const T=s.data[v];T.contentQueries&&T.contentQueries(1,d[v],v)}}}function kd(s,a,d){!Ba()||(function Hf(s,a,d,f){const m=d.directiveStart,v=d.directiveEnd;s.firstCreatePass||lc(d,a),Qo(f,a);const T=d.initialInputs;for(let I=m;I<v;I++){const F=s.data[I],H=ui(F);H&&n0(a,d,F);const X=Ga(a,s,I,d);Qo(X,a),null!==T&&Om(0,I-m,X,F,0,T),H&&(co(d.index,a)[8]=X)}}(s,a,d,Ro(d,a)),128==(128&d.flags)&&function Sm(s,a,d){const f=d.directiveStart,m=d.directiveEnd,T=d.index,I=function cc(){return $n.lFrame.currentDirectiveIndex}();try{Hs(T);for(let F=f;F<m;F++){const H=s.data[F],X=a[F];_l(F),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&qf(H,X)}}finally{Hs(-1),_l(I)}}(s,a,d))}function ku(s,a,d=Ro){const f=a.localNames;if(null!==f){let m=a.index+1;for(let v=0;v<f.length;v+=2){const T=f[v+1],I=-1===T?d(a,s):s[T];s[m++]=I}}}function Jp(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Vf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Vf(s,a,d,f,m,v,T,I,F,H){const X=20+f,Ee=X+m,Be=function Yp(s,a){const d=[];for(let f=0;f<a;f++)d.push(f<s?null:S);return d}(X,Ee),nt="function"==typeof H?H():H;return Be[1]={type:s,blueprint:Be,template:d,queries:null,viewQuery:I,declTNode:a,data:Be.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:F,consts:nt,incompleteFirstPass:!1}}function Ph(s,a,d,f){const m=$f(a);null===d?m.push(f):(m.push(d),s.firstCreatePass&&sg(s).push(f,m.length-1))}function Ld(s,a,d){for(let f in s)if(s.hasOwnProperty(f)){const m=s[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(a,m):d[f]=[a,m]}return d}function Bo(s,a,d,f,m,v,T,I){const F=Ro(a,d);let X,H=a.inputs;!I&&null!=H&&(X=H[f])?(a0(s,d,X,f,m),Mr(a)&&function Tm(s,a){const d=co(a,s);16&d[2]||(d[2]|=64)}(d,a.index)):3&a.type&&(f=function Xp(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(f),m=null!=T?T(m,a.value||"",f):m,xr(v)?v.setProperty(F,f,m):Rn(f)||(F.setProperty?F.setProperty(f,m):F[f]=m))}function Gl(s,a,d,f){let m=!1;if(Ba()){const v=function xm(s,a,d){const f=s.directiveRegistry;let m=null;if(f)for(let v=0;v<f.length;v++){const T=f[v];um(d,T.selectors,!1)&&(m||(m=[]),Do(lc(d,a),s,T.type),ui(T)?(Am(s,d),m.unshift(T)):m.push(T))}return m}(s,a,d),T=null===f?null:{"":-1};if(null!==v){m=!0,e0(d,s.data.length,v.length);for(let X=0;X<v.length;X++){const Ee=v[X];Ee.providersResolver&&Ee.providersResolver(Ee)}let I=!1,F=!1,H=Nu(s,a,v.length,null);for(let X=0;X<v.length;X++){const Ee=v[X];d.mergedAttrs=Jn(d.mergedAttrs,Ee.hostAttrs),t0(s,d,a,H,Ee),Im(H,Ee,T),null!==Ee.contentQueries&&(d.flags|=8),(null!==Ee.hostBindings||null!==Ee.hostAttrs||0!==Ee.hostVars)&&(d.flags|=128);const Be=Ee.type.prototype;!I&&(Be.ngOnChanges||Be.ngOnInit||Be.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(d.index),I=!0),!F&&(Be.ngOnChanges||Be.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(d.index),F=!0),H++}!function wm(s,a){const f=a.directiveEnd,m=s.data,v=a.attrs,T=[];let I=null,F=null;for(let H=a.directiveStart;H<f;H++){const X=m[H],Ee=X.inputs,Be=null===v||zp(a)?null:Sv(Ee,v);T.push(Be),I=Ld(Ee,H,I),F=Ld(X.outputs,H,F)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=16),I.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=T,a.inputs=I,a.outputs=F}(s,d)}T&&function Oh(s,a,d){if(a){const f=s.localNames=[];for(let m=0;m<a.length;m+=2){const v=d[a[m+1]];if(null==v)throw new Ge(-301,!1);f.push(a[m],v)}}}(d,f,T)}return d.mergedAttrs=Jn(d.mergedAttrs,d.attrs),m}function X_(s,a,d,f,m,v){const T=v.hostBindings;if(T){let I=s.hostBindingOpCodes;null===I&&(I=s.hostBindingOpCodes=[]);const F=~a.index;(function Dm(s){let a=s.length;for(;a>0;){const d=s[--a];if("number"==typeof d&&d<0)return d}return 0})(I)!=F&&I.push(F),I.push(f,m,T)}}function qf(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Am(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Im(s,a,d){if(d){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)d[a.exportAs[f]]=s;ui(a)&&(d[""]=s)}}function e0(s,a,d){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+d,s.providerIndexes=a}function t0(s,a,d,f,m){s.data[f]=m;const v=m.factory||(m.factory=U(m.type)),T=new fu(v,ui(m),null);s.blueprint[f]=T,d[f]=T,X_(s,a,0,f,Nu(s,d,m.hostVars,S),m)}function n0(s,a,d){const f=Ro(a,s),m=Jp(d),v=s[10],T=Mh(s,Ul(s,m,null,d.onPush?64:16,f,a,v,v.createRenderer(f,d),null,null));s[a.index]=T}function Pm(s,a,d,f,m,v,T){if(null==v)xr(s)?s.removeAttribute(a,m,d):a.removeAttribute(m);else{const I=null==T?le(v):T(v,f||"",m);xr(s)?s.setAttribute(a,m,I,d):d?a.setAttributeNS(d,m,I):a.setAttribute(m,I)}}function Om(s,a,d,f,m,v){const T=v[a];if(null!==T){const I=f.setInput;for(let F=0;F<T.length;){const H=T[F++],X=T[F++],Ee=T[F++];null!==I?f.setInput(d,Ee,H,X):d[X]=Ee}}}function Sv(s,a){let d=null,f=0;for(;f<a.length;){const m=a[f];if(0!==m)if(5!==m){if("number"==typeof m)break;s.hasOwnProperty(m)&&(null===d&&(d=[]),d.push(m,s[m],a[f+1])),f+=2}else f+=2;else f+=4}return d}function o0(s,a,d,f){return new Array(s,!0,!1,a,null,0,f,d,null,null)}function ng(s,a){const d=co(a,s);if(La(d)){const f=d[1];80&d[2]?jl(f,d,f.template,d[8]):d[5]>0&&Zf(d)}}function Zf(s){for(let f=Wc(s);null!==f;f=Iu(f))for(let m=10;m<f.length;m++){const v=f[m];if(1024&v[2]){const T=v[1];jl(T,v,T.template,v[8])}else v[5]>0&&Zf(v)}const d=s[1].components;if(null!==d)for(let f=0;f<d.length;f++){const m=co(d[f],s);La(m)&&m[5]>0&&Zf(m)}}function rg(s,a){const d=co(a,s),f=d[1];(function ig(s,a){for(let d=a.length;d<s.blueprint.length;d++)a.push(s.blueprint[d])})(f,d),Ru(f,d,d[8])}function Mh(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Lu(s){for(;s;){s[2]|=64;const a=gs(s);if(ss(s)&&!a)return s;s=a}return null}function Hl(s,a,d){const f=a[10];f.begin&&f.begin();try{jl(s,a,s.template,d)}catch(m){throw s0(a,m),m}finally{f.end&&f.end()}}function Fd(s){!function zf(s){for(let a=0;a<s.components.length;a++){const d=s.components[a],f=Tf(d),m=f[1];Ev(m,f,m.template,d)}}(s[8])}function Mm(s,a,d){ha(0),a(s,d)}const Wf=(()=>Promise.resolve(null))();function $f(s){return s[7]||(s[7]=[])}function sg(s){return s.cleanup||(s.cleanup=[])}function s0(s,a){const d=s[9],f=d?d.get(Os,null):null;f&&f.handleError(a)}function a0(s,a,d,f,m){for(let v=0;v<d.length;){const T=d[v++],I=d[v++],F=a[T],H=s.data[T];null!==H.setInput?H.setInput(F,m,f,I):F[I]=m}}function Xa(s,a,d){const f=ka(a,s);bd(s[11],f,d)}function Rh(s,a,d){let f=d?s.styles:null,m=d?s.classes:null,v=0;if(null!==a)for(let T=0;T<a.length;T++){const I=a[T];"number"==typeof I?v=I:1==v?m=Y(m,I):2==v&&(f=Y(f,I+": "+a[++T]+";"))}d?s.styles=f:s.stylesWithoutHost=f,d?s.classes=m:s.classesWithoutHost=m}const Kf=new oi("INJECTOR",-1);class bc{get(a,d=Fc){if(d===Fc){const f=new Error(`NullInjectorError: No provider for ${W(a)}!`);throw f.name="NullInjectorError",f}return d}}const ec=new oi("Set Injector scope."),Cc={},Av={};let Nm;function Rm(){return void 0===Nm&&(Nm=new bc),Nm}function c0(s,a=null,d=null,f){const m=Jf(s,a,d,f);return m._resolveInjectorDefTypes(),m}function Jf(s,a=null,d=null,f){return new cg(s,d,a||Rm(),f)}class cg{constructor(a,d,f,m=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const v=[];d&&$s(d,I=>this.processProvider(I,a,d)),$s([a],I=>this.processInjectorType(I,[],v)),this.records.set(Kf,Bu(void 0,this));const T=this.records.get(ec);this.scope=null!=T?T.value:null,this.source=m||("object"==typeof a?null:W(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,d=Fc,f=gn.Default){this.assertNotDestroyed();const m=dt(this),v=Zr(void 0);try{if(!(f&gn.SkipSelf)){let I=this.records.get(a);if(void 0===I){const F=function Iv(s){return"function"==typeof s||"object"==typeof s&&s instanceof oi}(a)&&Yn(a);I=F&&this.injectableDefInScope(F)?Bu(Bd(a),Cc):null,this.records.set(a,I)}if(null!=I)return this.hydrate(a,I)}return(f&gn.Self?Rm():this.parent).get(a,d=f&gn.Optional&&d===Fc?null:d)}catch(T){if("NullInjectorError"===T.name){if((T[va]=T[va]||[]).unshift(W(a)),m)throw T;return function Oi(s,a,d,f){const m=s[va];throw a[ee]&&m.unshift(a[ee]),s.message=function fc(s,a,d,f=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let m=W(a);if(Array.isArray(a))m=a.map(W).join(" -> ");else if("object"==typeof a){let v=[];for(let T in a)if(a.hasOwnProperty(T)){let I=a[T];v.push(T+":"+("string"==typeof I?JSON.stringify(I):W(I)))}m=`{${v.join(", ")}}`}return`${d}${f?"("+f+")":""}[${m}]: ${s.replace(B,"\n  ")}`}("\n"+s.message,m,d,f),s.ngTokenPath=m,s[va]=null,s}(T,a,"R3InjectorError",this.source)}throw T}finally{Zr(v),dt(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((f,m)=>a.push(W(m))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processInjectorType(a,d,f){if(!(a=ae(a)))return!1;let m=Bi(a);const v=null==m&&a.ngModule||void 0,T=void 0===v?a:v,I=-1!==f.indexOf(T);if(void 0!==v&&(m=Bi(v)),null==m)return!1;if(null!=m.imports&&!I){let X;f.push(T);try{$s(m.imports,Ee=>{this.processInjectorType(Ee,d,f)&&(void 0===X&&(X=[]),X.push(Ee))})}finally{}if(void 0!==X)for(let Ee=0;Ee<X.length;Ee++){const{ngModule:Be,providers:nt}=X[Ee];$s(nt,Et=>this.processProvider(Et,Be,nt||Ht))}}this.injectorDefTypes.add(T);const F=U(T)||(()=>new T);this.records.set(T,Bu(F,Cc));const H=m.providers;if(null!=H&&!I){const X=a;$s(H,Ee=>this.processProvider(Ee,X,H))}return void 0!==v&&void 0!==a.providers}processProvider(a,d,f){let m=kh(a=ae(a))?a:ae(a&&a.provide);const v=function ql(s,a,d){return Lm(s)?Bu(void 0,s.useValue):Bu(km(s),Cc)}(a);if(kh(a)||!0!==a.multi)this.records.get(m);else{let T=this.records.get(m);T||(T=Bu(void 0,Cc,!0),T.factory=()=>Nr(T.multi),this.records.set(m,T)),m=a,T.multi.push(a)}this.records.set(m,v)}hydrate(a,d){return d.value===Cc&&(d.value=Av,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Um(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this.onDestroy.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=ae(a.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function Bd(s){const a=Yn(s),d=null!==a?a.factory:U(s);if(null!==d)return d;if(s instanceof oi)throw new Ge(204,!1);if(s instanceof Function)return function By(s){const a=s.length;if(a>0)throw hs(a,"?"),new Ge(204,!1);const d=function mr(s){const a=s&&(s[Ti]||s[jr]);if(a){const d=function Ir(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),a}return null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new Ge(204,!1)}function km(s,a,d){let f;if(kh(s)){const m=ae(s);return U(m)||Bd(m)}if(Lm(s))f=()=>ae(s.useValue);else if(function l0(s){return!(!s||!s.useFactory)}(s))f=()=>s.useFactory(...Nr(s.deps||[]));else if(function Fm(s){return!(!s||!s.useExisting)}(s))f=()=>Yt(ae(s.useExisting));else{const m=ae(s&&(s.useClass||s.provide));if(!function u0(s){return!!s.deps}(s))return U(m)||Bd(m);f=()=>new m(...Nr(s.deps))}return f}function Bu(s,a,d=!1){return{factory:s,value:a,multi:d?[]:void 0}}function Lm(s){return null!==s&&"object"==typeof s&&Se in s}function kh(s){return"function"==typeof s}let Ca=(()=>{class s{static create(d,f){var m;if(Array.isArray(d))return c0({name:""},f,d,"");{const v=null!==(m=d.name)&&void 0!==m?m:"";return c0({name:v},d.parent,d.providers,v)}}}return s.THROW_IF_NOT_FOUND=Fc,s.NULL=new bc,s.\u0275prov=Ln({token:s,providedIn:"any",factory:()=>Yt(Kf)}),s.__NG_ELEMENT_ID__=-1,s})();function hg(s,a){nh(Tf(s)[1],ci())}function tp(s){let a=function tc(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const f=[s];for(;a;){let m;if(ui(s))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ge(903,"");m=a.\u0275dir}if(m){if(d){f.push(m);const T=s;T.inputs=g0(s.inputs),T.declaredInputs=g0(s.declaredInputs),T.outputs=g0(s.outputs);const I=m.hostBindings;I&&Mv(s,I);const F=m.viewQuery,H=m.contentQueries;if(F&&m0(s,F),H&&np(s,H),q(s.inputs,m.inputs),q(s.declaredInputs,m.declaredInputs),q(s.outputs,m.outputs),ui(m)&&m.data.animation){const X=s.data;X.animation=(X.animation||[]).concat(m.data.animation)}}const v=m.features;if(v)for(let T=0;T<v.length;T++){const I=v[T];I&&I.ngInherit&&I(s),I===tp&&(d=!1)}}a=Object.getPrototypeOf(a)}!function fg(s){let a=0,d=null;for(let f=s.length-1;f>=0;f--){const m=s[f];m.hostVars=a+=m.hostVars,m.hostAttrs=Jn(m.hostAttrs,d=Jn(d,m.hostAttrs))}}(f)}function g0(s){return s===Wn?{}:s===Ht?[]:s}function m0(s,a){const d=s.viewQuery;s.viewQuery=d?(f,m)=>{a(f,m),d(f,m)}:a}function np(s,a){const d=s.contentQueries;s.contentQueries=d?(f,m,v)=>{a(f,m,v),d(f,m,v)}:a}function Mv(s,a){const d=s.hostBindings;s.hostBindings=d?(f,m)=>{a(f,m),d(f,m)}:a}let Zm=null;function rp(){if(!Zm){const s=Qt.Symbol;if(s&&s.iterator)Zm=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<a.length;++d){const f=a[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Zm=f)}}}return Zm}function pg(s){return!!ip(s)&&(Array.isArray(s)||!(s instanceof Map)&&rp()in s)}function ip(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function na(s,a,d){return s[a]=d}function ts(s,a,d){return!Object.is(s[a],d)&&(s[a]=d,!0)}function rl(s,a,d,f){const m=ts(s,a,d);return ts(s,a+1,f)||m}function op(s,a,d,f){const m=Mt();return ts(m,Vs(),a)&&(Vn(),function Qa(s,a,d,f,m,v){const T=Ro(s,a);Pm(a[11],T,v,s.value,d,f,m)}(yi(),m,s,a,d,f)),op}function il(s,a,d,f){return ts(s,Vs(),d)?a+le(d)+f:S}function qd(s,a,d,f,m,v,T,I){const F=Mt(),H=Vn(),X=s+20,Ee=H.firstCreatePass?function Zl(s,a,d,f,m,v,T,I,F){const H=a.consts,X=es(a,s,4,T||null,ls(H,I));Gl(a,d,X,ls(H,F)),nh(a,X);const Ee=X.tViews=Vf(2,X,f,m,v,a.directiveRegistry,a.pipeRegistry,null,a.schemas,H);return null!==a.queries&&(a.queries.template(a,X),Ee.queries=a.queries.embeddedTView(X)),X}(X,H,F,a,d,f,m,v,T):H.data[X];js(Ee,!1);const Be=F[11].createComment("");$a(H,F,Be,Ee),Qo(Be,F),Mh(F,F[X]=o0(Be,F,Be,Ee)),pr(Ee)&&kd(H,F,Ee),null!=T&&ku(F,Ee,I)}function Gh(s){return cs(function ml(){return $n.lFrame.contextLView}(),20+s)}function ol(s,a=gn.Default){const d=Mt();return null===d?Yt(s,a):Yr(ci(),d,ae(s),a)}function Li(){throw new Error("invalid")}function Vu(s,a,d){const f=Mt();return ts(f,Vs(),a)&&Bo(Vn(),yi(),f,s,a,f[11],d,!1),Vu}function bg(s,a,d,f,m){const T=m?"class":"style";a0(s,d,a.inputs[T],T,f)}function Cg(s,a,d,f){const m=Mt(),v=Vn(),T=20+s,I=m[11],F=m[T]=_c(I,a,function du(){return $n.lFrame.currentNamespace}()),H=v.firstCreatePass?function t_(s,a,d,f,m,v,T){const I=a.consts,H=es(a,s,2,m,ls(I,v));return Gl(a,d,H,ls(I,T)),null!==H.attrs&&Rh(H,H.attrs,!1),null!==H.mergedAttrs&&Rh(H,H.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,H),H}(T,v,m,0,a,d,f):v.data[T];js(H,!0);const X=H.mergedAttrs;null!==X&&xi(I,F,X);const Ee=H.classes;null!==Ee&&Nf(I,F,Ee);const Be=H.styles;return null!==Be&&Td(I,F,Be),64!=(64&H.flags)&&$a(v,m,F,H),0===function Fa(){return $n.lFrame.elementDepthCount}()&&Qo(F,m),function ca(){$n.lFrame.elementDepthCount++}(),pr(H)&&(kd(v,m,H),jf(v,H,m)),null!==f&&ku(m,H),Cg}function qh(){let s=ci();Ac()?Qu():(s=s.parent,js(s,!1));const a=s;!function xc(){$n.lFrame.elementDepthCount--}();const d=Vn();return d.firstCreatePass&&(nh(d,s),ar(s)&&d.queries.elementEnd(s)),null!=a.classesWithoutHost&&function bl(s){return 0!=(16&s.flags)}(a)&&bg(d,a,Mt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function F_(s){return 0!=(32&s.flags)}(a)&&bg(d,a,Mt(),a.stylesWithoutHost,!1),qh}function sl(s,a,d,f){return Cg(s,a,d,f),qh(),sl}function rs(s,a,d){const f=Mt(),m=Vn(),v=s+20,T=m.firstCreatePass?function D0(s,a,d,f,m){const v=a.consts,T=ls(v,f),I=es(a,s,8,"ng-container",T);return null!==T&&Rh(I,T,!0),Gl(a,d,I,ls(v,m)),null!==a.queries&&a.queries.elementStart(a,I),I}(v,m,f,a,d):m.data[v];js(T,!0);const I=f[v]=f[11].createComment("");return $a(m,f,I,T),Qo(I,f),pr(T)&&(kd(m,f,T),jf(m,T,f)),null!=d&&ku(f,T),rs}function al(){let s=ci();const a=Vn();return Ac()?Qu():(s=s.parent,js(s,!1)),a.firstCreatePass&&(nh(a,s),ar(s)&&a.queries.elementEnd(s)),al}function wg(s,a,d){return rs(s,a,d),al(),wg}function n_(){return Mt()}function dp(s){return!!s&&"function"==typeof s.then}function Tg(s){return!!s&&"function"==typeof s.subscribe}const S0=Tg;function Zh(s,a,d,f){const m=Mt(),v=Vn(),T=ci();return function Eg(s,a,d,f,m,v,T,I){const F=pr(f),X=s.firstCreatePass&&sg(s),Ee=a[8],Be=$f(a);let nt=!0;if(3&f.type||I){const fn=Ro(f,a),Un=I?I(fn):fn,Nt=Be.length,Xn=I?Br=>I(Kr(Br[f.index])):f.index;if(xr(d)){let Br=null;if(!I&&F&&(Br=function x0(s,a,d,f){const m=s.cleanup;if(null!=m)for(let v=0;v<m.length-1;v+=2){const T=m[v];if(T===d&&m[v+1]===f){const I=a[7],F=m[v+2];return I.length>F?I[F]:null}"string"==typeof T&&(v+=2)}return null}(s,a,m,f.index)),null!==Br)(Br.__ngLastListenerFn__||Br).__ngNextListenerFn__=v,Br.__ngLastListenerFn__=v,nt=!1;else{v=zh(f,a,Ee,v,!1);const mi=d.listen(Un,m,v);Be.push(v,mi),X&&X.push(m,Xn,Nt,Nt+1)}}else v=zh(f,a,Ee,v,!0),Un.addEventListener(m,v,T),Be.push(v),X&&X.push(m,Xn,Nt,T)}else v=zh(f,a,Ee,v,!1);const Et=f.outputs;let Kt;if(nt&&null!==Et&&(Kt=Et[m])){const fn=Kt.length;if(fn)for(let Un=0;Un<fn;Un+=2){const oc=a[Kt[Un]][Kt[Un+1]].subscribe(v),$u=Be.length;Be.push(v,oc),X&&X.push(m,f.index,$u,-($u+1))}}}(v,m,m[11],T,s,a,!!d,f),Zh}function A0(s,a,d,f){try{return!1!==d(f)}catch(m){return s0(s,m),!1}}function zh(s,a,d,f,m){return function v(T){if(T===Function)return f;const I=2&s.flags?co(s.index,a):a;0==(32&a[2])&&Lu(I);let F=A0(a,0,f,T),H=v.__ngNextListenerFn__;for(;H;)F=A0(a,0,H,T)&&F,H=H.__ngNextListenerFn__;return m&&!1===F&&(T.preventDefault(),T.returnValue=!1),F}}function Gu(s=1){return function us(s){return($n.lFrame.contextLView=function cu(s,a){for(;s>0;)a=a[15],s--;return a}(s,$n.lFrame.contextLView))[8]}(s)}function Wh(s,a){let d=null;const f=function Sd(s){const a=s.attrs;if(null!=a){const d=a.indexOf(5);if(0==(1&d))return a[d+1]}return null}(s);for(let m=0;m<a.length;m++){const v=a[m];if("*"!==v){if(null===f?um(s,v,!0):Ou(f,v))return m}else d=m}return d}function fp(s){const a=Mt()[16][6];if(!a.projection){const f=a.projection=hs(s?s.length:1,null),m=f.slice();let v=a.child;for(;null!==v;){const T=s?Wh(v,s):0;null!==T&&(m[T]?m[T].projectionNext=v:f[T]=v,m[T]=v),v=v.next}}}function Zd(s,a=0,d){const f=Mt(),m=Vn(),v=es(m,20+s,16,null,d||null);null===v.projection&&(v.projection=a),Qu(),64!=(64&v.flags)&&function H_(s,a,d){Yc(a[11],0,a,d,Ys(s,d,a),Gp(d.parent||a[6],d,a))}(m,f,v)}function r_(s,a,d){return i_(s,"",a,"",d),r_}function i_(s,a,d,f,m){const v=Mt(),T=il(v,a,d,f);return T!==S&&Bo(Vn(),yi(),v,s,T,v[11],m,!1),i_}function jv(s,a,d,f,m){const v=s[d+1],T=null===a;let I=f?ve(v):Bn(v),F=!1;for(;0!==I&&(!1===F||T);){const X=s[I+1];Ky(s[I],a)&&(F=!0,s[I+1]=f?_s(X):yn(X)),I=f?ve(X):Bn(X)}F&&(s[d+1]=f?yn(v):_s(v))}function Ky(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&xs(s,a)>=0}const Io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Vv(s){return s.substring(Io.key,Io.keyEnd)}function a_(s,a){const d=Io.textEnd;return d===a?-1:(a=Io.keyEnd=function Yy(s,a,d){for(;a<d&&s.charCodeAt(a)>32;)a++;return a}(s,Io.key=a,d),Hu(s,a,d))}function Hu(s,a,d){for(;a<d&&s.charCodeAt(a)<=32;)a++;return a}function k0(s,a,d){return is(s,a,d,!1),k0}function L0(s,a){return is(s,a,null,!0),L0}function l_(s){!function ll(s,a,d,f){const m=Vn(),v=qo(2);m.firstUpdatePass&&qv(m,null,v,f);const T=Mt();if(d!==S&&ts(T,v,d)){const I=m.data[Eo()];if(i(I,f)&&!F0(m,v)){let F=f?I.classesWithoutHost:I.stylesWithoutHost;null!==F&&(d=Y(F,d||"")),bg(m,I,T,d,f)}else!function d_(s,a,d,f,m,v,T,I){m===S&&(m=Ht);let F=0,H=0,X=0<m.length?m[0]:null,Ee=0<v.length?v[0]:null;for(;null!==X||null!==Ee;){const Be=F<m.length?m[F+1]:void 0,nt=H<v.length?v[H+1]:void 0;let Kt,Et=null;X===Ee?(F+=2,H+=2,Be!==nt&&(Et=Ee,Kt=nt)):null===Ee||null!==X&&X<Ee?(F+=2,Et=X):(H+=2,Et=Ee,Kt=nt),null!==Et&&h_(s,a,d,f,Et,Kt,T,I),X=F<m.length?m[F]:null,Ee=H<v.length?v[H]:null}}(m,I,T,T[11],T[v+1],T[v+1]=function U0(s,a,d){if(null==d||""===d)return Ht;const f=[],m=ps(d);if(Array.isArray(m))for(let v=0;v<m.length;v++)s(f,m[v],!0);else if("object"==typeof m)for(const v in m)m.hasOwnProperty(v)&&s(f,v,m[v]);else"string"==typeof m&&a(f,m);return f}(s,a,d),f,v)}}($o,cl,s,!0)}function cl(s,a){for(let d=function M0(s){return function R0(s){Io.key=0,Io.keyEnd=0,Io.value=0,Io.valueEnd=0,Io.textEnd=s.length}(s),a_(s,Hu(s,0,Io.textEnd))}(a);d>=0;d=a_(a,d))$o(s,Vv(a),!0)}function is(s,a,d,f){const m=Mt(),v=Vn(),T=qo(2);v.firstUpdatePass&&qv(v,s,T,f),a!==S&&ts(m,T,a)&&h_(v,v.data[Eo()],m,m[11],s,m[T+1]=function l(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=W(ps(s)))),s}(a,d),f,T)}function F0(s,a){return a>=s.expandoStartIndex}function qv(s,a,d,f){const m=s.data;if(null===m[d+1]){const v=m[Eo()],T=F0(s,d);i(v,f)&&null===a&&!T&&(a=!1),a=function $h(s,a,d,f){const m=function Va(s){const a=$n.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let v=f?a.residualClasses:a.residualStyles;if(null===m)0===(f?a.classBindings:a.styleBindings)&&(d=Ji(d=Kh(null,s,a,d,f),a.attrs,f),v=null);else{const T=a.directiveStylingLast;if(-1===T||s[T]!==m)if(d=Kh(m,s,a,d,f),null===v){let F=function Sg(s,a,d){const f=d?a.classBindings:a.styleBindings;if(0!==Bn(f))return s[ve(f)]}(s,a,f);void 0!==F&&Array.isArray(F)&&(F=Kh(null,s,a,F[1],f),F=Ji(F,a.attrs,f),function B0(s,a,d,f){s[ve(d?a.classBindings:a.styleBindings)]=f}(s,a,f,F))}else v=function Xy(s,a,d){let f;const m=a.directiveEnd;for(let v=1+a.directiveStylingLast;v<m;v++)f=Ji(f,s[v].hostAttrs,d);return Ji(f,a.attrs,d)}(s,a,f)}return void 0!==v&&(f?a.residualClasses=v:a.residualStyles=v),d}(m,v,a,f),function $y(s,a,d,f,m,v){let T=v?a.classBindings:a.styleBindings,I=ve(T),F=Bn(T);s[f]=d;let X,H=!1;if(Array.isArray(d)){const Ee=d;X=Ee[1],(null===X||xs(Ee,X)>0)&&(H=!0)}else X=d;if(m)if(0!==F){const Be=ve(s[I+1]);s[f+1]=ie(Be,I),0!==Be&&(s[Be+1]=hr(s[Be+1],f)),s[I+1]=function Lt(s,a){return 131071&s|a<<17}(s[I+1],f)}else s[f+1]=ie(I,0),0!==I&&(s[I+1]=hr(s[I+1],f)),I=f;else s[f+1]=ie(F,0),0===I?I=f:s[F+1]=hr(s[F+1],f),F=f;H&&(s[f+1]=yn(s[f+1])),jv(s,X,f,!0),jv(s,X,f,!1),function O0(s,a,d,f,m){const v=m?s.residualClasses:s.residualStyles;null!=v&&"string"==typeof a&&xs(v,a)>=0&&(d[f+1]=_s(d[f+1]))}(a,X,s,f,v),T=ie(I,F),v?a.classBindings=T:a.styleBindings=T}(m,v,a,d,T,f)}}function Kh(s,a,d,f,m){let v=null;const T=d.directiveEnd;let I=d.directiveStylingLast;for(-1===I?I=d.directiveStart:I++;I<T&&(v=a[I],f=Ji(f,v.hostAttrs,m),v!==s);)I++;return null!==s&&(d.directiveStylingLast=I),f}function Ji(s,a,d){const f=d?1:2;let m=-1;if(null!==a)for(let v=0;v<a.length;v++){const T=a[v];"number"==typeof T?m=T:m===f&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),$o(s,T,!!d||a[++v]))}return void 0===s?null:s}function h_(s,a,d,f,m,v,T,I){if(!(3&a.type))return;const F=s.data,H=F[I+1];Jh(function ai(s){return 1==(1&s)}(H)?f_(F,a,d,m,Bn(H),T):void 0)||(Jh(v)||function ut(s){return 2==(2&s)}(H)&&(v=f_(F,null,d,m,I,T)),function Eh(s,a,d,f,m){const v=xr(s);if(a)m?v?s.addClass(d,f):d.classList.add(f):v?s.removeClass(d,f):d.classList.remove(f);else{let T=-1===f.indexOf("-")?void 0:ba.DashCase;if(null==m)v?s.removeStyle(d,f,T):d.style.removeProperty(f);else{const I="string"==typeof m&&m.endsWith("!important");I&&(m=m.slice(0,-10),T|=ba.Important),v?s.setStyle(d,f,m,T):d.style.setProperty(f,m,I?"important":"")}}}(f,T,ka(Eo(),d),m,v))}function f_(s,a,d,f,m,v){const T=null===a;let I;for(;m>0;){const F=s[m],H=Array.isArray(F),X=H?F[1]:F,Ee=null===X;let Be=d[m+1];Be===S&&(Be=Ee?Ht:void 0);let nt=Ee?ad(Be,f):X===f?Be:void 0;if(H&&!Jh(nt)&&(nt=ad(F,f)),Jh(nt)&&(I=nt,T))return I;const Et=s[m+1];m=T?ve(Et):Bn(Et)}if(null!==a){let F=v?a.residualClasses:a.residualStyles;null!=F&&(I=ad(F,f))}return I}function Jh(s){return void 0!==s}function i(s,a){return 0!=(s.flags&(a?16:32))}function c(s,a=""){const d=Mt(),f=Vn(),m=s+20,v=f.firstCreatePass?es(f,m,1,a,null):f.data[m],T=d[m]=yd(d[11],a);$a(f,d,T,v),js(v,!1)}function h(s){return g("",s,""),h}function g(s,a,d){const f=Mt(),m=il(f,s,a,d);return m!==S&&Xa(f,Eo(),m),g}function y(s,a,d,f,m){const v=Mt(),T=function Da(s,a,d,f,m,v){const I=rl(s,ua(),d,m);return qo(2),I?a+le(d)+f+le(m)+v:S}(v,s,a,d,f,m);return T!==S&&Xa(v,Eo(),T),y}function i1(s,a,d){const f=Mt();return ts(f,Vs(),a)&&Bo(Vn(),yi(),f,s,a,f[11],d,!0),i1}const gp=void 0;var fC=["en",[["a","p"],["AM","PM"],gp],[["AM","PM"],gp,gp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gp,"{1} 'at' {0}",gp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $v(s){const d=Math.floor(Math.abs(s)),f=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let mp={};function s1(s,a,d){"string"!=typeof a&&(d=a,a=s[rr.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),mp[a]=s,d&&(mp[a][rr.ExtraData]=d)}function Kv(s){const a=function mC(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=p_(a);if(d)return d;const f=a.split("-")[0];if(d=p_(f),d)return d;if("en"===f)return fC;throw new Error(`Missing locale data for the locale "${s}".`)}function gC(s){return Kv(s)[rr.PluralCase]}function p_(s){return s in mp||(mp[s]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[s]),mp[s]}var rr=(()=>((rr=rr||{})[rr.LocaleId=0]="LocaleId",rr[rr.DayPeriodsFormat=1]="DayPeriodsFormat",rr[rr.DayPeriodsStandalone=2]="DayPeriodsStandalone",rr[rr.DaysFormat=3]="DaysFormat",rr[rr.DaysStandalone=4]="DaysStandalone",rr[rr.MonthsFormat=5]="MonthsFormat",rr[rr.MonthsStandalone=6]="MonthsStandalone",rr[rr.Eras=7]="Eras",rr[rr.FirstDayOfWeek=8]="FirstDayOfWeek",rr[rr.WeekendRange=9]="WeekendRange",rr[rr.DateFormat=10]="DateFormat",rr[rr.TimeFormat=11]="TimeFormat",rr[rr.DateTimeFormat=12]="DateTimeFormat",rr[rr.NumberSymbols=13]="NumberSymbols",rr[rr.NumberFormats=14]="NumberFormats",rr[rr.CurrencyCode=15]="CurrencyCode",rr[rr.CurrencySymbol=16]="CurrencySymbol",rr[rr.CurrencyName=17]="CurrencyName",rr[rr.Currencies=18]="Currencies",rr[rr.Directionality=19]="Directionality",rr[rr.PluralCase=20]="PluralCase",rr[rr.ExtraData=21]="ExtraData",rr))();const _C=["zero","one","two","few","many"],j0="en-US",V0={marker:"element"},_p={marker:"ICU"};var vi=(()=>((vi=vi||{})[vi.SHIFT=2]="SHIFT",vi[vi.APPEND_EAGERLY=1]="APPEND_EAGERLY",vi[vi.COMMENT=2]="COMMENT",vi))();let Jv=j0;function Jl(s,a,d){const f=a.insertBeforeIndex,m=Array.isArray(f)?f[0]:f;return null===m?Hp(s,0,d):Kr(d[m])}function dl(s,a,d,f,m){const v=a.insertBeforeIndex;if(Array.isArray(v)){let T=f,I=null;if(3&a.type||(I=T,T=m),null!==T&&0==(2&a.flags))for(let F=1;F<v.length;F++)Jc(s,T,d[v[F]],I,!1)}}function G0(s,a){if(s.push(a),s.length>1)for(let d=s.length-2;d>=0;d--){const f=s[d];xg(f)||Ag(f,a)&&null===g_(f)&&yC(f,a.index)}}function xg(s){return!(64&s.type)}function Ag(s,a){return xg(a)||s.index>a.index}function g_(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function yC(s,a){const d=s.insertBeforeIndex;Array.isArray(d)?d[0]=a:(Cd(Jl,dl),s.insertBeforeIndex=a)}function Ig(s,a){const d=s.data[a];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function c1(s,a,d){const f=Kp(s,d,64,null,null);return G0(a,f),f}function H0(s,a){const d=a[s.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function l1(s){return s>>>17}function u1(s){return(131070&s)>>>1}let __=0,v_=0;function h1(s,a,d,f){const m=d[11];let T,v=null;for(let I=0;I<a.length;I++){const F=a[I];if("string"==typeof F){const H=a[++I];null===d[H]&&(d[H]=yd(m,F))}else if("number"==typeof F)switch(1&F){case 0:const H=l1(F);let X,Ee;if(null===v&&(v=H,T=Ao(m,f)),H===v?(X=f,Ee=T):(X=null,Ee=Kr(d[H])),null!==Ee){const Kt=u1(F);Jc(m,Ee,d[Kt],X,!1);const Un=Ig(s,Kt);if(null!==Un&&"object"==typeof Un){const Nt=H0(Un,d);null!==Nt&&h1(s,Un.create[Nt],d,d[Un.anchorIdx])}}break;case 1:const nt=a[++I],Et=a[++I];Pm(m,ka(F>>>1,d),null,null,nt,Et,null)}else switch(F){case _p:const H=a[++I],X=a[++I];null===d[X]&&Qo(d[X]=Ch(m,H),d);break;case V0:const Ee=a[++I],Be=a[++I];null===d[Be]&&Qo(d[Be]=_c(m,Ee,null),d)}}}function hl(s,a,d,f,m){for(let v=0;v<d.length;v++){const T=d[v],I=d[++v];if(T&m){let F="";for(let H=v+1;H<=v+I;H++){const X=d[H];if("string"==typeof X)F+=X;else if("number"==typeof X)if(X<0)F+=le(a[f-X]);else{const Ee=X>>>2;switch(3&X){case 1:const Be=d[++H],nt=d[++H],Et=s.data[Ee];"string"==typeof Et?Pm(a[11],a[Ee],null,Et,Be,F,nt):Bo(s,Et,a,Be,F,a[11],nt,!1);break;case 0:const Kt=a[Ee];null!==Kt&&bd(a[11],Kt,F);break;case 2:fl(s,Ig(s,Ee),a,F);break;case 3:vp(s,Ig(s,Ee),f,a)}}}}else{const F=d[v+1];if(F>0&&3==(3&F)){const X=Ig(s,F>>>2);a[X.currentCaseLViewIndex]<0&&vp(s,X,f,a)}}v+=I}}function vp(s,a,d,f){let m=f[a.currentCaseLViewIndex];if(null!==m){let v=__;m<0&&(m=f[a.currentCaseLViewIndex]=~m,v=-1),hl(s,f,a.update[m],d,v)}}function fl(s,a,d,f){const m=function Xh(s,a){let d=s.cases.indexOf(a);if(-1===d)switch(s.type){case 1:{const f=function a1(s,a){const d=gC(a)(parseInt(s,10)),f=_C[d];return void 0!==f?f:"other"}(a,function Kl(){return Jv}());d=s.cases.indexOf(f),-1===d&&"other"!==f&&(d=s.cases.indexOf("other"));break}case 0:d=s.cases.indexOf("other")}return-1===d?null:d}(a,f);if(H0(a,d)!==m&&(q0(s,a,d),d[a.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const T=d[a.anchorIdx];T&&h1(s,a.create[m],d,T)}}function q0(s,a,d){let f=H0(a,d);if(null!==f){const m=a.remove[f];for(let v=0;v<m.length;v++){const T=m[v];if(T>0){const I=ka(T,d);null!==I&&Nl(d[11],I)}else q0(s,Ig(s,~T),d)}}}function yp(){const s=[];let d,f,a=-1;function v(I,F){a=0;const H=H0(I,F);f=null!==H?I.remove[H]:Ht}function T(){if(a<f.length){const I=f[a++];return I>0?d[I]:(s.push(a,f),v(d[1].data[~I],d),T())}return 0===s.length?null:(f=s.pop(),a=s.pop(),T())}return function m(I,F){for(d=F;s.length;)s.pop();return v(I.value,F),T}}const z0=/\ufffd(\d+):?\d*\ufffd/gi,DC=/\ufffd(\d+)\ufffd/,Yl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Qv=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,p1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,C_=/\uE500/g;function m1(s,a,d,f,m,v,T){const I=Nu(s,f,1,null);let F=I<<vi.SHIFT,H=Ua();a===H&&(H=null),null===H&&(F|=vi.APPEND_EAGERLY),T&&(F|=vi.COMMENT,function za(s){void 0===_t&&(_t=s())}(yp)),m.push(F,null===v?"":v);const X=Kp(s,I,T?32:1,null===v?"":v,null);G0(d,X);const Ee=X.index;return js(X,!1),null!==H&&a!==H&&function bC(s,a){let d=s.insertBeforeIndex;null===d?(Cd(Jl,dl),d=s.insertBeforeIndex=[null,a]):(function se(s,a,d){s!=a&&mt(d,s,a,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(a))}(H,Ee),X}function w_(s,a,d,f,m,v,T){const I=T.match(z0),F=m1(s,a,d,v,f,I?null:T,!1);I&&tf(m,T,F.index,null,0,null)}function tf(s,a,d,f,m,v){const T=s.length,I=T+1;s.push(null,null);const F=T+2,H=a.split(z0);let X=0;for(let Ee=0;Ee<H.length;Ee++){const Be=H[Ee];if(1&Ee){const nt=m+parseInt(Be,10);s.push(-1-nt),X|=Xv(nt)}else""!==Be&&s.push(Be)}return s.push(d<<2|(f?1:0)),f&&s.push(f,v),s[T]=X,s[I]=s.length-F,X}function Xv(s){return 1<<Math.min(s,31)}function v1(s){let a,v,d="",f=0,m=!1;for(;null!==(a=Qv.exec(s));)m?a[0]===`\ufffd/*${v}\ufffd`&&(f=a.index,m=!1):(d+=s.substring(f,a.index+a[0].length),v=a[1],m=!0);return d+=s.substr(f),d}function W0(s,a,d,f,m,v){let T=0;const I={type:m.type,currentCaseLViewIndex:Nu(s,a,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function PC(s,a,d){s.push(Xv(a.mainBinding),2,-1-a.mainBinding,d<<2|2)})(d,m,v),function m_(s,a,d){const f=s.data[a];null===f?s.data[a]=d:f.value=d}(s,v,I);const F=m.values;for(let H=0;H<F.length;H++){const X=F[H],Ee=[];for(let Be=0;Be<X.length;Be++){const nt=X[Be];if("string"!=typeof nt){const Et=Ee.push(nt)-1;X[Be]=`\x3c!--\ufffd${Et}\ufffd--\x3e`}}T=b1(s,I,a,d,f,m.cases[H],X.join(""),Ee)|T}T&&function OC(s,a,d){s.push(a,1,d<<2|3)}(d,T,v)}function y1(s){const a=[],d=[];let f=1,m=0;const v=$0(s=s.replace(Yl,function(T,I,F){return f="select"===F?0:1,m=parseInt(I.substr(1),10),""}));for(let T=0;T<v.length;){let I=v[T++].trim();1===f&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&a.push(I);const F=$0(v[T++]);a.length>d.length&&d.push(F)}return{type:f,mainBinding:m,cases:a,values:d}}function $0(s){if(!s)return[];let a=0;const d=[],f=[],m=/[{}]/g;let v;for(m.lastIndex=0;v=m.exec(s);){const I=v.index;if("}"==v[0]){if(d.pop(),0==d.length){const F=s.substring(a,I);Yl.test(F)?f.push(y1(F)):f.push(F),a=I+1}}else{if(0==d.length){const F=s.substring(a,I);f.push(F),a=I+1}d.push("{")}}const T=s.substring(a);return f.push(T),f}function b1(s,a,d,f,m,v,T,I){const F=[],H=[],X=[];a.cases.push(v),a.create.push(F),a.remove.push(H),a.update.push(X);const Be=Rr(eo()).getInertBodyElement(T),nt=Op(Be)||Be;return nt?ey(s,a,d,f,F,H,X,nt,m,I,0):0}function ey(s,a,d,f,m,v,T,I,F,H,X){let Ee=0,Be=I.firstChild;for(;Be;){const nt=Nu(s,d,1,null);switch(Be.nodeType){case Node.ELEMENT_NODE:const Et=Be,Kt=Et.tagName.toLowerCase();if(Xr.hasOwnProperty(Kt)){ty(m,V0,Kt,F,nt),s.data[nt]=Kt;const Xn=Et.attributes;for(let Br=0;Br<Xn.length;Br++){const mi=Xn.item(Br),oc=mi.name.toLowerCase();mi.value.match(z0)?hh.hasOwnProperty(oc)&&tf(T,mi.value,nt,mi.name,0,Xg[oc]?ri:Al[oc]?fd:null):MC(m,nt,mi)}Ee=ey(s,a,d,f,m,v,T,Be,nt,H,X+1)|Ee,K0(v,nt,X)}break;case Node.TEXT_NODE:const fn=Be.textContent||"",Un=fn.match(z0);ty(m,null,Un?"":fn,F,nt),K0(v,nt,X),Un&&(Ee=tf(T,fn,nt,null,0,null)|Ee);break;case Node.COMMENT_NODE:const Nt=DC.exec(Be.textContent||"");if(Nt){const Br=H[parseInt(Nt[1],10)];ty(m,_p,"",F,nt),W0(s,d,f,F,Br,nt),IC(v,nt,X)}}Be=Be.nextSibling}return Ee}function K0(s,a,d){0===d&&s.push(a)}function IC(s,a,d){0===d&&(s.push(~a),s.push(a))}function ty(s,a,d,f,m){null!==a&&s.push(a),s.push(d,m,function CC(s,a,d){return s|a<<17|d<<1}(0,f,m))}function MC(s,a,d){s.push(a<<1|1,d.name,d.value)}function C1(s,a,d=-1){const f=Vn(),m=Mt(),v=20+s,T=ls(f.consts,a),I=Ua();f.firstCreatePass&&function g1(s,a,d,f,m,v){const T=Ua(),I=[],F=[],H=[[]];m=function Pg(s,a){if(function AC(s){return-1===s}(a))return v1(s);{const d=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,f=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return v1(s.substring(d,f))}}(m,v);const X=function SC(s){return s.replace(C_," ")}(m).split(p1);for(let Ee=0;Ee<X.length;Ee++){let Be=X[Ee];if(0==(1&Ee)){const nt=$0(Be);for(let Et=0;Et<nt.length;Et++){let Kt=nt[Et];if(0==(1&Et)){const fn=Kt;""!==fn&&w_(s,T,H[0],I,F,d,fn)}else{const fn=Kt;if("object"!=typeof fn)throw new Error(`Unable to parse ICU expression in "${m}" message.`);W0(s,d,F,a,fn,m1(s,T,H[0],d,I,"",!0).index)}}}else{const nt=47===Be.charCodeAt(0),Kt=(Be.charCodeAt(nt?1:0),20+Number.parseInt(Be.substring(nt?2:1)));if(nt)H.shift(),js(Ua(),!1);else{const fn=c1(s,H[0],Kt);H.unshift([]),js(fn,!0)}}}s.data[f]={create:I,update:F}}(f,null===I?0:I.index,m,v,T,d);const F=f.data[v],X=jp(f,I===m[6]?null:I,m);(function EC(s,a,d,f){const m=s[11];for(let v=0;v<a.length;v++){const T=a[v++],I=a[v],F=(T&vi.COMMENT)===vi.COMMENT,H=(T&vi.APPEND_EAGERLY)===vi.APPEND_EAGERLY,X=T>>>vi.SHIFT;let Ee=s[X];null===Ee&&(Ee=s[X]=F?m.createComment(I):yd(m,I)),H&&null!==d&&Jc(m,d,Ee,f,!1)}})(m,F.create,X,I&&8&I.type?m[I.index]:null),da(!0)}function T1(s,a,d){C1(s,a,d),function w1(){da(!1)}()}function ry(s){return function wC(s){s&&(__|=1<<Math.min(v_,31)),v_++}(ts(Mt(),Vs(),s)),ry}function E1(s){!function TC(s,a,d){if(v_>0){const f=s.data[d];hl(s,a,Array.isArray(f)?f:f.update,ua()-v_-1,__)}__=0,v_=0}(Vn(),Mt(),s+20)}function D1(s,a,d,f,m){if(s=ae(s),Array.isArray(s))for(let v=0;v<s.length;v++)D1(s[v],a,d,f,m);else{const v=Vn(),T=Mt();let I=kh(s)?s:ae(s.provide),F=km(s);const H=ci(),X=1048575&H.providerIndexes,Ee=H.directiveStart,Be=H.providerIndexes>>20;if(kh(s)||!s.multi){const nt=new fu(F,m,ol),Et=J0(I,a,m?X:X+Be,Ee);-1===Et?(Do(lc(H,T),v,I),S1(v,s,a.length),a.push(I),H.directiveStart++,H.directiveEnd++,m&&(H.providerIndexes+=1048576),d.push(nt),T.push(nt)):(d[Et]=nt,T[Et]=nt)}else{const nt=J0(I,a,X+Be,Ee),Et=J0(I,a,X,X+Be),Kt=nt>=0&&d[nt],fn=Et>=0&&d[Et];if(m&&!fn||!m&&!Kt){Do(lc(H,T),v,I);const Un=function qC(s,a,d,f,m){const v=new fu(s,d,ol);return v.multi=[],v.index=a,v.componentProviders=0,iy(v,m,f&&!d),v}(m?iE:HC,d.length,m,f,F);!m&&fn&&(d[Et].providerFactory=Un),S1(v,s,a.length,0),a.push(I),H.directiveStart++,H.directiveEnd++,m&&(H.providerIndexes+=1048576),d.push(Un),T.push(Un)}else S1(v,s,nt>-1?nt:Et,iy(d[m?Et:nt],F,!m&&f));!m&&f&&fn&&d[Et].componentProviders++}}}function S1(s,a,d,f){const m=kh(a),v=function Bm(s){return!!s.useClass}(a);if(m||v){const F=(v?ae(a.useClass):a).prototype.ngOnDestroy;if(F){const H=s.destroyHooks||(s.destroyHooks=[]);if(!m&&a.multi){const X=H.indexOf(d);-1===X?H.push(d,[f,F]):H[X+1].push(f,F)}else H.push(d,F)}}}function iy(s,a,d){return d&&s.componentProviders++,s.multi.push(a)-1}function J0(s,a,d,f){for(let m=d;m<f;m++)if(a[m]===s)return m;return-1}function HC(s,a,d,f){return Mg(this.multi,[])}function iE(s,a,d,f){const m=this.multi;let v;if(this.providerFactory){const T=this.providerFactory.componentProviders,I=Ga(d,d[1],this.providerFactory.index,f);v=I.slice(0,T),Mg(m,v);for(let F=T;F<I.length;F++)v.push(I[F])}else v=[],Mg(m,v);return v}function Mg(s,a){for(let d=0;d<s.length;d++)a.push((0,s[d])());return a}function x1(s,a=[]){return d=>{d.providersResolver=(f,m)=>function GC(s,a,d){const f=Vn();if(f.firstCreatePass){const m=ui(s);D1(d,f.data,f.blueprint,m,!0),D1(a,f.data,f.blueprint,m,!1)}}(f,m?m(s):s,a)}}class A1{}class $C{resolveComponentFactory(a){throw function zC(s){const a=Error(`No component factory found for ${W(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Y0=(()=>{class s{}return s.NULL=new $C,s})();function KC(){return Ng(ci(),Mt())}function Ng(s,a){return new Q0(Ro(s,a))}let Q0=(()=>{class s{constructor(d){this.nativeElement=d}}return s.__NG_ELEMENT_ID__=KC,s})();function JC(s){return s instanceof Q0?s.nativeElement:s}class P1{}let YC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function XC(){const s=Mt(),d=co(ci().index,s);return function QC(s){return s[11]}(Ot(d)?d:s)}(),s})(),ew=(()=>{class s{}return s.\u0275prov=Ln({token:s,providedIn:"root",factory:()=>null}),s})();class O1{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const M1=new O1("13.3.0"),N1={};function X0(s,a,d,f,m=!1){for(;null!==d;){const v=a[d.index];if(null!==v&&f.push(Kr(v)),Jt(v))for(let I=10;I<v.length;I++){const F=v[I],H=F[1].firstChild;null!==H&&X0(F[1],F,H,f)}const T=d.type;if(8&T)X0(s,a,d.child,f);else if(32&T){const I=ei(d,a);let F;for(;F=I();)f.push(F)}else if(16&T){const I=Mf(a,d);if(Array.isArray(I))f.push(...I);else{const F=gs(a[16]);X0(F[1],F,I,f,!0)}}d=m?d.projectionNext:d.next}return f}class T_{constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,d=a[1];return X0(d,a,d.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Jt(a)){const d=a[8],f=d?d.indexOf(this):-1;f>-1&&($c(a,f),Ii(d,f))}this._attachedToViewContainer=!1}Kc(this._lView[1],this._lView)}onDestroy(a){Ph(this._lView[1],this._lView,null,a)}markForCheck(){Lu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function og(s,a,d){wo(!0);try{Hl(s,a,d)}finally{wo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lm(s,a){Qs(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ge(902,"");this._appRef=a}}class tw extends T_{constructor(a){super(a),this._view=a}detectChanges(){Fd(this._view)}checkNoChanges(){!function Nh(s){wo(!0);try{Fd(s)}finally{wo(!1)}}(this._view)}get context(){return null}}class R1 extends Y0{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=Gn(a);return new L1(d,this.ngModule)}}function k1(s){const a=[];for(let d in s)s.hasOwnProperty(d)&&a.push({propName:s[d],templateName:d});return a}class L1 extends A1{constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function q_(s){return s.map(hm).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return k1(this.componentDef.inputs)}get outputs(){return k1(this.componentDef.outputs)}create(a,d,f,m){const v=(m=m||this.ngModule)?function sE(s,a){return{get:(d,f,m)=>{const v=s.get(d,N1,m);return v!==N1||f===N1?v:a.get(d,f,m)}}}(a,m.injector):a,T=v.get(P1,sc),I=v.get(ew,null),F=T.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",X=f?function bm(s,a,d){if(xr(s))return s.selectRootElement(a,d===Pt.ShadowDom);let f="string"==typeof a?s.querySelector(a):a;return f.textContent="",f}(F,f,this.componentDef.encapsulation):_c(T.createRenderer(null,this.componentDef),H,function nw(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(H)),Ee=this.componentDef.onPush?576:528,Be=function so(s,a){return{components:[],scheduler:s||V_,clean:Wf,playerHandler:a||null,flags:0}}(),nt=Vf(0,null,null,1,0,null,null,null,null,null),Et=Ul(null,nt,Be,Ee,null,null,T,F,I,v);let Kt,fn;Ic(Et);try{const Un=function Xf(s,a,d,f,m,v){const T=d[1];d[20]=s;const F=es(T,20,2,"#host",null),H=F.mergedAttrs=a.hostAttrs;null!==H&&(Rh(F,H,!0),null!==s&&(xi(m,s,H),null!==F.classes&&Nf(m,s,F.classes),null!==F.styles&&Td(m,s,F.styles)));const X=f.createRenderer(s,a),Ee=Ul(d,Jp(a),null,a.onPush?64:16,d[20],F,f,X,v||null,null);return T.firstCreatePass&&(Do(lc(F,d),T,a.type),Am(T,F),e0(F,d.length,1)),Mh(d,Ee),d[20]=Ee}(X,this.componentDef,Et,T,F);if(X)if(f)xi(F,X,["ng-version",M1.full]);else{const{attrs:Nt,classes:Xn}=function Z_(s){const a=[],d=[];let f=1,m=2;for(;f<s.length;){let v=s[f];if("string"==typeof v)2===m?""!==v&&a.push(v,s[++f]):8===m&&d.push(v);else{if(!Xs(m))break;m=v}f++}return{attrs:a,classes:d}}(this.componentDef.selectors[0]);Nt&&xi(F,X,Nt),Xn&&Xn.length>0&&Nf(F,X,Xn.join(" "))}if(fn=gl(nt,20),void 0!==d){const Nt=fn.projection=[];for(let Xn=0;Xn<this.ngContentSelectors.length;Xn++){const Br=d[Xn];Nt.push(null!=Br?Array.from(Br):null)}}Kt=function ep(s,a,d,f,m){const v=d[1],T=function Dv(s,a,d){const f=ci();s.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),t0(s,f,a,Nu(s,a,1,null),d));const m=Ga(a,s,f.directiveStart,f);Qo(m,a);const v=Ro(f,a);return v&&Qo(v,a),m}(v,d,a);if(f.components.push(T),s[8]=T,m&&m.forEach(F=>F(T,a)),a.contentQueries){const F=ci();a.contentQueries(1,T,F.directiveStart)}const I=ci();return!v.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Hs(I.index),X_(d[1],I,0,I.directiveStart,I.directiveEnd,a),qf(a,T)),T}(Un,this.componentDef,Et,Be,[hg]),Ru(nt,Et,null)}finally{Gs()}return new cE(this.componentType,Kt,Ng(fn,Et),Et,fn)}}class cE extends class ZC{}{constructor(a,d,f,m,v){super(),this.location=f,this._rootLView=m,this._tNode=v,this.instance=d,this.hostView=this.changeDetectorRef=new tw(m),this.componentType=a}get injector(){return new Zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class Rg{}class F1{}const kg=new Map;class iw extends Rg{constructor(a,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new R1(this);const f=Dn(a);this._bootstrapComponents=Xo(f.bootstrap),this._r3Injector=Jf(a,d,[{provide:Rg,useValue:this},{provide:Y0,useValue:this.componentFactoryResolver}],W(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,d=Ca.THROW_IF_NOT_FOUND,f=gn.Default){return a===Ca||a===Rg||a===Kf?this:this._r3Injector.get(a,d,f)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class U1 extends F1{constructor(a){super(),this.moduleType=a,null!==Dn(a)&&function uE(s){const a=new Set;!function d(f){const m=Dn(f,!0),v=m.id;null!==v&&(function rw(s,a,d){if(a&&a!==d)throw new Error(`Duplicate module registered for ${s} - ${W(a)} vs ${W(a.name)}`)}(v,kg.get(v),f),kg.set(v,f));const T=Xo(m.imports);for(const I of T)a.has(I)||(a.add(I),d(I))}(s)}(a)}create(a){return new iw(this.moduleType,a)}}function ow(s,a,d){const f=To()+s,m=Mt();return m[f]===S?na(m,f,d?a.call(d):a()):function Vd(s,a){return s[a]}(m,f)}function sw(s,a,d,f){return G1(Mt(),To(),s,a,d,f)}function j1(s,a,d,f,m){return H1(Mt(),To(),s,a,d,f,m)}function V1(s,a,d,f,m,v){return function q1(s,a,d,f,m,v,T,I){const F=a+d;return function Fh(s,a,d,f,m){const v=rl(s,a,d,f);return ts(s,a+2,m)||v}(s,F,m,v,T)?na(s,F+3,I?f.call(I,m,v,T):f(m,v,T)):ev(s,F+3)}(Mt(),To(),s,a,d,f,m,v)}function ev(s,a){const d=s[a];return d===S?void 0:d}function G1(s,a,d,f,m,v){const T=a+d;return ts(s,T,m)?na(s,T+1,v?f.call(v,m):f(m)):ev(s,T+1)}function H1(s,a,d,f,m,v,T){const I=a+d;return rl(s,I,m,v)?na(s,I+2,T?f.call(T,m,v):f(m,v)):ev(s,I+2)}function W1(s,a){const d=Vn();let f;const m=s+20;d.firstCreatePass?(f=function hw(s,a){if(a)for(let d=a.length-1;d>=0;d--){const f=a[d];if(s===f.name)return f}}(a,d.pipeRegistry),d.data[m]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(m,f.onDestroy)):f=d.data[m];const v=f.factory||(f.factory=U(f.type)),T=Zr(ol);try{const I=Qn(!1),F=v();return Qn(I),function Hr(s,a,d,f){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),a[d]=f}(d,Mt(),m,F),F}finally{Zr(T)}}function $1(s,a,d){const f=s+20,m=Mt(),v=cs(m,f);return E_(m,f)?G1(m,To(),a,v.transform,d,v):v.transform(d)}function K1(s,a,d,f){const m=s+20,v=Mt(),T=cs(v,m);return E_(v,m)?H1(v,To(),a,T.transform,d,f,T):T.transform(d,f)}function E_(s,a){return s[1].data[a].pure}function oy(s){return a=>{setTimeout(s,void 0,a)}}const Zu=class mw extends e.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,f){var m,v,T;let I=a,F=d||(()=>null),H=f;if(a&&"object"==typeof a){const Ee=a;I=null===(m=Ee.next)||void 0===m?void 0:m.bind(Ee),F=null===(v=Ee.error)||void 0===v?void 0:v.bind(Ee),H=null===(T=Ee.complete)||void 0===T?void 0:T.bind(Ee)}this.__isAsync&&(F=oy(F),I&&(I=oy(I)),H&&(H=oy(H)));const X=super.subscribe({next:I,error:F,complete:H});return a instanceof C.w0&&a.add(X),X}};function _w(){return this._results[rp()]()}class sy{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=rp(),f=sy.prototype;f[d]||(f[d]=_w)}get changes(){return this._changes||(this._changes=new Zu)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const f=this;f.dirty=!1;const m=Hi(a);(this._changesDetected=!function lo(s,a,d){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++){let m=s[f],v=a[f];if(d&&(m=d(m),v=d(v)),v!==m)return!1}return!0}(f._results,m,d))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let D_=(()=>{class s{}return s.__NG_ELEMENT_ID__=bw,s})();const vw=D_,yw=class extends vw{constructor(a,d,f){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(a){const d=this._declarationTContainer.tViews,f=Ul(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Ru(d,f,a),new T_(f)}};function bw(){return Lg(ci(),Mt())}function Lg(s,a){return 4&s.type?new yw(a,s,Ng(s,a)):null}let tv=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cw,s})();function Cw(){return Q1(ci(),Mt())}const ww=tv,J1=class extends ww{constructor(a,d,f){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=f}get element(){return Ng(this._hostTNode,this._hostLView)}get injector(){return new Zo(this._hostTNode,this._hostLView)}get parentInjector(){const a=ds(this._hostTNode,this._hostLView);if(rn(a)){const d=Wr(a,this._hostLView),f=pt(a);return new Zo(d[1].data[f+8],d)}return new Zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=Y1(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,d,f){const m=a.createEmbeddedView(d||{});return this.insert(m,f),m}createComponent(a,d,f,m,v){const T=a&&!function Rc(s){return"function"==typeof s}(a);let I;if(T)I=d;else{const Ee=d||{};I=Ee.index,f=Ee.injector,m=Ee.projectableNodes,v=Ee.ngModuleRef}const F=T?a:new L1(Gn(a)),H=f||this.parentInjector;if(!v&&null==F.ngModule){const Be=(T?H:this.parentInjector).get(Rg,null);Be&&(v=Be)}const X=F.create(H,m,void 0,v);return this.insert(X.hostView,I),X}insert(a,d){const f=a._lView,m=f[1];if(function ac(s){return Jt(s[3])}(f)){const X=this.indexOf(a);if(-1!==X)this.detach(X);else{const Ee=f[3],Be=new J1(Ee,Ee[6],Ee[3]);Be.detach(Be.indexOf(a))}}const v=this._adjustIndex(d),T=this._lContainer;!function Er(s,a,d,f){const m=10+f,v=d.length;f>0&&(d[m-1][4]=a),f<v-10?(a[4]=d[m],wl(d,10+f,a)):(d.push(a),a[4]=null),a[3]=d;const T=a[17];null!==T&&d!==T&&function Pu(s,a){const d=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===d?s[9]=[a]:d.push(a)}(T,a);const I=a[19];null!==I&&I.insertView(s),a[2]|=128}(m,f,T,v);const I=wd(v,T),F=f[11],H=Ao(F,T[7]);return null!==H&&function cm(s,a,d,f,m,v){f[0]=m,f[6]=a,Qs(s,f,d,1,m,v)}(m,T[6],F,f,H,I),a.attachToViewContainerRef(),wl(ay(T),v,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=Y1(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),f=$c(this._lContainer,d);f&&(Ii(ay(this._lContainer),d),Kc(f[1],f))}detach(a){const d=this._adjustIndex(a,-1),f=$c(this._lContainer,d);return f&&null!=Ii(ay(this._lContainer),d)?new T_(f):null}_adjustIndex(a,d=0){return null==a?this.length+d:a}};function Y1(s){return s[8]}function ay(s){return s[8]||(s[8]=[])}function Q1(s,a){let d;const f=a[s.index];if(Jt(f))d=f;else{let m;if(8&s.type)m=Kr(f);else{const v=a[11];m=v.createComment("");const T=Ro(s,a);Jc(v,Ao(v,T),m,function G_(s,a){return xr(s)?s.nextSibling(a):a.nextSibling}(v,T),!1)}a[s.index]=d=o0(f,a,m,s),Mh(a,d)}return new J1(d,s,a)}class cy{constructor(a){this.queryList=a,this.matches=null}clone(){return new cy(this.queryList)}setDirty(){this.queryList.setDirty()}}class ly{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const f=null!==a.contentQueries?a.contentQueries[0]:d.length,m=[];for(let v=0;v<f;v++){const T=d.getByIndex(v);m.push(this.queries[T.indexInDeclarationView].clone())}return new ly(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==Pw(a,d).matches&&this.queries[d].setDirty()}}class Dw{constructor(a,d,f=null){this.predicate=a,this.flags=d,this.read=f}}class X1{constructor(a=[]){this.queries=a}elementStart(a,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let f=0;f<this.length;f++){const m=null!==d?d.length:0,v=this.getByIndex(f).embeddedTView(a,m);v&&(v.indexInDeclarationView=f,null!==d?d.push(v):d=[v])}return null!==d?new X1(d):null}template(a,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class eb{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new eb(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const v=f[m];this.matchTNodeWithReadOption(a,d,Sw(d,v)),this.matchTNodeWithReadOption(a,d,Ts(d,a,v,!1,!1))}else f===D_?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,Ts(d,a,f,!1,!1))}matchTNodeWithReadOption(a,d,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===Q0||m===tv||m===D_&&4&d.type)this.addMatch(d.index,-2);else{const v=Ts(d,a,m,!1,!1);null!==v&&this.addMatch(d.index,v)}else this.addMatch(d.index,f)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function Sw(s,a){const d=s.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===a)return d[f+1];return null}function gE(s,a,d,f){return-1===d?function pE(s,a){return 11&s.type?Ng(s,a):4&s.type?Lg(s,a):null}(a,s):-2===d?function mE(s,a,d){return d===Q0?Ng(a,s):d===D_?Lg(a,s):d===tv?Q1(a,s):void 0}(s,a,f):Ga(s,s[1],d,a)}function xw(s,a,d,f){const m=a[19].queries[f];if(null===m.matches){const v=s.data,T=d.matches,I=[];for(let F=0;F<T.length;F+=2){const H=T[F];I.push(H<0?null:gE(a,v[H],T[F+1],d.metadata.read))}m.matches=I}return m.matches}function tb(s,a,d,f){const m=s.queries.getByIndex(d),v=m.matches;if(null!==v){const T=xw(s,a,m,d);for(let I=0;I<v.length;I+=2){const F=v[I];if(F>0)f.push(T[I/2]);else{const H=v[I+1],X=a[-F];for(let Ee=10;Ee<X.length;Ee++){const Be=X[Ee];Be[17]===Be[3]&&tb(Be[1],Be,H,f)}if(null!==X[9]){const Ee=X[9];for(let Be=0;Be<Ee.length;Be++){const nt=Ee[Be];tb(nt[1],nt,H,f)}}}}}return f}function Aw(s){const a=Mt(),d=Vn(),f=eh();ha(f+1);const m=Pw(d,f);if(s.dirty&&ws(a)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const v=m.crossesNgTemplate?tb(d,a,f,[]):xw(d,a,m,f);s.reset(v,JC),s.notifyOnChanges()}return!0}return!1}function nb(s,a,d){const f=Vn();f.firstCreatePass&&(ob(f,new Dw(s,a,d),-1),2==(2&a)&&(f.staticViewQueries=!0)),ib(f,Mt(),a)}function rb(s,a,d,f){const m=Vn();if(m.firstCreatePass){const v=ci();ob(m,new Dw(a,d,f),v.index),function vE(s,a){const d=s.contentQueries||(s.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,a)}(m,s),2==(2&d)&&(m.staticContentQueries=!0)}ib(m,Mt(),d)}function Iw(){return function _E(s,a){return s[19].queries[a].queryList}(Mt(),eh())}function ib(s,a,d){const f=new sy(4==(4&d));Ph(s,a,f,f.destroy),null===a[19]&&(a[19]=new ly),a[19].queries.push(new cy(f))}function ob(s,a,d){null===s.queries&&(s.queries=new X1),s.queries.track(new eb(a,d))}function Pw(s,a){return s.queries.getByIndex(a)}function sb(s,a){return Lg(s,a)}function Xl(...s){}const Bg=new oi("Application Initializer");let Ug=(()=>{class s{constructor(d){this.appInits=d,this.resolve=Xl,this.reject=Xl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const v=this.appInits[m]();if(dp(v))d.push(v);else if(S0(v)){const T=new Promise((I,F)=>{v.subscribe({complete:I,error:F})});d.push(T)}}Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return s.\u0275fac=function(d){return new(d||s)(Yt(Bg,8))},s.\u0275prov=Ln({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const _b=new oi("AppId",{providedIn:"root",factory:function vb(){return`${gy()}${gy()}${gy()}`}});function gy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cv=new oi("Platform Initializer"),my=new oi("Platform ID"),rf=new oi("appBootstrapListener");let _y=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=Ln({token:s,factory:s.\u0275fac}),s})();const yb=new oi("LocaleId",{providedIn:"root",factory:()=>Hn(yb,gn.Optional|gn.SkipSelf)||function EE(){return"undefined"!=typeof $localize&&$localize.locale||j0}()}),bb=new oi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ww{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let DE=(()=>{class s{compileModuleSync(d){return new U1(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),v=Xo(Dn(d).declarations).reduce((T,I)=>{const F=Gn(I);return F&&T.push(new L1(F)),T},[]);return new Ww(f,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=Ln({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xE=(()=>Promise.resolve(0))();function Cb(s){"undefined"==typeof Zone?xE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class zu{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zu(!1),this.onMicrotaskEmpty=new Zu(!1),this.onStable=new Zu(!1),this.onError=new Zu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&d,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function AE(){let s=Qt.requestAnimationFrame,a=Qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function PE(s){const a=()=>{!function $w(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Qt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,wb(s),s.isCheckStableRunning=!0,vy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),wb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,m,v,T,I)=>{try{return Kw(s),d.invokeTask(m,v,T,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||s.shouldCoalesceRunChangeDetection)&&a(),Jw(s)}},onInvoke:(d,f,m,v,T,I,F)=>{try{return Kw(s),d.invoke(m,v,T,I,F)}finally{s.shouldCoalesceRunChangeDetection&&a(),Jw(s)}},onHasTask:(d,f,m,v)=>{d.hasTask(m,v),f===m&&("microTask"==v.change?(s._hasPendingMicrotasks=v.microTask,wb(s),vy(s)):"macroTask"==v.change&&(s.hasPendingMacrotasks=v.macroTask))},onHandleError:(d,f,m,v)=>(d.handleError(m,v),s.runOutsideAngular(()=>s.onError.emit(v)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,d,f){return this._inner.run(a,d,f)}runTask(a,d,f,m){const v=this._inner,T=v.scheduleEventTask("NgZoneEvent: "+m,a,IE,Xl,Xl);try{return v.runTask(T,d,f)}finally{v.cancelTask(T)}}runGuarded(a,d,f){return this._inner.runGuarded(a,d,f)}runOutsideAngular(a){return this._outer.run(a)}}const IE={};function vy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function wb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Kw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Jw(s){s._nesting--,vy(s)}class Yw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zu,this.onMicrotaskEmpty=new Zu,this.onStable=new Zu,this.onError=new Zu}run(a,d,f){return a.apply(d,f)}runGuarded(a,d,f){return a.apply(d,f)}runOutsideAngular(a){return a()}runTask(a,d,f,m){return a.apply(d,f)}}let Qw=(()=>{class s{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zu.assertNotInAngularZone(),Cb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cb(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==v),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,f,m){return[]}}return s.\u0275fac=function(d){return new(d||s)(Yt(zu))},s.\u0275prov=Ln({token:s,factory:s.\u0275fac}),s})(),Xw=(()=>{class s{constructor(){this._applications=new Map,Tb.addToWindow(this)}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return Tb.findTestabilityInTree(this,d,f)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=Ln({token:s,factory:s.\u0275fac}),s})();class eT{addToWindow(a){}findTestabilityInTree(a,d,f){return null}}function OE(s){Tb=s}let Wu,Tb=new eT;const nT=new oi("AllowMultipleToken");class NE{constructor(a,d){this.name=a,this.token=d}}function os(s,a,d=[]){const f=`Platform: ${a}`,m=new oi(f);return(v=[])=>{let T=rT();if(!T||T.injector.get(nT,!1))if(s)s(d.concat(v).concat({provide:m,useValue:!0}));else{const I=d.concat(v).concat({provide:m,useValue:!0},{provide:ec,useValue:"platform"});!function RE(s){if(Wu&&!Wu.destroyed&&!Wu.injector.get(nT,!1))throw new Ge(400,"");Wu=s.get(iT);const a=s.get(cv,null);a&&a.forEach(d=>d())}(Ca.create({providers:I,name:f}))}return function kE(s){const a=rT();if(!a)throw new Ge(401,"");return a}()}}function rT(){return Wu&&!Wu.destroyed?Wu:null}let iT=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const I=function lv(s,a){let d;return d="noop"===s?new Yw:("zone.js"===s?void 0:s)||new zu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),d}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),F=[{provide:zu,useValue:I}];return I.run(()=>{const H=Ca.create({providers:F,parent:this.injector,name:d.moduleType.name}),X=d.create(H),Ee=X.injector.get(Os,null);if(!Ee)throw new Ge(402,"");return I.runOutsideAngular(()=>{const Be=I.onError.subscribe({next:nt=>{Ee.handleError(nt)}});X.onDestroy(()=>{by(this._modules,X),Be.unsubscribe()})}),function Eb(s,a,d){try{const f=d();return dp(f)?f.catch(m=>{throw a.runOutsideAngular(()=>s.handleError(m)),m}):f}catch(f){throw a.runOutsideAngular(()=>s.handleError(f)),f}}(Ee,I,()=>{const Be=X.injector.get(Ug);return Be.runInitializers(),Be.donePromise.then(()=>(function ul(s){(function wt(s,a){null==s&&mt(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Jv=s.toLowerCase().replace(/_/g,"-"))}(X.injector.get(yb,j0)||j0),this._moduleDoBootstrap(X),X))})})}bootstrapModule(d,f=[]){const m=Db({},f);return function ME(s,a,d){const f=new U1(d);return Promise.resolve(f)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,m))}_moduleDoBootstrap(d){const f=d.injector.get(yy);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new Ge(403,"");d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(d){return new(d||s)(Yt(Ca))},s.\u0275prov=Ln({token:s,factory:s.\u0275fac}),s})();function Db(s,a){return Array.isArray(a)?a.reduce(Db,s):Object.assign(Object.assign({},s),a)}let yy=(()=>{class s{constructor(d,f,m,v,T){this._zone=d,this._injector=f,this._exceptionHandler=m,this._componentFactoryResolver=v,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new E.y(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),F=new E.y(H=>{let X;this._zone.runOutsideAngular(()=>{X=this._zone.onStable.subscribe(()=>{zu.assertNotInAngularZone(),Cb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const Ee=this._zone.onUnstable.subscribe(()=>{zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{X.unsubscribe(),Ee.unsubscribe()}});this.isStable=(0,R.T)(I,F.pipe((0,P.B)()))}bootstrap(d,f){if(!this._initStatus.done)throw new Ge(405,"");let m;m=d instanceof A1?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(m.componentType);const v=function tT(s){return s.isBoundToModule}(m)?void 0:this._injector.get(Rg),I=m.create(Ca.NULL,[],f||m.selector,v),F=I.location.nativeElement,H=I.injector.get(Qw,null),X=H&&I.injector.get(Xw);return H&&X&&X.registerApplication(F,H),I.onDestroy(()=>{this.detachView(I.hostView),by(this.components,I),X&&X.unregisterApplication(F)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Ge(101,"");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;by(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(rf,[]).concat(this._bootstrapListeners).forEach(m=>m(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(d){return new(d||s)(Yt(zu),Yt(Ca),Yt(Os),Yt(Y0),Yt(Ug))},s.\u0275prov=Ln({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function by(s,a){const d=s.indexOf(a);d>-1&&s.splice(d,1)}let Ab=!1;function oT(){return Ab=!0,true}let sT=(()=>{class s{}return s.__NG_ELEMENT_ID__=aT,s})();function aT(s){return function cT(s,a,d){if(Mr(s)&&!d){const f=co(s.index,a);return new T_(f,f)}return 47&s.type?new T_(a[16],a):null}(ci(),Mt(),16==(16&s))}class fT{constructor(){}supports(a){return pg(a)}create(a){return new pT(a)}}const ZE=(s,a)=>a;class pT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||ZE}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,f=this._removalsHead,m=0,v=null;for(;d||f;){const T=!f||d&&d.currentIndex<mT(f,m,v)?d:f,I=mT(T,m,v),F=T.currentIndex;if(T===f)m--,f=f._nextRemoved;else if(d=d._next,null==T.previousIndex)m++;else{v||(v=[]);const H=I-m,X=F-m;if(H!=X){for(let Be=0;Be<H;Be++){const nt=Be<v.length?v[Be]:v[Be]=0,Et=nt+Be;X<=Et&&Et<H&&(v[Be]=nt+1)}v[T.previousIndex]=X-H}}I!==F&&a(T,I,F)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!pg(a))throw new Ge(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,v,T,d=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let I=0;I<this.length;I++)v=a[I],T=this._trackByFn(I,v),null!==d&&Object.is(d.trackById,T)?(f&&(d=this._verifyReinsertion(d,v,T,I)),Object.is(d.item,v)||this._addIdentityChange(d,v)):(d=this._mismatch(d,v,T,I),f=!0),d=d._next}else m=0,function jd(s,a){if(Array.isArray(s))for(let d=0;d<s.length;d++)a(s[d]);else{const d=s[rp()]();let f;for(;!(f=d.next()).done;)a(f.value)}}(a,I=>{T=this._trackByFn(m,I),null!==d&&Object.is(d.trackById,T)?(f&&(d=this._verifyReinsertion(d,I,T,m)),Object.is(d.item,I)||this._addIdentityChange(d,I)):(d=this._mismatch(d,I,T,m),f=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,f,m){let v;return null===a?v=this._itTail:(v=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,v,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,v,m)):a=this._addAfter(new zE(d,f),v,m),a}_verifyReinsertion(a,d,f,m){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==v?a=this._reinsertAfter(v,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,v=a._nextRemoved;return null===m?this._removalsHead=v:m._nextRemoved=v,null===v?this._removalsTail=m:v._prevRemoved=m,this._insertAfter(a,d,f),this._addToMoves(a,f),a}_moveAfter(a,d,f){return this._unlink(a),this._insertAfter(a,d,f),this._addToMoves(a,f),a}_addAfter(a,d,f){return this._insertAfter(a,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,f){const m=null===d?this._itHead:d._next;return a._next=m,a._prev=d,null===m?this._itTail=a:m._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new gT),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,f=a._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gT),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class zE{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WE{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const d=a._prevDup,f=a._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class gT{constructor(){this.map=new Map}put(a){const d=a.trackById;let f=this.map.get(d);f||(f=new WE,this.map.set(d,f)),f.add(a)}get(a,d){const m=this.map.get(a);return m?m.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mT(s,a,d){const f=s.previousIndex;if(null===f)return f;let m=0;return d&&f<d.length&&(m=d[f]),f+a+m}class _T{constructor(){}supports(a){return a instanceof Map||ip(a)}create(){return new $E}}class $E{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||ip(a)))throw new Ge(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const v=this._getOrCreateRecordForKey(m,f);d=this._insertBeforeOrAppend(d,v)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const f=a._prev;return d._next=a,d._prev=f,a._prev=d,f&&(f._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,d);const v=m._prev,T=m._next;return v&&(v._next=T),T&&(T._prev=v),m._next=null,m._prev=null,m}const f=new kb(a);return this._records.set(a,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(f=>d(a[f],f))}}class kb{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vT(){return new Tc([new fT])}let Tc=(()=>{class s{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new s(d)}static extend(d){return{provide:s,useFactory:f=>s.create(d,f||vT()),deps:[[s,new ni,new uo]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new Ge(901,"")}}return s.\u0275prov=Ln({token:s,providedIn:"root",factory:vT}),s})();function uv(){return new dv([new _T])}let dv=(()=>{class s{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new s(d)}static extend(d){return{provide:s,useFactory:f=>s.create(d,f||uv()),deps:[[s,new ni,new uo]]}}find(d){const f=this.factories.find(v=>v.supports(d));if(f)return f;throw new Ge(901,"")}}return s.\u0275prov=Ln({token:s,providedIn:"root",factory:uv}),s})();const I_=os(null,"core",[{provide:my,useValue:"unknown"},{provide:iT,deps:[Ca]},{provide:Xw,deps:[]},{provide:_y,deps:[]}]);let hv=(()=>{class s{constructor(d){}}return s.\u0275fac=function(d){return new(d||s)(Yt(yy))},s.\u0275mod=Le({type:s}),s.\u0275inj=ir({}),s})()},3942:(tt,A,O)=>{"use strict";O.d(A,{Z:()=>Ge});var e=O(2090),C=O(4859),E=O(9681),R=O(1877);class P{constructor(le,Oe){this._delegate=le,this.firebase=Oe,(0,E._addComponent)(le,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,E.deleteApp)(this._delegate)))}_getService(le,Oe=E._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(le);return!rt.isInitialized()&&"EXPLICIT"===(null===(De=rt.getComponent())||void 0===De?void 0:De.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Oe})}_removeServiceInstance(le,Oe=E._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(Oe)}_addComponent(le){(0,E._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,E._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function Y(){const lt=function W(lt){const le={},Oe={__esModule:!0,initializeApp:function Ue(Ie,it={}){const se=E.initializeApp(Ie,it);if((0,e.r3)(le,se.name))return le[se.name];const oe=new lt(se,Oe);return le[se.name]=oe,oe},app:rt,registerVersion:E.registerVersion,setLogLevel:E.setLogLevel,onLog:E.onLog,apps:null,SDK_VERSION:E.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Ie){const it=Ie.name,se=it.replace("-compat","");if(E._registerComponent(Ie)&&"PUBLIC"===Ie.type){const oe=(Q=rt())=>{if("function"!=typeof Q[se])throw q.create("invalid-app-argument",{appName:it});return Q[se]()};void 0!==Ie.serviceProps&&(0,e.ZB)(oe,Ie.serviceProps),Oe[se]=oe,lt.prototype[se]=function(...Q){return this._getService.bind(this,it).apply(this,Ie.multipleInstances?Q:[])}}return"PUBLIC"===Ie.type?Oe[se]:null},removeApp:function De(Ie){delete le[Ie]},useAsService:function He(Ie,it){return"serverAuth"===it?null:it},modularAPIs:E}};function rt(Ie){if(!(0,e.r3)(le,Ie=Ie||E._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:Ie});return le[Ie]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function Ze(){return Object.keys(le).map(Ie=>le[Ie])}}),rt.App=lt,Oe}(P);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function le(Oe){(0,e.ZB)(lt,Oe)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),lt}(),ne=new R.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=$;!function qe(lt){(0,E.registerVersion)("@firebase/app-compat","0.1.20",lt)}()},9681:(tt,A,O)=>{"use strict";O.r(A),O.d(A,{FirebaseError:()=>R.ZR,SDK_VERSION:()=>Bi,_DEFAULT_ENTRY_NAME:()=>pn,_addComponent:()=>an,_addOrOverwriteComponent:()=>er,_apps:()=>mt,_clearComponents:()=>Yn,_components:()=>At,_getProvider:()=>vr,_registerComponent:()=>Ln,_removeServiceInstance:()=>ir,deleteApp:()=>Di,getApp:()=>Lr,getApps:()=>jr,initializeApp:()=>Ti,onLog:()=>Vr,registerVersion:()=>Fi,setLogLevel:()=>Zr});var e=O(5861),C=O(4859),E=O(1877),R=O(2090);class P{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function V(Tt){const et=Tt.getComponent();return"VERSION"===(null==et?void 0:et.type)}(jt)){const Wt=jt.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(jt=>jt).join(" ")}}const q="@firebase/app",W="0.7.19",Y=new E.Yd("@firebase/app"),pn="[DEFAULT]",wt={[q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,At=new Map;function an(Tt,et){try{Tt.container.addComponent(et)}catch(jt){Y.debug(`Component ${et.name} failed to register with FirebaseApp ${Tt.name}`,jt)}}function er(Tt,et){Tt.container.addOrOverwriteComponent(et)}function Ln(Tt){const et=Tt.name;if(At.has(et))return Y.debug(`There were multiple attempts to register component ${et}.`),!1;At.set(et,Tt);for(const jt of mt.values())an(jt,Tt);return!0}function vr(Tt,et){const jt=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return jt&&jt.triggerHeartbeat(),Tt.container.getProvider(et)}function ir(Tt,et,jt=pn){vr(Tt,et).clearInstance(jt)}function Yn(){At.clear()}const mr=new R.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ir{constructor(et,jt,Wt){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},jt),this._name=jt.name,this._automaticDataCollectionEnabled=jt.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Bi="9.6.9";function Ti(Tt,et={}){"object"!=typeof et&&(et={name:et});const jt=Object.assign({name:pn,automaticDataCollectionEnabled:!1},et),Wt=jt.name;if("string"!=typeof Wt||!Wt)throw mr.create("bad-app-name",{appName:String(Wt)});const An=mt.get(Wt);if(An){if((0,R.vZ)(Tt,An.options)&&(0,R.vZ)(jt,An.config))return An;throw mr.create("duplicate-app",{appName:Wt})}const vn=new C.H0(Wt);for(const pe of At.values())vn.addComponent(pe);const ye=new Ir(Tt,jt,vn);return mt.set(Wt,ye),ye}function Lr(Tt=pn){const et=mt.get(Tt);if(!et)throw mr.create("no-app",{appName:Tt});return et}function jr(){return Array.from(mt.values())}function Di(Tt){return gn.apply(this,arguments)}function gn(){return(gn=(0,e.Z)(function*(Tt){const et=Tt.name;mt.has(et)&&(mt.delete(et),yield Promise.all(Tt.container.getProviders().map(jt=>jt.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function Fi(Tt,et,jt){var Wt;let An=null!==(Wt=wt[Tt])&&void 0!==Wt?Wt:Tt;jt&&(An+=`-${jt}`);const vn=An.match(/\s|\//),ye=et.match(/\s|\//);if(vn||ye){const pe=[`Unable to register library "${An}" with version "${et}":`];return vn&&pe.push(`library name "${An}" contains illegal characters (whitespace or "/")`),vn&&ye&&pe.push("and"),ye&&pe.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void Y.warn(pe.join(" "))}Ln(new C.wA(`${An}-version`,()=>({library:An,version:et}),"VERSION"))}function Vr(Tt,et){if(null!==Tt&&"function"!=typeof Tt)throw mr.create("invalid-log-argument");(0,E.Am)(Tt,et)}function Zr(Tt){(0,E.Ub)(Tt)}const ct="firebase-heartbeat-store";let Xe=null;function vt(){return Xe||(Xe=(0,R.X3)("firebase-heartbeat-database",1,(Tt,et)=>{0===et&&Tt.createObjectStore(ct)}).catch(Tt=>{throw mr.create("storage-open",{originalErrorMessage:Tt.message})})),Xe}function Pt(){return(Pt=(0,e.Z)(function*(Tt){try{return(yield vt()).transaction(ct).objectStore(ct).get(mn(Tt))}catch(et){throw mr.create("storage-get",{originalErrorMessage:et.message})}})).apply(this,arguments)}function Ct(Tt,et){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,e.Z)(function*(Tt,et){try{const Wt=(yield vt()).transaction(ct,"readwrite");return yield Wt.objectStore(ct).put(et,mn(Tt)),Wt.complete}catch(jt){throw mr.create("storage-set",{originalErrorMessage:jt.message})}})).apply(this,arguments)}function mn(Tt){return`${Tt.name}!${Tt.options.appId}`}class Pn{constructor(et){this.container=et,this._heartbeatsCache=null;const jt=this.container.getProvider("app").getImmediate();this._storage=new Ht(jt),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var et=this;return(0,e.Z)(function*(){const Wt=et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),An=Cn();if(null===et._heartbeatsCache&&(et._heartbeatsCache=yield et._heartbeatsCachePromise),et._heartbeatsCache.lastSentHeartbeatDate!==An&&!et._heartbeatsCache.heartbeats.some(vn=>vn.date===An))return et._heartbeatsCache.heartbeats.push({date:An,agent:Wt}),et._heartbeatsCache.heartbeats=et._heartbeatsCache.heartbeats.filter(vn=>{const ye=new Date(vn.date).valueOf();return Date.now()-ye<=2592e6}),et._storage.overwrite(et._heartbeatsCache)})()}getHeartbeatsHeader(){var et=this;return(0,e.Z)(function*(){if(null===et._heartbeatsCache&&(yield et._heartbeatsCachePromise),null===et._heartbeatsCache||0===et._heartbeatsCache.heartbeats.length)return"";const jt=Cn(),{heartbeatsToSend:Wt,unsentEntries:An}=function Wn(Tt,et=1024){const jt=[];let Wt=Tt.slice();for(const An of Tt){const vn=jt.find(ye=>ye.agent===An.agent);if(vn){if(vn.dates.push(An.date),br(jt)>et){vn.dates.pop();break}}else if(jt.push({agent:An.agent,dates:[An.date]}),br(jt)>et){jt.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:jt,unsentEntries:Wt}}(et._heartbeatsCache.heartbeats),vn=(0,R.L)(JSON.stringify({version:2,heartbeats:Wt}));return et._heartbeatsCache.lastSentHeartbeatDate=jt,An.length>0?(et._heartbeatsCache.heartbeats=An,yield et._storage.overwrite(et._heartbeatsCache)):(et._heartbeatsCache.heartbeats=[],et._storage.overwrite(et._heartbeatsCache)),vn})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class Ht{constructor(et){this.app=et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,R.hl)()&&(0,R.eu)().then(()=>!0).catch(()=>!1)})()}read(){var et=this;return(0,e.Z)(function*(){return(yield et._canUseIndexedDBPromise)&&(yield function kt(Tt){return Pt.apply(this,arguments)}(et.app))||{heartbeats:[]}})()}overwrite(et){var jt=this;return(0,e.Z)(function*(){var Wt;if(yield jt._canUseIndexedDBPromise){const vn=yield jt.read();return Ct(jt.app,{lastSentHeartbeatDate:null!==(Wt=et.lastSentHeartbeatDate)&&void 0!==Wt?Wt:vn.lastSentHeartbeatDate,heartbeats:et.heartbeats})}})()}add(et){var jt=this;return(0,e.Z)(function*(){var Wt;if(yield jt._canUseIndexedDBPromise){const vn=yield jt.read();return Ct(jt.app,{lastSentHeartbeatDate:null!==(Wt=et.lastSentHeartbeatDate)&&void 0!==Wt?Wt:vn.lastSentHeartbeatDate,heartbeats:[...vn.heartbeats,...et.heartbeats]})}})()}}function br(Tt){return(0,R.L)(JSON.stringify({version:2,heartbeats:Tt})).length}!function En(Tt){Ln(new C.wA("platform-logger",et=>new P(et),"PRIVATE")),Ln(new C.wA("heartbeat",et=>new Pn(et),"PRIVATE")),Fi(q,W,Tt),Fi(q,W,"esm2017"),Fi("fire-js","")}("")},4859:(tt,A,O)=>{"use strict";O.d(A,{H0:()=>W,wA:()=>E});var e=O(5861),C=O(2090);class E{constructor($,ne,ae){this.name=$,this.instanceFactory=ne,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const R="[DEFAULT]";class P{constructor($,ne){this.name=$,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const ne=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(ne)){const ae=new C.BH;if(this.instancesDeferred.set(ne,ae),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:ne});Ye&&ae.resolve(Ye)}catch(Ye){}}return this.instancesDeferred.get(ne).promise}getImmediate($){var ne;const ae=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ye=null!==(ne=null==$?void 0:$.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(qe){if(Ye)return null;throw qe}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function q(Y){return"EAGER"===Y.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:R})}catch(ne){}for(const[ne,ae]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(ne);try{const qe=this.getOrInitializeService({instanceIdentifier:Ye});ae.resolve(qe)}catch(qe){}}}}clearInstance($=R){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,e.Z)(function*(){const ne=Array.from($.instances.values());yield Promise.all([...ne.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...ne.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=R){return this.instances.has($)}getOptions($=R){return this.instancesOptions.get($)||{}}initialize($={}){const{options:ne={}}=$,ae=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:ae,options:ne});for(const[qe,Ge]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(qe)&&Ge.resolve(Ye);return Ye}onInit($,ne){var ae;const Ye=this.normalizeInstanceIdentifier(ne),qe=null!==(ae=this.onInitCallbacks.get(Ye))&&void 0!==ae?ae:new Set;qe.add($),this.onInitCallbacks.set(Ye,qe);const Ge=this.instances.get(Ye);return Ge&&$(Ge,Ye),()=>{qe.delete($)}}invokeOnInitCallbacks($,ne){const ae=this.onInitCallbacks.get(ne);if(ae)for(const Ye of ae)try{Ye($,ne)}catch(qe){}}getOrInitializeService({instanceIdentifier:$,options:ne={}}){let ae=this.instances.get($);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Y=$,Y===R?void 0:Y),options:ne}),this.instances.set($,ae),this.instancesOptions.set($,ne),this.invokeOnInitCallbacks(ae,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,ae)}catch(Ye){}var Y;return ae||null}normalizeInstanceIdentifier($=R){return this.component?this.component.multipleInstances?$:R:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor($){this.name=$,this.providers=new Map}addComponent($){const ne=this.getProvider($.name);if(ne.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);ne.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const ne=new P($,this);return this.providers.set($,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(tt,A,O)=>{"use strict";O.d(A,{Am:()=>Y,Ub:()=>W,Yd:()=>q,in:()=>C});const e=[];var C=(()=>{return($=C||(C={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",C;var $})();const E={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},R=C.INFO,P={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},V=($,ne,...ae)=>{if(ne<$.logLevel)return;const Ye=(new Date).toISOString(),qe=P[ne];if(!qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[qe](`[${Ye}]  ${$.name}:`,...ae)};class q{constructor(ne){this.name=ne,this._logLevel=R,this._logHandler=V,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in C))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?E[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...ne),this._logHandler(this,C.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...ne),this._logHandler(this,C.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,C.INFO,...ne),this._logHandler(this,C.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,C.WARN,...ne),this._logHandler(this,C.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...ne),this._logHandler(this,C.ERROR,...ne)}}function W($){e.forEach(ne=>{ne.setLogLevel($)})}function Y($,ne){for(const ae of e){let Ye=null;ne&&ne.level&&(Ye=E[ne.level]),ae.userLogHandler=null===$?null:(qe,Ge,...lt)=>{const le=lt.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch(De){return null}}).filter(Oe=>Oe).join(" ");Ge>=(null!=Ye?Ye:qe.logLevel)&&$({level:C[Ge].toLowerCase(),message:le,args:lt,type:qe.name})}}}},5861:(tt,A,O)=>{"use strict";function e(E,R,P,V,q,W,Y){try{var $=E[W](Y),ne=$.value}catch(ae){return void P(ae)}$.done?R(ne):Promise.resolve(ne).then(V,q)}function C(E){return function(){var R=this,P=arguments;return new Promise(function(V,q){var W=E.apply(R,P);function Y(ne){e(W,V,q,Y,$,"next",ne)}function $(ne){e(W,V,q,Y,$,"throw",ne)}Y(void 0)})}}O.d(A,{Z:()=>C})}},tt=>{tt(tt.s=6064)}]);